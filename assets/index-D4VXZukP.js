var Af=Object.defineProperty;var If=(l,i,a)=>i in l?Af(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a;var ic=(l,i,a)=>If(l,typeof i!="symbol"?i+"":i,a);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))f(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&f(p)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function Ff(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Zi={exports:{}},Br={},bi={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc;function zf(){if(sc)return le;sc=1;var l=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,V={};function U(E,N,ee){this.props=E,this.context=N,this.refs=V,this.updater=ee||I}U.prototype.isReactComponent={},U.prototype.setState=function(E,N){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,N,"setState")},U.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function z(){}z.prototype=U.prototype;function $(E,N,ee){this.props=E,this.context=N,this.refs=V,this.updater=ee||I}var W=$.prototype=new z;W.constructor=$,M(W,U.prototype),W.isPureReactComponent=!0;var G=Array.isArray,b=Object.prototype.hasOwnProperty,re={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function ie(E,N,ee){var oe,ae={},ce=null,ve=null;if(N!=null)for(oe in N.ref!==void 0&&(ve=N.ref),N.key!==void 0&&(ce=""+N.key),N)b.call(N,oe)&&!B.hasOwnProperty(oe)&&(ae[oe]=N[oe]);var me=arguments.length-2;if(me===1)ae.children=ee;else if(1<me){for(var xe=Array(me),lt=0;lt<me;lt++)xe[lt]=arguments[lt+2];ae.children=xe}if(E&&E.defaultProps)for(oe in me=E.defaultProps,me)ae[oe]===void 0&&(ae[oe]=me[oe]);return{$$typeof:l,type:E,key:ce,ref:ve,props:ae,_owner:re.current}}function he(E,N){return{$$typeof:l,type:E.type,key:N,ref:E.ref,props:E.props,_owner:E._owner}}function Oe(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function Ye(E){var N={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ee){return N[ee]})}var De=/\/+/g;function Le(E,N){return typeof E=="object"&&E!==null&&E.key!=null?Ye(""+E.key):N.toString(36)}function fe(E,N,ee,oe,ae){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var ve=!1;if(E===null)ve=!0;else switch(ce){case"string":case"number":ve=!0;break;case"object":switch(E.$$typeof){case l:case i:ve=!0}}if(ve)return ve=E,ae=ae(ve),E=oe===""?"."+Le(ve,0):oe,G(ae)?(ee="",E!=null&&(ee=E.replace(De,"$&/")+"/"),fe(ae,N,ee,"",function(lt){return lt})):ae!=null&&(Oe(ae)&&(ae=he(ae,ee+(!ae.key||ve&&ve.key===ae.key?"":(""+ae.key).replace(De,"$&/")+"/")+E)),N.push(ae)),1;if(ve=0,oe=oe===""?".":oe+":",G(E))for(var me=0;me<E.length;me++){ce=E[me];var xe=oe+Le(ce,me);ve+=fe(ce,N,ee,xe,ae)}else if(xe=_(E),typeof xe=="function")for(E=xe.call(E),me=0;!(ce=E.next()).done;)ce=ce.value,xe=oe+Le(ce,me++),ve+=fe(ce,N,ee,xe,ae);else if(ce==="object")throw N=String(E),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return ve}function pe(E,N,ee){if(E==null)return E;var oe=[],ae=0;return fe(E,oe,"","",function(ce){return N.call(ee,ce,ae++)}),oe}function se(E){if(E._status===-1){var N=E._result;N=N(),N.then(function(ee){(E._status===0||E._status===-1)&&(E._status=1,E._result=ee)},function(ee){(E._status===0||E._status===-1)&&(E._status=2,E._result=ee)}),E._status===-1&&(E._status=0,E._result=N)}if(E._status===1)return E._result.default;throw E._result}var ne={current:null},L={transition:null},q={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:L,ReactCurrentOwner:re};function F(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:pe,forEach:function(E,N,ee){pe(E,function(){N.apply(this,arguments)},ee)},count:function(E){var N=0;return pe(E,function(){N++}),N},toArray:function(E){return pe(E,function(N){return N})||[]},only:function(E){if(!Oe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},le.Component=U,le.Fragment=a,le.Profiler=u,le.PureComponent=$,le.StrictMode=f,le.Suspense=y,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,le.act=F,le.cloneElement=function(E,N,ee){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var oe=M({},E.props),ae=E.key,ce=E.ref,ve=E._owner;if(N!=null){if(N.ref!==void 0&&(ce=N.ref,ve=re.current),N.key!==void 0&&(ae=""+N.key),E.type&&E.type.defaultProps)var me=E.type.defaultProps;for(xe in N)b.call(N,xe)&&!B.hasOwnProperty(xe)&&(oe[xe]=N[xe]===void 0&&me!==void 0?me[xe]:N[xe])}var xe=arguments.length-2;if(xe===1)oe.children=ee;else if(1<xe){me=Array(xe);for(var lt=0;lt<xe;lt++)me[lt]=arguments[lt+2];oe.children=me}return{$$typeof:l,type:E.type,key:ae,ref:ce,props:oe,_owner:ve}},le.createContext=function(E){return E={$$typeof:p,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:d,_context:E},E.Consumer=E},le.createElement=ie,le.createFactory=function(E){var N=ie.bind(null,E);return N.type=E,N},le.createRef=function(){return{current:null}},le.forwardRef=function(E){return{$$typeof:m,render:E}},le.isValidElement=Oe,le.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:se}},le.memo=function(E,N){return{$$typeof:k,type:E,compare:N===void 0?null:N}},le.startTransition=function(E){var N=L.transition;L.transition={};try{E()}finally{L.transition=N}},le.unstable_act=F,le.useCallback=function(E,N){return ne.current.useCallback(E,N)},le.useContext=function(E){return ne.current.useContext(E)},le.useDebugValue=function(){},le.useDeferredValue=function(E){return ne.current.useDeferredValue(E)},le.useEffect=function(E,N){return ne.current.useEffect(E,N)},le.useId=function(){return ne.current.useId()},le.useImperativeHandle=function(E,N,ee){return ne.current.useImperativeHandle(E,N,ee)},le.useInsertionEffect=function(E,N){return ne.current.useInsertionEffect(E,N)},le.useLayoutEffect=function(E,N){return ne.current.useLayoutEffect(E,N)},le.useMemo=function(E,N){return ne.current.useMemo(E,N)},le.useReducer=function(E,N,ee){return ne.current.useReducer(E,N,ee)},le.useRef=function(E){return ne.current.useRef(E)},le.useState=function(E){return ne.current.useState(E)},le.useSyncExternalStore=function(E,N,ee){return ne.current.useSyncExternalStore(E,N,ee)},le.useTransition=function(){return ne.current.useTransition()},le.version="18.3.1",le}var ac;function is(){return ac||(ac=1,bi.exports=zf()),bi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc;function Bf(){if(uc)return Br;uc=1;var l=is(),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(m,y,k){var w,x={},_=null,I=null;k!==void 0&&(_=""+k),y.key!==void 0&&(_=""+y.key),y.ref!==void 0&&(I=y.ref);for(w in y)f.call(y,w)&&!d.hasOwnProperty(w)&&(x[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)x[w]===void 0&&(x[w]=y[w]);return{$$typeof:i,type:m,key:_,ref:I,props:x,_owner:u.current}}return Br.Fragment=a,Br.jsx=p,Br.jsxs=p,Br}var cc;function Uf(){return cc||(cc=1,Zi.exports=Bf()),Zi.exports}var h=Uf(),R=is();const xc=Ff(R);var nl={},es={exports:{}},nt={},ts={exports:{}},ns={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc;function $f(){return dc||(dc=1,function(l){function i(L,q){var F=L.length;L.push(q);e:for(;0<F;){var E=F-1>>>1,N=L[E];if(0<u(N,q))L[E]=q,L[F]=N,F=E;else break e}}function a(L){return L.length===0?null:L[0]}function f(L){if(L.length===0)return null;var q=L[0],F=L.pop();if(F!==q){L[0]=F;e:for(var E=0,N=L.length,ee=N>>>1;E<ee;){var oe=2*(E+1)-1,ae=L[oe],ce=oe+1,ve=L[ce];if(0>u(ae,F))ce<N&&0>u(ve,ae)?(L[E]=ve,L[ce]=F,E=ce):(L[E]=ae,L[oe]=F,E=oe);else if(ce<N&&0>u(ve,F))L[E]=ve,L[ce]=F,E=ce;else break e}}return q}function u(L,q){var F=L.sortIndex-q.sortIndex;return F!==0?F:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,m=p.now();l.unstable_now=function(){return p.now()-m}}var y=[],k=[],w=1,x=null,_=3,I=!1,M=!1,V=!1,U=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(L){for(var q=a(k);q!==null;){if(q.callback===null)f(k);else if(q.startTime<=L)f(k),q.sortIndex=q.expirationTime,i(y,q);else break;q=a(k)}}function G(L){if(V=!1,W(L),!M)if(a(y)!==null)M=!0,se(b);else{var q=a(k);q!==null&&ne(G,q.startTime-L)}}function b(L,q){M=!1,V&&(V=!1,z(ie),ie=-1),I=!0;var F=_;try{for(W(q),x=a(y);x!==null&&(!(x.expirationTime>q)||L&&!Ye());){var E=x.callback;if(typeof E=="function"){x.callback=null,_=x.priorityLevel;var N=E(x.expirationTime<=q);q=l.unstable_now(),typeof N=="function"?x.callback=N:x===a(y)&&f(y),W(q)}else f(y);x=a(y)}if(x!==null)var ee=!0;else{var oe=a(k);oe!==null&&ne(G,oe.startTime-q),ee=!1}return ee}finally{x=null,_=F,I=!1}}var re=!1,B=null,ie=-1,he=5,Oe=-1;function Ye(){return!(l.unstable_now()-Oe<he)}function De(){if(B!==null){var L=l.unstable_now();Oe=L;var q=!0;try{q=B(!0,L)}finally{q?Le():(re=!1,B=null)}}else re=!1}var Le;if(typeof $=="function")Le=function(){$(De)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,pe=fe.port2;fe.port1.onmessage=De,Le=function(){pe.postMessage(null)}}else Le=function(){U(De,0)};function se(L){B=L,re||(re=!0,Le())}function ne(L,q){ie=U(function(){L(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(L){L.callback=null},l.unstable_continueExecution=function(){M||I||(M=!0,se(b))},l.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<L?Math.floor(1e3/L):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_getFirstCallbackNode=function(){return a(y)},l.unstable_next=function(L){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var F=_;_=q;try{return L()}finally{_=F}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=_;_=L;try{return q()}finally{_=F}},l.unstable_scheduleCallback=function(L,q,F){var E=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?E+F:E):F=E,L){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=F+N,L={id:w++,callback:q,priorityLevel:L,startTime:F,expirationTime:N,sortIndex:-1},F>E?(L.sortIndex=F,i(k,L),a(y)===null&&L===a(k)&&(V?(z(ie),ie=-1):V=!0,ne(G,F-E))):(L.sortIndex=N,i(y,L),M||I||(M=!0,se(b))),L},l.unstable_shouldYield=Ye,l.unstable_wrapCallback=function(L){var q=_;return function(){var F=_;_=q;try{return L.apply(this,arguments)}finally{_=F}}}}(ns)),ns}var fc;function Gf(){return fc||(fc=1,ts.exports=$f()),ts.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc;function Wf(){if(pc)return nt;pc=1;var l=is(),i=Gf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,u={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(u[e]=t,e=0;e<t.length;e++)f.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function _(e){return y.call(x,e)?!0:y.call(w,e)?!1:k.test(e)?x[e]=!0:(w[e]=!0,!1)}function I(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,t,n,r){if(t===null||typeof t>"u"||I(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function V(e,t,n,r,o,s,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=c}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){U[e]=new V(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];U[t]=new V(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){U[e]=new V(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){U[e]=new V(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){U[e]=new V(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){U[e]=new V(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){U[e]=new V(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){U[e]=new V(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){U[e]=new V(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,$);U[t]=new V(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,$);U[t]=new V(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,$);U[t]=new V(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){U[e]=new V(e,1,!1,e.toLowerCase(),null,!1,!1)}),U.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){U[e]=new V(e,1,!1,e.toLowerCase(),null,!0,!0)});function W(e,t,n,r){var o=U.hasOwnProperty(t)?U[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(M(t,n,o,r)&&(n=null),r||o===null?_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var G=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),re=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Ye=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),L=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,E;function N(e){if(E===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var ee=!1;function oe(e,t){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var r=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){r=P}e.call(t.prototype)}else{try{throw Error()}catch(P){r=P}e()}}catch(P){if(P&&r&&typeof P.stack=="string"){for(var o=P.stack.split(`
`),s=r.stack.split(`
`),c=o.length-1,g=s.length-1;1<=c&&0<=g&&o[c]!==s[g];)g--;for(;1<=c&&0<=g;c--,g--)if(o[c]!==s[g]){if(c!==1||g!==1)do if(c--,g--,0>g||o[c]!==s[g]){var v=`
`+o[c].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=c&&0<=g);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function ae(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case re:return"Portal";case he:return"Profiler";case ie:return"StrictMode";case Le:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ye:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case De:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=xe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hr(e){e._valueTracker||(e._valueTracker=lt(e))}function fs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ll(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ps(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=me(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hs(e,t){t=t.checked,t!=null&&W(e,"checked",t,!1)}function il(e,t){hs(e,t);var n=me(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&sl(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ms(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sl(e,t,n){(t!=="number"||qr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function Rn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+me(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gs(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(er(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:me(n)}}function vs(e,t){var n=me(t.value),r=me(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ys(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ss(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ss(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qr,ws=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bc=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){Bc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nr[t]=nr[e]})});function xs(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nr.hasOwnProperty(e)&&nr[e]?(""+t).trim():t+"px"}function Es(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=xs(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Uc=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,t){if(t){if(Uc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hl=null,On=null,Dn=null;function Cs(e){if(e=kr(e)){if(typeof hl!="function")throw Error(a(280));var t=e.stateNode;t&&(t=vo(t),hl(e.stateNode,e.type,t))}}function ks(e){On?Dn?Dn.push(e):Dn=[e]:On=e}function Ts(){if(On){var e=On,t=Dn;if(Dn=On=null,Cs(e),t)for(e=0;e<t.length;e++)Cs(t[e])}}function Ps(e,t){return e(t)}function _s(){}var ml=!1;function Ns(e,t,n){if(ml)return e(t,n);ml=!0;try{return Ps(e,t,n)}finally{ml=!1,(On!==null||Dn!==null)&&(_s(),Ts())}}function rr(e,t){var n=e.stateNode;if(n===null)return null;var r=vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var gl=!1;if(m)try{var or={};Object.defineProperty(or,"passive",{get:function(){gl=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{gl=!1}function $c(e,t,n,r,o,s,c,g,v){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(D){this.onError(D)}}var lr=!1,Yr=null,Xr=!1,vl=null,Gc={onError:function(e){lr=!0,Yr=e}};function Wc(e,t,n,r,o,s,c,g,v){lr=!1,Yr=null,$c.apply(Gc,arguments)}function Vc(e,t,n,r,o,s,c,g,v){if(Wc.apply(this,arguments),lr){if(lr){var P=Yr;lr=!1,Yr=null}else throw Error(a(198));Xr||(Xr=!0,vl=P)}}function fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rs(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Os(e){if(fn(e)!==e)throw Error(a(188))}function Hc(e){var t=e.alternate;if(!t){if(t=fn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Os(o),e;if(s===r)return Os(o),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=s;else{for(var c=!1,g=o.child;g;){if(g===n){c=!0,n=o,r=s;break}if(g===r){c=!0,r=o,n=s;break}g=g.sibling}if(!c){for(g=s.child;g;){if(g===n){c=!0,n=s,r=o;break}if(g===r){c=!0,r=s,n=o;break}g=g.sibling}if(!c)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Ds(e){return e=Hc(e),e!==null?js(e):null}function js(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=js(e);if(t!==null)return t;e=e.sibling}return null}var Ms=i.unstable_scheduleCallback,Ls=i.unstable_cancelCallback,qc=i.unstable_shouldYield,Qc=i.unstable_requestPaint,Pe=i.unstable_now,Yc=i.unstable_getCurrentPriorityLevel,yl=i.unstable_ImmediatePriority,As=i.unstable_UserBlockingPriority,Kr=i.unstable_NormalPriority,Xc=i.unstable_LowPriority,Is=i.unstable_IdlePriority,Jr=null,Nt=null;function Kc(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Jr,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:bc,Jc=Math.log,Zc=Math.LN2;function bc(e){return e>>>=0,e===0?32:31-(Jc(e)/Zc|0)|0}var Zr=64,br=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,c=n&268435455;if(c!==0){var g=c&~o;g!==0?r=ir(g):(s&=c,s!==0&&(r=ir(s)))}else c=n&~o,c!==0?r=ir(c):s!==0&&(r=ir(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),o=1<<n,r|=e[n],t&=~o;return r}function ed(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function td(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-xt(s),g=1<<c,v=o[c];v===-1?(!(g&n)||g&r)&&(o[c]=ed(g,t)):v<=t&&(e.expiredLanes|=g),s&=~g}}function Sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fs(){var e=Zr;return Zr<<=1,!(Zr&4194240)&&(Zr=64),e}function wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function nd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-xt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function xl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ge=0;function zs(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bs,El,Us,$s,Gs,Cl=!1,to=[],Wt=null,Vt=null,Ht=null,ar=new Map,ur=new Map,qt=[],rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ws(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(t.pointerId)}}function cr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=kr(t),t!==null&&El(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function od(e,t,n,r,o){switch(t){case"focusin":return Wt=cr(Wt,e,t,n,r,o),!0;case"dragenter":return Vt=cr(Vt,e,t,n,r,o),!0;case"mouseover":return Ht=cr(Ht,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ar.set(s,cr(ar.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,ur.set(s,cr(ur.get(s)||null,e,t,n,r,o)),!0}return!1}function Vs(e){var t=pn(e.target);if(t!==null){var n=fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Rs(n),t!==null){e.blockedOn=t,Gs(e.priority,function(){Us(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fl=r,n.target.dispatchEvent(r),fl=null}else return t=kr(n),t!==null&&El(t),e.blockedOn=n,!1;t.shift()}return!0}function Hs(e,t,n){no(e)&&n.delete(t)}function ld(){Cl=!1,Wt!==null&&no(Wt)&&(Wt=null),Vt!==null&&no(Vt)&&(Vt=null),Ht!==null&&no(Ht)&&(Ht=null),ar.forEach(Hs),ur.forEach(Hs)}function dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ld)))}function fr(e){function t(o){return dr(o,e)}if(0<to.length){dr(to[0],e);for(var n=1;n<to.length;n++){var r=to[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&dr(Wt,e),Vt!==null&&dr(Vt,e),Ht!==null&&dr(Ht,e),ar.forEach(t),ur.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Vs(n),n.blockedOn===null&&qt.shift()}var jn=G.ReactCurrentBatchConfig,ro=!0;function id(e,t,n,r){var o=ge,s=jn.transition;jn.transition=null;try{ge=1,kl(e,t,n,r)}finally{ge=o,jn.transition=s}}function sd(e,t,n,r){var o=ge,s=jn.transition;jn.transition=null;try{ge=4,kl(e,t,n,r)}finally{ge=o,jn.transition=s}}function kl(e,t,n,r){if(ro){var o=Tl(e,t,n,r);if(o===null)Gl(e,t,r,oo,n),Ws(e,r);else if(od(o,e,t,n,r))r.stopPropagation();else if(Ws(e,r),t&4&&-1<rd.indexOf(e)){for(;o!==null;){var s=kr(o);if(s!==null&&Bs(s),s=Tl(e,t,n,r),s===null&&Gl(e,t,r,oo,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Gl(e,t,r,null,n)}}var oo=null;function Tl(e,t,n,r){if(oo=null,e=pl(r),e=pn(e),e!==null)if(t=fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rs(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oo=e,null}function qs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yc()){case yl:return 1;case As:return 4;case Kr:case Xc:return 16;case Is:return 536870912;default:return 16}default:return 16}}var Qt=null,Pl=null,lo=null;function Qs(){if(lo)return lo;var e,t=Pl,n=t.length,r,o="value"in Qt?Qt.value:Qt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===o[s-r];r++);return lo=o.slice(e,1<r?1-r:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Ys(){return!1}function it(e){function t(n,r,o,s,c){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(s):s[g]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?so:Ys,this.isPropagationStopped=Ys,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=it(Mn),pr=F({},Mn,{view:0,detail:0}),ad=it(pr),Nl,Rl,hr,ao=F({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(Nl=e.screenX-hr.screenX,Rl=e.screenY-hr.screenY):Rl=Nl=0,hr=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),Xs=it(ao),ud=F({},ao,{dataTransfer:0}),cd=it(ud),dd=F({},pr,{relatedTarget:0}),Ol=it(dd),fd=F({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),pd=it(fd),hd=F({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),md=it(hd),gd=F({},Mn,{data:0}),Ks=it(gd),vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sd[e])?!!t[e]:!1}function Dl(){return wd}var xd=F({},pr,{key:function(e){if(e.key){var t=vd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ed=it(xd),Cd=F({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=it(Cd),kd=F({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),Td=it(kd),Pd=F({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=it(Pd),Nd=F({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rd=it(Nd),Od=[9,13,27,32],jl=m&&"CompositionEvent"in window,mr=null;m&&"documentMode"in document&&(mr=document.documentMode);var Dd=m&&"TextEvent"in window&&!mr,Zs=m&&(!jl||mr&&8<mr&&11>=mr),bs=" ",ea=!1;function ta(e,t){switch(e){case"keyup":return Od.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function jd(e,t){switch(e){case"compositionend":return na(t);case"keypress":return t.which!==32?null:(ea=!0,bs);case"textInput":return e=t.data,e===bs&&ea?null:e;default:return null}}function Md(e,t){if(Ln)return e==="compositionend"||!jl&&ta(e,t)?(e=Qs(),lo=Pl=Qt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zs&&t.locale!=="ko"?null:t.data;default:return null}}var Ld={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ld[e.type]:t==="textarea"}function oa(e,t,n,r){ks(r),t=ho(t,"onChange"),0<t.length&&(n=new _l("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,vr=null;function Ad(e){Ea(e,0)}function uo(e){var t=Bn(e);if(fs(t))return e}function Id(e,t){if(e==="change")return t}var la=!1;if(m){var Ml;if(m){var Ll="oninput"in document;if(!Ll){var ia=document.createElement("div");ia.setAttribute("oninput","return;"),Ll=typeof ia.oninput=="function"}Ml=Ll}else Ml=!1;la=Ml&&(!document.documentMode||9<document.documentMode)}function sa(){gr&&(gr.detachEvent("onpropertychange",aa),vr=gr=null)}function aa(e){if(e.propertyName==="value"&&uo(vr)){var t=[];oa(t,vr,e,pl(e)),Ns(Ad,t)}}function Fd(e,t,n){e==="focusin"?(sa(),gr=t,vr=n,gr.attachEvent("onpropertychange",aa)):e==="focusout"&&sa()}function zd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(vr)}function Bd(e,t){if(e==="click")return uo(t)}function Ud(e,t){if(e==="input"||e==="change")return uo(t)}function $d(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:$d;function yr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!y.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function ua(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var n=ua(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ua(n)}}function da(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?da(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fa(){for(var e=window,t=qr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qr(e.document)}return t}function Al(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gd(e){var t=fa(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(r!==null&&Al(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=ca(n,s);var c=ca(n,r);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wd=m&&"documentMode"in document&&11>=document.documentMode,An=null,Il=null,Sr=null,Fl=!1;function pa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fl||An==null||An!==qr(r)||(r=An,"selectionStart"in r&&Al(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&yr(Sr,r)||(Sr=r,r=ho(Il,"onSelect"),0<r.length&&(t=new _l("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function co(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var In={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},zl={},ha={};m&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function fo(e){if(zl[e])return zl[e];if(!In[e])return e;var t=In[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ha)return zl[e]=t[n];return e}var ma=fo("animationend"),ga=fo("animationiteration"),va=fo("animationstart"),ya=fo("transitionend"),Sa=new Map,wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Sa.set(e,t),d(t,[e])}for(var Bl=0;Bl<wa.length;Bl++){var Ul=wa[Bl],Vd=Ul.toLowerCase(),Hd=Ul[0].toUpperCase()+Ul.slice(1);Yt(Vd,"on"+Hd)}Yt(ma,"onAnimationEnd"),Yt(ga,"onAnimationIteration"),Yt(va,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(ya,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qd=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function xa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vc(r,t,void 0,e),e.currentTarget=null}function Ea(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var c=r.length-1;0<=c;c--){var g=r[c],v=g.instance,P=g.currentTarget;if(g=g.listener,v!==s&&o.isPropagationStopped())break e;xa(o,g,P),s=v}else for(c=0;c<r.length;c++){if(g=r[c],v=g.instance,P=g.currentTarget,g=g.listener,v!==s&&o.isPropagationStopped())break e;xa(o,g,P),s=v}}}if(Xr)throw e=vl,Xr=!1,vl=null,e}function Se(e,t){var n=t[Yl];n===void 0&&(n=t[Yl]=new Set);var r=e+"__bubble";n.has(r)||(Ca(t,e,2,!1),n.add(r))}function $l(e,t,n){var r=0;t&&(r|=4),Ca(n,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function xr(e){if(!e[po]){e[po]=!0,f.forEach(function(n){n!=="selectionchange"&&(qd.has(n)||$l(n,!1,e),$l(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,$l("selectionchange",!1,t))}}function Ca(e,t,n,r){switch(qs(t)){case 1:var o=id;break;case 4:o=sd;break;default:o=kl}n=o.bind(null,t,n,e),o=void 0,!gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var g=r.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var v=c.tag;if((v===3||v===4)&&(v=c.stateNode.containerInfo,v===o||v.nodeType===8&&v.parentNode===o))return;c=c.return}for(;g!==null;){if(c=pn(g),c===null)return;if(v=c.tag,v===5||v===6){r=s=c;continue e}g=g.parentNode}}r=r.return}Ns(function(){var P=s,D=pl(n),j=[];e:{var O=Sa.get(e);if(O!==void 0){var H=_l,Y=e;switch(e){case"keypress":if(io(n)===0)break e;case"keydown":case"keyup":H=Ed;break;case"focusin":Y="focus",H=Ol;break;case"focusout":Y="blur",H=Ol;break;case"beforeblur":case"afterblur":H=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Td;break;case ma:case ga:case va:H=pd;break;case ya:H=_d;break;case"scroll":H=ad;break;case"wheel":H=Rd;break;case"copy":case"cut":case"paste":H=md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Js}var X=(t&4)!==0,_e=!X&&e==="scroll",C=X?O!==null?O+"Capture":null:O;X=[];for(var S=P,T;S!==null;){T=S;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,C!==null&&(A=rr(S,C),A!=null&&X.push(Er(S,A,T)))),_e)break;S=S.return}0<X.length&&(O=new H(O,Y,null,n,D),j.push({event:O,listeners:X}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",O&&n!==fl&&(Y=n.relatedTarget||n.fromElement)&&(pn(Y)||Y[Lt]))break e;if((H||O)&&(O=D.window===D?D:(O=D.ownerDocument)?O.defaultView||O.parentWindow:window,H?(Y=n.relatedTarget||n.toElement,H=P,Y=Y?pn(Y):null,Y!==null&&(_e=fn(Y),Y!==_e||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(H=null,Y=P),H!==Y)){if(X=Xs,A="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(X=Js,A="onPointerLeave",C="onPointerEnter",S="pointer"),_e=H==null?O:Bn(H),T=Y==null?O:Bn(Y),O=new X(A,S+"leave",H,n,D),O.target=_e,O.relatedTarget=T,A=null,pn(D)===P&&(X=new X(C,S+"enter",Y,n,D),X.target=T,X.relatedTarget=_e,A=X),_e=A,H&&Y)t:{for(X=H,C=Y,S=0,T=X;T;T=Fn(T))S++;for(T=0,A=C;A;A=Fn(A))T++;for(;0<S-T;)X=Fn(X),S--;for(;0<T-S;)C=Fn(C),T--;for(;S--;){if(X===C||C!==null&&X===C.alternate)break t;X=Fn(X),C=Fn(C)}X=null}else X=null;H!==null&&ka(j,O,H,X,!1),Y!==null&&_e!==null&&ka(j,_e,Y,X,!0)}}e:{if(O=P?Bn(P):window,H=O.nodeName&&O.nodeName.toLowerCase(),H==="select"||H==="input"&&O.type==="file")var K=Id;else if(ra(O))if(la)K=Ud;else{K=zd;var J=Fd}else(H=O.nodeName)&&H.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(K=Bd);if(K&&(K=K(e,P))){oa(j,K,n,D);break e}J&&J(e,O,P),e==="focusout"&&(J=O._wrapperState)&&J.controlled&&O.type==="number"&&sl(O,"number",O.value)}switch(J=P?Bn(P):window,e){case"focusin":(ra(J)||J.contentEditable==="true")&&(An=J,Il=P,Sr=null);break;case"focusout":Sr=Il=An=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,pa(j,n,D);break;case"selectionchange":if(Wd)break;case"keydown":case"keyup":pa(j,n,D)}var Z;if(jl)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Ln?ta(e,n)&&(te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(te="onCompositionStart");te&&(Zs&&n.locale!=="ko"&&(Ln||te!=="onCompositionStart"?te==="onCompositionEnd"&&Ln&&(Z=Qs()):(Qt=D,Pl="value"in Qt?Qt.value:Qt.textContent,Ln=!0)),J=ho(P,te),0<J.length&&(te=new Ks(te,e,null,n,D),j.push({event:te,listeners:J}),Z?te.data=Z:(Z=na(n),Z!==null&&(te.data=Z)))),(Z=Dd?jd(e,n):Md(e,n))&&(P=ho(P,"onBeforeInput"),0<P.length&&(D=new Ks("onBeforeInput","beforeinput",null,n,D),j.push({event:D,listeners:P}),D.data=Z))}Ea(j,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=rr(e,n),s!=null&&r.unshift(Er(e,s,o)),s=rr(e,t),s!=null&&r.push(Er(e,s,o))),e=e.return}return r}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ka(e,t,n,r,o){for(var s=t._reactName,c=[];n!==null&&n!==r;){var g=n,v=g.alternate,P=g.stateNode;if(v!==null&&v===r)break;g.tag===5&&P!==null&&(g=P,o?(v=rr(n,s),v!=null&&c.unshift(Er(n,v,g))):o||(v=rr(n,s),v!=null&&c.push(Er(n,v,g)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var Qd=/\r\n?/g,Yd=/\u0000|\uFFFD/g;function Ta(e){return(typeof e=="string"?e:""+e).replace(Qd,`
`).replace(Yd,"")}function mo(e,t,n){if(t=Ta(t),Ta(e)!==t&&n)throw Error(a(425))}function go(){}var Wl=null,Vl=null;function Hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,Xd=typeof clearTimeout=="function"?clearTimeout:void 0,Pa=typeof Promise=="function"?Promise:void 0,Kd=typeof queueMicrotask=="function"?queueMicrotask:typeof Pa<"u"?function(e){return Pa.resolve(null).then(e).catch(Jd)}:ql;function Jd(e){setTimeout(function(){throw e})}function Ql(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),fr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);fr(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _a(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+zn,Cr="__reactProps$"+zn,Lt="__reactContainer$"+zn,Yl="__reactEvents$"+zn,Zd="__reactListeners$"+zn,bd="__reactHandles$"+zn;function pn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_a(e);e!==null;){if(n=e[Rt])return n;e=_a(e)}return t}e=n,n=e.parentNode}return null}function kr(e){return e=e[Rt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function vo(e){return e[Cr]||null}var Xl=[],Un=-1;function Kt(e){return{current:e}}function we(e){0>Un||(e.current=Xl[Un],Xl[Un]=null,Un--)}function ye(e,t){Un++,Xl[Un]=e.current,e.current=t}var Jt={},We=Kt(Jt),Je=Kt(!1),hn=Jt;function $n(e,t){var n=e.type.contextTypes;if(!n)return Jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return e=e.childContextTypes,e!=null}function yo(){we(Je),we(We)}function Na(e,t,n){if(We.current!==Jt)throw Error(a(168));ye(We,t),ye(Je,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(a(108,ve(e)||"Unknown",o));return F({},n,r)}function So(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,hn=We.current,ye(We,e),ye(Je,Je.current),!0}function Oa(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ra(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,we(Je),we(We),ye(We,e)):we(Je),ye(Je,n)}var At=null,wo=!1,Kl=!1;function Da(e){At===null?At=[e]:At.push(e)}function ef(e){wo=!0,Da(e)}function Zt(){if(!Kl&&At!==null){Kl=!0;var e=0,t=ge;try{var n=At;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}At=null,wo=!1}catch(o){throw At!==null&&(At=At.slice(e+1)),Ms(yl,Zt),o}finally{ge=t,Kl=!1}}return null}var Gn=[],Wn=0,xo=null,Eo=0,ct=[],dt=0,mn=null,It=1,Ft="";function gn(e,t){Gn[Wn++]=Eo,Gn[Wn++]=xo,xo=e,Eo=t}function ja(e,t,n){ct[dt++]=It,ct[dt++]=Ft,ct[dt++]=mn,mn=e;var r=It;e=Ft;var o=32-xt(r)-1;r&=~(1<<o),n+=1;var s=32-xt(t)+o;if(30<s){var c=o-o%5;s=(r&(1<<c)-1).toString(32),r>>=c,o-=c,It=1<<32-xt(t)+o|n<<o|r,Ft=s+e}else It=1<<s|n<<o|r,Ft=e}function Jl(e){e.return!==null&&(gn(e,1),ja(e,1,0))}function Zl(e){for(;e===xo;)xo=Gn[--Wn],Gn[Wn]=null,Eo=Gn[--Wn],Gn[Wn]=null;for(;e===mn;)mn=ct[--dt],ct[dt]=null,Ft=ct[--dt],ct[dt]=null,It=ct[--dt],ct[dt]=null}var st=null,at=null,Ee=!1,Ct=null;function Ma(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,at=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:It,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,at=null,!0):!1;default:return!1}}function bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ei(e){if(Ee){var t=at;if(t){var n=t;if(!La(e,t)){if(bl(e))throw Error(a(418));t=Xt(n.nextSibling);var r=st;t&&La(e,t)?Ma(r,n):(e.flags=e.flags&-4097|2,Ee=!1,st=e)}}else{if(bl(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ee=!1,st=e}}}function Aa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Co(e){if(e!==st)return!1;if(!Ee)return Aa(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hl(e.type,e.memoizedProps)),t&&(t=at)){if(bl(e))throw Ia(),Error(a(418));for(;t;)Ma(e,t),t=Xt(t.nextSibling)}if(Aa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=st?Xt(e.stateNode.nextSibling):null;return!0}function Ia(){for(var e=at;e;)e=Xt(e.nextSibling)}function Vn(){at=st=null,Ee=!1}function ti(e){Ct===null?Ct=[e]:Ct.push(e)}var tf=G.ReactCurrentBatchConfig;function Tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(c){var g=o.refs;c===null?delete g[s]:g[s]=c},t._stringRef=s,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fa(e){var t=e._init;return t(e._payload)}function za(e){function t(C,S){if(e){var T=C.deletions;T===null?(C.deletions=[S],C.flags|=16):T.push(S)}}function n(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function r(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function o(C,S){return C=sn(C,S),C.index=0,C.sibling=null,C}function s(C,S,T){return C.index=T,e?(T=C.alternate,T!==null?(T=T.index,T<S?(C.flags|=2,S):T):(C.flags|=2,S)):(C.flags|=1048576,S)}function c(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,S,T,A){return S===null||S.tag!==6?(S=qi(T,C.mode,A),S.return=C,S):(S=o(S,T),S.return=C,S)}function v(C,S,T,A){var K=T.type;return K===B?D(C,S,T.props.children,A,T.key):S!==null&&(S.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===se&&Fa(K)===S.type)?(A=o(S,T.props),A.ref=Tr(C,S,T),A.return=C,A):(A=Yo(T.type,T.key,T.props,null,C.mode,A),A.ref=Tr(C,S,T),A.return=C,A)}function P(C,S,T,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Qi(T,C.mode,A),S.return=C,S):(S=o(S,T.children||[]),S.return=C,S)}function D(C,S,T,A,K){return S===null||S.tag!==7?(S=kn(T,C.mode,A,K),S.return=C,S):(S=o(S,T),S.return=C,S)}function j(C,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=qi(""+S,C.mode,T),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case b:return T=Yo(S.type,S.key,S.props,null,C.mode,T),T.ref=Tr(C,null,S),T.return=C,T;case re:return S=Qi(S,C.mode,T),S.return=C,S;case se:var A=S._init;return j(C,A(S._payload),T)}if(er(S)||q(S))return S=kn(S,C.mode,T,null),S.return=C,S;ko(C,S)}return null}function O(C,S,T,A){var K=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return K!==null?null:g(C,S,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case b:return T.key===K?v(C,S,T,A):null;case re:return T.key===K?P(C,S,T,A):null;case se:return K=T._init,O(C,S,K(T._payload),A)}if(er(T)||q(T))return K!==null?null:D(C,S,T,A,null);ko(C,T)}return null}function H(C,S,T,A,K){if(typeof A=="string"&&A!==""||typeof A=="number")return C=C.get(T)||null,g(S,C,""+A,K);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return C=C.get(A.key===null?T:A.key)||null,v(S,C,A,K);case re:return C=C.get(A.key===null?T:A.key)||null,P(S,C,A,K);case se:var J=A._init;return H(C,S,T,J(A._payload),K)}if(er(A)||q(A))return C=C.get(T)||null,D(S,C,A,K,null);ko(S,A)}return null}function Y(C,S,T,A){for(var K=null,J=null,Z=S,te=S=0,Fe=null;Z!==null&&te<T.length;te++){Z.index>te?(Fe=Z,Z=null):Fe=Z.sibling;var de=O(C,Z,T[te],A);if(de===null){Z===null&&(Z=Fe);break}e&&Z&&de.alternate===null&&t(C,Z),S=s(de,S,te),J===null?K=de:J.sibling=de,J=de,Z=Fe}if(te===T.length)return n(C,Z),Ee&&gn(C,te),K;if(Z===null){for(;te<T.length;te++)Z=j(C,T[te],A),Z!==null&&(S=s(Z,S,te),J===null?K=Z:J.sibling=Z,J=Z);return Ee&&gn(C,te),K}for(Z=r(C,Z);te<T.length;te++)Fe=H(Z,C,te,T[te],A),Fe!==null&&(e&&Fe.alternate!==null&&Z.delete(Fe.key===null?te:Fe.key),S=s(Fe,S,te),J===null?K=Fe:J.sibling=Fe,J=Fe);return e&&Z.forEach(function(an){return t(C,an)}),Ee&&gn(C,te),K}function X(C,S,T,A){var K=q(T);if(typeof K!="function")throw Error(a(150));if(T=K.call(T),T==null)throw Error(a(151));for(var J=K=null,Z=S,te=S=0,Fe=null,de=T.next();Z!==null&&!de.done;te++,de=T.next()){Z.index>te?(Fe=Z,Z=null):Fe=Z.sibling;var an=O(C,Z,de.value,A);if(an===null){Z===null&&(Z=Fe);break}e&&Z&&an.alternate===null&&t(C,Z),S=s(an,S,te),J===null?K=an:J.sibling=an,J=an,Z=Fe}if(de.done)return n(C,Z),Ee&&gn(C,te),K;if(Z===null){for(;!de.done;te++,de=T.next())de=j(C,de.value,A),de!==null&&(S=s(de,S,te),J===null?K=de:J.sibling=de,J=de);return Ee&&gn(C,te),K}for(Z=r(C,Z);!de.done;te++,de=T.next())de=H(Z,C,te,de.value,A),de!==null&&(e&&de.alternate!==null&&Z.delete(de.key===null?te:de.key),S=s(de,S,te),J===null?K=de:J.sibling=de,J=de);return e&&Z.forEach(function(Lf){return t(C,Lf)}),Ee&&gn(C,te),K}function _e(C,S,T,A){if(typeof T=="object"&&T!==null&&T.type===B&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case b:e:{for(var K=T.key,J=S;J!==null;){if(J.key===K){if(K=T.type,K===B){if(J.tag===7){n(C,J.sibling),S=o(J,T.props.children),S.return=C,C=S;break e}}else if(J.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===se&&Fa(K)===J.type){n(C,J.sibling),S=o(J,T.props),S.ref=Tr(C,J,T),S.return=C,C=S;break e}n(C,J);break}else t(C,J);J=J.sibling}T.type===B?(S=kn(T.props.children,C.mode,A,T.key),S.return=C,C=S):(A=Yo(T.type,T.key,T.props,null,C.mode,A),A.ref=Tr(C,S,T),A.return=C,C=A)}return c(C);case re:e:{for(J=T.key;S!==null;){if(S.key===J)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){n(C,S.sibling),S=o(S,T.children||[]),S.return=C,C=S;break e}else{n(C,S);break}else t(C,S);S=S.sibling}S=Qi(T,C.mode,A),S.return=C,C=S}return c(C);case se:return J=T._init,_e(C,S,J(T._payload),A)}if(er(T))return Y(C,S,T,A);if(q(T))return X(C,S,T,A);ko(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(n(C,S.sibling),S=o(S,T),S.return=C,C=S):(n(C,S),S=qi(T,C.mode,A),S.return=C,C=S),c(C)):n(C,S)}return _e}var Hn=za(!0),Ba=za(!1),To=Kt(null),Po=null,qn=null,ni=null;function ri(){ni=qn=Po=null}function oi(e){var t=To.current;we(To),e._currentValue=t}function li(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qn(e,t){Po=e,ni=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(be=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(ni!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(Po===null)throw Error(a(308));qn=e,Po.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var vn=null;function ii(e){vn===null?vn=[e]:vn.push(e)}function Ua(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ii(t)):(n.next=o.next,o.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bt=!1;function si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,zt(e,n)}return o=r.interleaved,o===null?(t.next=t,ii(r)):(t.next=o.next,o.next=t),r.interleaved=t,zt(e,n)}function _o(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xl(e,n)}}function Ga(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=c:s=s.next=c,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var o=e.updateQueue;bt=!1;var s=o.firstBaseUpdate,c=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var v=g,P=v.next;v.next=null,c===null?s=P:c.next=P,c=v;var D=e.alternate;D!==null&&(D=D.updateQueue,g=D.lastBaseUpdate,g!==c&&(g===null?D.firstBaseUpdate=P:g.next=P,D.lastBaseUpdate=v))}if(s!==null){var j=o.baseState;c=0,D=P=v=null,g=s;do{var O=g.lane,H=g.eventTime;if((r&O)===O){D!==null&&(D=D.next={eventTime:H,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var Y=e,X=g;switch(O=t,H=n,X.tag){case 1:if(Y=X.payload,typeof Y=="function"){j=Y.call(H,j,O);break e}j=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=X.payload,O=typeof Y=="function"?Y.call(H,j,O):Y,O==null)break e;j=F({},j,O);break e;case 2:bt=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,O=o.effects,O===null?o.effects=[g]:O.push(g))}else H={eventTime:H,lane:O,tag:g.tag,payload:g.payload,callback:g.callback,next:null},D===null?(P=D=H,v=j):D=D.next=H,c|=O;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;O=g,g=O.next,O.next=null,o.lastBaseUpdate=O,o.shared.pending=null}}while(!0);if(D===null&&(v=j),o.baseState=v,o.firstBaseUpdate=P,o.lastBaseUpdate=D,t=o.shared.interleaved,t!==null){o=t;do c|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);wn|=c,e.lanes=c,e.memoizedState=j}}function Wa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(a(191,o));o.call(r)}}}var Pr={},Ot=Kt(Pr),_r=Kt(Pr),Nr=Kt(Pr);function yn(e){if(e===Pr)throw Error(a(174));return e}function ai(e,t){switch(ye(Nr,t),ye(_r,e),ye(Ot,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ul(t,e)}we(Ot),ye(Ot,t)}function Yn(){we(Ot),we(_r),we(Nr)}function Va(e){yn(Nr.current);var t=yn(Ot.current),n=ul(t,e.type);t!==n&&(ye(_r,e),ye(Ot,n))}function ui(e){_r.current===e&&(we(Ot),we(_r))}var Ce=Kt(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ci=[];function di(){for(var e=0;e<ci.length;e++)ci[e]._workInProgressVersionPrimary=null;ci.length=0}var Oo=G.ReactCurrentDispatcher,fi=G.ReactCurrentBatchConfig,Sn=0,ke=null,je=null,Ae=null,Do=!1,Rr=!1,Or=0,nf=0;function Ve(){throw Error(a(321))}function pi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function hi(e,t,n,r,o,s){if(Sn=s,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oo.current=e===null||e.memoizedState===null?sf:af,e=n(r,o),Rr){s=0;do{if(Rr=!1,Or=0,25<=s)throw Error(a(301));s+=1,Ae=je=null,t.updateQueue=null,Oo.current=uf,e=n(r,o)}while(Rr)}if(Oo.current=Lo,t=je!==null&&je.next!==null,Sn=0,Ae=je=ke=null,Do=!1,t)throw Error(a(300));return e}function mi(){var e=Or!==0;return Or=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ke.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pt(){if(je===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ae===null?ke.memoizedState:Ae.next;if(t!==null)Ae=t,je=e;else{if(e===null)throw Error(a(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ae===null?ke.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Dr(e,t){return typeof t=="function"?t(e):t}function gi(e){var t=pt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=je,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var c=o.next;o.next=s.next,s.next=c}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var g=c=null,v=null,P=s;do{var D=P.lane;if((Sn&D)===D)v!==null&&(v=v.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),r=P.hasEagerState?P.eagerState:e(r,P.action);else{var j={lane:D,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};v===null?(g=v=j,c=r):v=v.next=j,ke.lanes|=D,wn|=D}P=P.next}while(P!==null&&P!==s);v===null?c=r:v.next=g,Et(r,t.memoizedState)||(be=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ke.lanes|=s,wn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vi(e){var t=pt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var c=o=o.next;do s=e(s,c.action),c=c.next;while(c!==o);Et(s,t.memoizedState)||(be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ha(){}function qa(e,t){var n=ke,r=pt(),o=t(),s=!Et(r.memoizedState,o);if(s&&(r.memoizedState=o,be=!0),r=r.queue,yi(Xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,jr(9,Ya.bind(null,n,r,o,t),void 0,null),Ie===null)throw Error(a(349));Sn&30||Qa(n,t,o)}return o}function Qa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Ka(t)&&Ja(e)}function Xa(e,t,n){return n(function(){Ka(t)&&Ja(e)})}function Ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Ja(e){var t=zt(e,1);t!==null&&_t(t,e,1,-1)}function Za(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=lf.bind(null,ke,e),[t.memoizedState,e]}function jr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ba(){return pt().memoizedState}function jo(e,t,n,r){var o=Dt();ke.flags|=e,o.memoizedState=jr(1|t,n,void 0,r===void 0?null:r)}function Mo(e,t,n,r){var o=pt();r=r===void 0?null:r;var s=void 0;if(je!==null){var c=je.memoizedState;if(s=c.destroy,r!==null&&pi(r,c.deps)){o.memoizedState=jr(t,n,s,r);return}}ke.flags|=e,o.memoizedState=jr(1|t,n,s,r)}function eu(e,t){return jo(8390656,8,e,t)}function yi(e,t){return Mo(2048,8,e,t)}function tu(e,t){return Mo(4,2,e,t)}function nu(e,t){return Mo(4,4,e,t)}function ru(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ou(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4,4,ru.bind(null,t,e),n)}function Si(){}function lu(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iu(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function su(e,t,n){return Sn&21?(Et(n,t)||(n=Fs(),ke.lanes|=n,wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,be=!0),e.memoizedState=n)}function rf(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{ge=n,fi.transition=r}}function au(){return pt().memoizedState}function of(e,t,n){var r=on(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uu(e))cu(t,n);else if(n=Ua(e,t,n,r),n!==null){var o=Ke();_t(n,e,r,o),du(n,t,r)}}function lf(e,t,n){var r=on(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uu(e))cu(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,g=s(c,n);if(o.hasEagerState=!0,o.eagerState=g,Et(g,c)){var v=t.interleaved;v===null?(o.next=o,ii(t)):(o.next=v.next,v.next=o),t.interleaved=o;return}}catch{}finally{}n=Ua(e,t,o,r),n!==null&&(o=Ke(),_t(n,e,r,o),du(n,t,r))}}function uu(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function cu(e,t){Rr=Do=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function du(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xl(e,n)}}var Lo={readContext:ft,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},sf={readContext:ft,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:eu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,jo(4194308,4,ru.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=of.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:Za,useDebugValue:Si,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=Za(!1),t=e[0];return e=rf.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,o=Dt();if(Ee){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Ie===null)throw Error(a(349));Sn&30||Qa(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,eu(Xa.bind(null,r,s,e),[e]),r.flags|=2048,jr(9,Ya.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ie.identifierPrefix;if(Ee){var n=Ft,r=It;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},af={readContext:ft,useCallback:lu,useContext:ft,useEffect:yi,useImperativeHandle:ou,useInsertionEffect:tu,useLayoutEffect:nu,useMemo:iu,useReducer:gi,useRef:ba,useState:function(){return gi(Dr)},useDebugValue:Si,useDeferredValue:function(e){var t=pt();return su(t,je.memoizedState,e)},useTransition:function(){var e=gi(Dr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Ha,useSyncExternalStore:qa,useId:au,unstable_isNewReconciler:!1},uf={readContext:ft,useCallback:lu,useContext:ft,useEffect:yi,useImperativeHandle:ou,useInsertionEffect:tu,useLayoutEffect:nu,useMemo:iu,useReducer:vi,useRef:ba,useState:function(){return vi(Dr)},useDebugValue:Si,useDeferredValue:function(e){var t=pt();return je===null?t.memoizedState=e:su(t,je.memoizedState,e)},useTransition:function(){var e=vi(Dr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Ha,useSyncExternalStore:qa,useId:au,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=F({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:F({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ao={isMounted:function(e){return(e=e._reactInternals)?fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),o=on(e),s=Bt(r,o);s.payload=t,n!=null&&(s.callback=n),t=en(e,s,o),t!==null&&(_t(t,e,o,r),_o(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),o=on(e),s=Bt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=en(e,s,o),t!==null&&(_t(t,e,o,r),_o(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=on(e),o=Bt(n,r);o.tag=2,t!=null&&(o.callback=t),t=en(e,o,r),t!==null&&(_t(t,e,r,n),_o(t,e,r))}};function fu(e,t,n,r,o,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,c):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(o,s):!0}function pu(e,t,n){var r=!1,o=Jt,s=t.contextType;return typeof s=="object"&&s!==null?s=ft(s):(o=Ze(t)?hn:We.current,r=t.contextTypes,s=(r=r!=null)?$n(e,o):Jt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ao,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ao.enqueueReplaceState(t,t.state,null)}function xi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},si(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=ft(s):(s=Ze(t)?hn:We.current,o.context=$n(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(wi(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ao.enqueueReplaceState(o,o.state,null),No(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Xn(e,t){try{var n="",r=t;do n+=ae(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Ei(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ci(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cf=typeof WeakMap=="function"?WeakMap:Map;function mu(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Go||(Go=!0,zi=r),Ci(e,t)},n}function gu(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ci(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ci(e,t),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function vu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cf;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=kf.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Su(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e)}var df=G.ReactCurrentOwner,be=!1;function Xe(e,t,n,r){t.child=e===null?Ba(t,null,n,r):Hn(t,e.child,n,r)}function wu(e,t,n,r,o){n=n.render;var s=t.ref;return Qn(t,o),r=hi(e,t,n,r,s,o),n=mi(),e!==null&&!be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ut(e,t,o)):(Ee&&n&&Jl(t),t.flags|=1,Xe(e,t,r,o),t.child)}function xu(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Hi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Eu(e,t,s,r,o)):(e=Yo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var c=s.memoizedProps;if(n=n.compare,n=n!==null?n:yr,n(c,r)&&e.ref===t.ref)return Ut(e,t,o)}return t.flags|=1,e=sn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(yr(s,r)&&e.ref===t.ref)if(be=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(be=!0);else return t.lanes=e.lanes,Ut(e,t,o)}return ki(e,t,n,r,o)}function Cu(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Jn,ut),ut|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Jn,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(Jn,ut),ut|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ye(Jn,ut),ut|=r;return Xe(e,t,o,n),t.child}function ku(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,r,o){var s=Ze(n)?hn:We.current;return s=$n(t,s),Qn(t,o),n=hi(e,t,n,r,s,o),r=mi(),e!==null&&!be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ut(e,t,o)):(Ee&&r&&Jl(t),t.flags|=1,Xe(e,t,n,o),t.child)}function Tu(e,t,n,r,o){if(Ze(n)){var s=!0;So(t)}else s=!1;if(Qn(t,o),t.stateNode===null)Fo(e,t),pu(t,n,r),xi(t,n,r,o),r=!0;else if(e===null){var c=t.stateNode,g=t.memoizedProps;c.props=g;var v=c.context,P=n.contextType;typeof P=="object"&&P!==null?P=ft(P):(P=Ze(n)?hn:We.current,P=$n(t,P));var D=n.getDerivedStateFromProps,j=typeof D=="function"||typeof c.getSnapshotBeforeUpdate=="function";j||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==r||v!==P)&&hu(t,c,r,P),bt=!1;var O=t.memoizedState;c.state=O,No(t,r,c,o),v=t.memoizedState,g!==r||O!==v||Je.current||bt?(typeof D=="function"&&(wi(t,n,D,r),v=t.memoizedState),(g=bt||fu(t,n,g,r,O,v,P))?(j||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),c.props=r,c.state=v,c.context=P,r=g):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,$a(e,t),g=t.memoizedProps,P=t.type===t.elementType?g:kt(t.type,g),c.props=P,j=t.pendingProps,O=c.context,v=n.contextType,typeof v=="object"&&v!==null?v=ft(v):(v=Ze(n)?hn:We.current,v=$n(t,v));var H=n.getDerivedStateFromProps;(D=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==j||O!==v)&&hu(t,c,r,v),bt=!1,O=t.memoizedState,c.state=O,No(t,r,c,o);var Y=t.memoizedState;g!==j||O!==Y||Je.current||bt?(typeof H=="function"&&(wi(t,n,H,r),Y=t.memoizedState),(P=bt||fu(t,n,P,r,O,Y,v)||!1)?(D||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,Y,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,Y,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Y),c.props=r,c.state=Y,c.context=v,r=P):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return Ti(e,t,n,r,s,o)}function Ti(e,t,n,r,o,s){ku(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return o&&Oa(t,n,!1),Ut(e,t,s);r=t.stateNode,df.current=t;var g=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Hn(t,e.child,null,s),t.child=Hn(t,null,g,s)):Xe(e,t,g,s),t.memoizedState=r.state,o&&Oa(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Na(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Na(e,t.context,!1),ai(e,t.containerInfo)}function _u(e,t,n,r,o){return Vn(),ti(o),t.flags|=256,Xe(e,t,n,r),t.child}var Pi={dehydrated:null,treeContext:null,retryLane:0};function _i(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nu(e,t,n){var r=t.pendingProps,o=Ce.current,s=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ye(Ce,o&1),e===null)return ei(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,s?(r=t.mode,s=t.child,c={mode:"hidden",children:c},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=c):s=Xo(c,r,0,null),e=kn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=_i(n),t.memoizedState=Pi,e):Ni(t,c));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return ff(e,t,c,r,g,o,n);if(s){s=r.fallback,c=t.mode,o=e.child,g=o.sibling;var v={mode:"hidden",children:r.children};return!(c&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=sn(o,v),r.subtreeFlags=o.subtreeFlags&14680064),g!==null?s=sn(g,s):(s=kn(s,c,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,c=e.child.memoizedState,c=c===null?_i(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Pi,r}return s=e.child,e=s.sibling,r=sn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ni(e,t){return t=Xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Io(e,t,n,r){return r!==null&&ti(r),Hn(t,e.child,null,n),e=Ni(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,n,r,o,s,c){if(n)return t.flags&256?(t.flags&=-257,r=Ei(Error(a(422))),Io(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Xo({mode:"visible",children:r.children},o,0,null),s=kn(s,o,c,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Hn(t,e.child,null,c),t.child.memoizedState=_i(c),t.memoizedState=Pi,s);if(!(t.mode&1))return Io(e,t,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var g=r.dgst;return r=g,s=Error(a(419)),r=Ei(s,r,void 0),Io(e,t,c,r)}if(g=(c&e.childLanes)!==0,be||g){if(r=Ie,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,zt(e,o),_t(r,e,o,-1))}return Vi(),r=Ei(Error(a(421))),Io(e,t,c,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Tf.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,at=Xt(o.nextSibling),st=t,Ee=!0,Ct=null,e!==null&&(ct[dt++]=It,ct[dt++]=Ft,ct[dt++]=mn,It=e.id,Ft=e.overflow,mn=t),t=Ni(t,r.children),t.flags|=4096,t)}function Ru(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),li(e.return,t,n)}function Ri(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Ou(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Xe(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ru(e,n,t);else if(e.tag===19)Ru(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ri(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ro(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ri(t,!0,n,null,s);break;case"together":Ri(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pf(e,t,n){switch(t.tag){case 3:Pu(t),Vn();break;case 5:Va(t);break;case 1:Ze(t.type)&&So(t);break;case 4:ai(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ye(To,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Nu(e,t,n):(ye(Ce,Ce.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ou(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,Cu(e,t,n)}return Ut(e,t,n)}var Du,Oi,ju,Mu;Du=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},ju=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,yn(Ot.current);var s=null;switch(n){case"input":o=ll(e,o),r=ll(e,r),s=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":o=al(e,o),r=al(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=go)}cl(n,r);var c;n=null;for(P in o)if(!r.hasOwnProperty(P)&&o.hasOwnProperty(P)&&o[P]!=null)if(P==="style"){var g=o[P];for(c in g)g.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?s||(s=[]):(s=s||[]).push(P,null));for(P in r){var v=r[P];if(g=o!=null?o[P]:void 0,r.hasOwnProperty(P)&&v!==g&&(v!=null||g!=null))if(P==="style")if(g){for(c in g)!g.hasOwnProperty(c)||v&&v.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in v)v.hasOwnProperty(c)&&g[c]!==v[c]&&(n||(n={}),n[c]=v[c])}else n||(s||(s=[]),s.push(P,n)),n=v;else P==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(s=s||[]).push(P,v)):P==="children"?typeof v!="string"&&typeof v!="number"||(s=s||[]).push(P,""+v):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(v!=null&&P==="onScroll"&&Se("scroll",e),s||g===v||(s=[])):(s=s||[]).push(P,v))}n&&(s=s||[]).push("style",n);var P=s;(t.updateQueue=P)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hf(e,t,n){var r=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Ze(t.type)&&yo(),He(t),null;case 3:return r=t.stateNode,Yn(),we(Je),we(We),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&($i(Ct),Ct=null))),Oi(e,t),He(t),null;case 5:ui(t);var o=yn(Nr.current);if(n=t.type,e!==null&&t.stateNode!=null)ju(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return He(t),null}if(e=yn(Ot.current),Co(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rt]=t,r[Cr]=s,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(o=0;o<wr.length;o++)Se(wr[o],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":ps(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":gs(r,s),Se("invalid",r)}cl(n,s),o=null;for(var c in s)if(s.hasOwnProperty(c)){var g=s[c];c==="children"?typeof g=="string"?r.textContent!==g&&(s.suppressHydrationWarning!==!0&&mo(r.textContent,g,e),o=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(s.suppressHydrationWarning!==!0&&mo(r.textContent,g,e),o=["children",""+g]):u.hasOwnProperty(c)&&g!=null&&c==="onScroll"&&Se("scroll",r)}switch(n){case"input":Hr(r),ms(r,s,!0);break;case"textarea":Hr(r),ys(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=go)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ss(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Rt]=t,e[Cr]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(c=dl(n,r),n){case"dialog":Se("cancel",e),Se("close",e),o=r;break;case"iframe":case"object":case"embed":Se("load",e),o=r;break;case"video":case"audio":for(o=0;o<wr.length;o++)Se(wr[o],e);o=r;break;case"source":Se("error",e),o=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),o=r;break;case"details":Se("toggle",e),o=r;break;case"input":ps(e,r),o=ll(e,r),Se("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),Se("invalid",e);break;case"textarea":gs(e,r),o=al(e,r),Se("invalid",e);break;default:o=r}cl(n,o),g=o;for(s in g)if(g.hasOwnProperty(s)){var v=g[s];s==="style"?Es(e,v):s==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&ws(e,v)):s==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&tr(e,v):typeof v=="number"&&tr(e,""+v):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(u.hasOwnProperty(s)?v!=null&&s==="onScroll"&&Se("scroll",e):v!=null&&W(e,s,v,c))}switch(n){case"input":Hr(e),ms(e,r,!1);break;case"textarea":Hr(e),ys(e);break;case"option":r.value!=null&&e.setAttribute("value",""+me(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Rn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Rn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=go)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Mu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=yn(Nr.current),yn(Ot.current),Co(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(s=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:mo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return He(t),null;case 13:if(we(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&at!==null&&t.mode&1&&!(t.flags&128))Ia(),Vn(),t.flags|=98560,s=!1;else if(s=Co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(a(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));s[Rt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),s=!1}else Ct!==null&&($i(Ct),Ct=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Me===0&&(Me=3):Vi())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Yn(),Oi(e,t),e===null&&xr(t.stateNode.containerInfo),He(t),null;case 10:return oi(t.type._context),He(t),null;case 17:return Ze(t.type)&&yo(),He(t),null;case 19:if(we(Ce),s=t.memoizedState,s===null)return He(t),null;if(r=(t.flags&128)!==0,c=s.rendering,c===null)if(r)Mr(s,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Ro(e),c!==null){for(t.flags|=128,Mr(s,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&Pe()>Zn&&(t.flags|=128,r=!0,Mr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Ee)return He(t),null}else 2*Pe()-s.renderingStartTime>Zn&&n!==1073741824&&(t.flags|=128,r=!0,Mr(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(n=s.last,n!==null?n.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Pe(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Wi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function mf(e,t){switch(Zl(t),t.tag){case 1:return Ze(t.type)&&yo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),we(Je),we(We),di(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ui(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return Yn(),null;case 10:return oi(t.type._context),null;case 22:case 23:return Wi(),null;case 24:return null;default:return null}}var zo=!1,qe=!1,gf=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Di(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Lu=!1;function vf(e,t){if(Wl=ro,e=fa(),Al(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var c=0,g=-1,v=-1,P=0,D=0,j=e,O=null;t:for(;;){for(var H;j!==n||o!==0&&j.nodeType!==3||(g=c+o),j!==s||r!==0&&j.nodeType!==3||(v=c+r),j.nodeType===3&&(c+=j.nodeValue.length),(H=j.firstChild)!==null;)O=j,j=H;for(;;){if(j===e)break t;if(O===n&&++P===o&&(g=c),O===s&&++D===r&&(v=c),(H=j.nextSibling)!==null)break;j=O,O=j.parentNode}j=H}n=g===-1||v===-1?null:{start:g,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vl={focusedElem:e,selectionRange:n},ro=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var X=Y.memoizedProps,_e=Y.memoizedState,C=t.stateNode,S=C.getSnapshotBeforeUpdate(t.elementType===t.type?X:kt(t.type,X),_e);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(A){Te(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Y=Lu,Lu=!1,Y}function Lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Di(t,n,s)}o=o.next}while(o!==r)}}function Bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ji(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Au(e){var t=e.alternate;t!==null&&(e.alternate=null,Au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Cr],delete t[Yl],delete t[Zd],delete t[bd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iu(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=go));else if(r!==4&&(e=e.child,e!==null))for(Mi(e,t,n),e=e.sibling;e!==null;)Mi(e,t,n),e=e.sibling}function Li(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Li(e,t,n),e=e.sibling;e!==null;)Li(e,t,n),e=e.sibling}var Ue=null,Tt=!1;function tn(e,t,n){for(n=n.child;n!==null;)zu(e,t,n),n=n.sibling}function zu(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Jr,n)}catch{}switch(n.tag){case 5:qe||Kn(n,t);case 6:var r=Ue,o=Tt;Ue=null,tn(e,t,n),Ue=r,Tt=o,Ue!==null&&(Tt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Tt?(e=Ue,n=n.stateNode,e.nodeType===8?Ql(e.parentNode,n):e.nodeType===1&&Ql(e,n),fr(e)):Ql(Ue,n.stateNode));break;case 4:r=Ue,o=Tt,Ue=n.stateNode.containerInfo,Tt=!0,tn(e,t,n),Ue=r,Tt=o;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,c=s.destroy;s=s.tag,c!==void 0&&(s&2||s&4)&&Di(n,t,c),o=o.next}while(o!==r)}tn(e,t,n);break;case 1:if(!qe&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){Te(n,t,g)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,tn(e,t,n),qe=r):tn(e,t,n);break;default:tn(e,t,n)}}function Bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gf),t.forEach(function(r){var o=Pf.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,c=t,g=c;e:for(;g!==null;){switch(g.tag){case 5:Ue=g.stateNode,Tt=!1;break e;case 3:Ue=g.stateNode.containerInfo,Tt=!0;break e;case 4:Ue=g.stateNode.containerInfo,Tt=!0;break e}g=g.return}if(Ue===null)throw Error(a(160));zu(s,c,o),Ue=null,Tt=!1;var v=o.alternate;v!==null&&(v.return=null),o.return=null}catch(P){Te(o,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uu(t,e),t=t.sibling}function Uu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),jt(e),r&4){try{Lr(3,e,e.return),Bo(3,e)}catch(X){Te(e,e.return,X)}try{Lr(5,e,e.return)}catch(X){Te(e,e.return,X)}}break;case 1:Pt(t,e),jt(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(Pt(t,e),jt(e),r&512&&n!==null&&Kn(n,n.return),e.flags&32){var o=e.stateNode;try{tr(o,"")}catch(X){Te(e,e.return,X)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,c=n!==null?n.memoizedProps:s,g=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{g==="input"&&s.type==="radio"&&s.name!=null&&hs(o,s),dl(g,c);var P=dl(g,s);for(c=0;c<v.length;c+=2){var D=v[c],j=v[c+1];D==="style"?Es(o,j):D==="dangerouslySetInnerHTML"?ws(o,j):D==="children"?tr(o,j):W(o,D,j,P)}switch(g){case"input":il(o,s);break;case"textarea":vs(o,s);break;case"select":var O=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var H=s.value;H!=null?Rn(o,!!s.multiple,H,!1):O!==!!s.multiple&&(s.defaultValue!=null?Rn(o,!!s.multiple,s.defaultValue,!0):Rn(o,!!s.multiple,s.multiple?[]:"",!1))}o[Cr]=s}catch(X){Te(e,e.return,X)}}break;case 6:if(Pt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(a(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(X){Te(e,e.return,X)}}break;case 3:if(Pt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fr(t.containerInfo)}catch(X){Te(e,e.return,X)}break;case 4:Pt(t,e),jt(e);break;case 13:Pt(t,e),jt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Fi=Pe())),r&4&&Bu(e);break;case 22:if(D=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(P=qe)||D,Pt(t,e),qe=P):Pt(t,e),jt(e),r&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!D&&e.mode&1)for(Q=e,D=e.child;D!==null;){for(j=Q=D;Q!==null;){switch(O=Q,H=O.child,O.tag){case 0:case 11:case 14:case 15:Lr(4,O,O.return);break;case 1:Kn(O,O.return);var Y=O.stateNode;if(typeof Y.componentWillUnmount=="function"){r=O,n=O.return;try{t=r,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(X){Te(r,n,X)}}break;case 5:Kn(O,O.return);break;case 22:if(O.memoizedState!==null){Wu(j);continue}}H!==null?(H.return=O,Q=H):Wu(j)}D=D.sibling}e:for(D=null,j=e;;){if(j.tag===5){if(D===null){D=j;try{o=j.stateNode,P?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(g=j.stateNode,v=j.memoizedProps.style,c=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=xs("display",c))}catch(X){Te(e,e.return,X)}}}else if(j.tag===6){if(D===null)try{j.stateNode.nodeValue=P?"":j.memoizedProps}catch(X){Te(e,e.return,X)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;D===j&&(D=null),j=j.return}D===j&&(D=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:Pt(t,e),jt(e),r&4&&Bu(e);break;case 21:break;default:Pt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(tr(o,""),r.flags&=-33);var s=Fu(e);Li(e,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,g=Fu(e);Mi(e,g,c);break;default:throw Error(a(161))}}catch(v){Te(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yf(e,t,n){Q=e,$u(e)}function $u(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var o=Q,s=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||zo;if(!c){var g=o.alternate,v=g!==null&&g.memoizedState!==null||qe;g=zo;var P=qe;if(zo=c,(qe=v)&&!P)for(Q=o;Q!==null;)c=Q,v=c.child,c.tag===22&&c.memoizedState!==null?Vu(o):v!==null?(v.return=c,Q=v):Vu(o);for(;s!==null;)Q=s,$u(s),s=s.sibling;Q=o,zo=g,qe=P}Gu(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,Q=s):Gu(e)}}function Gu(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||Bo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wa(t,s,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wa(t,c,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var D=P.memoizedState;if(D!==null){var j=D.dehydrated;j!==null&&fr(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}qe||t.flags&512&&ji(t)}catch(O){Te(t,t.return,O)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Wu(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Vu(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bo(4,t)}catch(v){Te(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(v){Te(t,o,v)}}var s=t.return;try{ji(t)}catch(v){Te(t,s,v)}break;case 5:var c=t.return;try{ji(t)}catch(v){Te(t,c,v)}}}catch(v){Te(t,t.return,v)}if(t===e){Q=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Q=g;break}Q=t.return}}var Sf=Math.ceil,Uo=G.ReactCurrentDispatcher,Ai=G.ReactCurrentOwner,ht=G.ReactCurrentBatchConfig,ue=0,Ie=null,Re=null,$e=0,ut=0,Jn=Kt(0),Me=0,Ar=null,wn=0,$o=0,Ii=0,Ir=null,et=null,Fi=0,Zn=1/0,$t=null,Go=!1,zi=null,nn=null,Wo=!1,rn=null,Vo=0,Fr=0,Bi=null,Ho=-1,qo=0;function Ke(){return ue&6?Pe():Ho!==-1?Ho:Ho=Pe()}function on(e){return e.mode&1?ue&2&&$e!==0?$e&-$e:tf.transition!==null?(qo===0&&(qo=Fs()),qo):(e=ge,e!==0||(e=window.event,e=e===void 0?16:qs(e.type)),e):1}function _t(e,t,n,r){if(50<Fr)throw Fr=0,Bi=null,Error(a(185));sr(e,n,r),(!(ue&2)||e!==Ie)&&(e===Ie&&(!(ue&2)&&($o|=n),Me===4&&ln(e,$e)),tt(e,r),n===1&&ue===0&&!(t.mode&1)&&(Zn=Pe()+500,wo&&Zt()))}function tt(e,t){var n=e.callbackNode;td(e,t);var r=eo(e,e===Ie?$e:0);if(r===0)n!==null&&Ls(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ls(n),t===1)e.tag===0?ef(qu.bind(null,e)):Da(qu.bind(null,e)),Kd(function(){!(ue&6)&&Zt()}),n=null;else{switch(zs(r)){case 1:n=yl;break;case 4:n=As;break;case 16:n=Kr;break;case 536870912:n=Is;break;default:n=Kr}n=ec(n,Hu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hu(e,t){if(Ho=-1,qo=0,ue&6)throw Error(a(327));var n=e.callbackNode;if(bn()&&e.callbackNode!==n)return null;var r=eo(e,e===Ie?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qo(e,r);else{t=r;var o=ue;ue|=2;var s=Yu();(Ie!==e||$e!==t)&&($t=null,Zn=Pe()+500,En(e,t));do try{Ef();break}catch(g){Qu(e,g)}while(!0);ri(),Uo.current=s,ue=o,Re!==null?t=0:(Ie=null,$e=0,t=Me)}if(t!==0){if(t===2&&(o=Sl(e),o!==0&&(r=o,t=Ui(e,o))),t===1)throw n=Ar,En(e,0),ln(e,r),tt(e,Pe()),n;if(t===6)ln(e,r);else{if(o=e.current.alternate,!(r&30)&&!wf(o)&&(t=Qo(e,r),t===2&&(s=Sl(e),s!==0&&(r=s,t=Ui(e,s))),t===1))throw n=Ar,En(e,0),ln(e,r),tt(e,Pe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:Cn(e,et,$t);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=Fi+500-Pe(),10<t)){if(eo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ql(Cn.bind(null,e,et,$t),t);break}Cn(e,et,$t);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var c=31-xt(r);s=1<<c,c=t[c],c>o&&(o=c),r&=~s}if(r=o,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sf(r/1960))-r,10<r){e.timeoutHandle=ql(Cn.bind(null,e,et,$t),r);break}Cn(e,et,$t);break;case 5:Cn(e,et,$t);break;default:throw Error(a(329))}}}return tt(e,Pe()),e.callbackNode===n?Hu.bind(null,e):null}function Ui(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=Qo(e,t),e!==2&&(t=et,et=n,t!==null&&$i(t)),e}function $i(e){et===null?et=e:et.push.apply(et,e)}function wf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Et(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Ii,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function qu(e){if(ue&6)throw Error(a(327));bn();var t=eo(e,0);if(!(t&1))return tt(e,Pe()),null;var n=Qo(e,t);if(e.tag!==0&&n===2){var r=Sl(e);r!==0&&(t=r,n=Ui(e,r))}if(n===1)throw n=Ar,En(e,0),ln(e,t),tt(e,Pe()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,et,$t),tt(e,Pe()),null}function Gi(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Zn=Pe()+500,wo&&Zt())}}function xn(e){rn!==null&&rn.tag===0&&!(ue&6)&&bn();var t=ue;ue|=1;var n=ht.transition,r=ge;try{if(ht.transition=null,ge=1,e)return e()}finally{ge=r,ht.transition=n,ue=t,!(ue&6)&&Zt()}}function Wi(){ut=Jn.current,we(Jn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xd(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Zl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yo();break;case 3:Yn(),we(Je),we(We),di();break;case 5:ui(r);break;case 4:Yn();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:oi(r.type._context);break;case 22:case 23:Wi()}n=n.return}if(Ie=e,Re=e=sn(e.current,null),$e=ut=t,Me=0,Ar=null,Ii=$o=wn=0,et=Ir=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var c=s.next;s.next=o,r.next=c}n.pending=r}vn=null}return e}function Qu(e,t){do{var n=Re;try{if(ri(),Oo.current=Lo,Do){for(var r=ke.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Do=!1}if(Sn=0,Ae=je=ke=null,Rr=!1,Or=0,Ai.current=null,n===null||n.return===null){Me=1,Ar=t,Re=null;break}e:{var s=e,c=n.return,g=n,v=t;if(t=$e,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var P=v,D=g,j=D.tag;if(!(D.mode&1)&&(j===0||j===11||j===15)){var O=D.alternate;O?(D.updateQueue=O.updateQueue,D.memoizedState=O.memoizedState,D.lanes=O.lanes):(D.updateQueue=null,D.memoizedState=null)}var H=yu(c);if(H!==null){H.flags&=-257,Su(H,c,g,s,t),H.mode&1&&vu(s,P,t),t=H,v=P;var Y=t.updateQueue;if(Y===null){var X=new Set;X.add(v),t.updateQueue=X}else Y.add(v);break e}else{if(!(t&1)){vu(s,P,t),Vi();break e}v=Error(a(426))}}else if(Ee&&g.mode&1){var _e=yu(c);if(_e!==null){!(_e.flags&65536)&&(_e.flags|=256),Su(_e,c,g,s,t),ti(Xn(v,g));break e}}s=v=Xn(v,g),Me!==4&&(Me=2),Ir===null?Ir=[s]:Ir.push(s),s=c;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var C=mu(s,v,t);Ga(s,C);break e;case 1:g=v;var S=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(nn===null||!nn.has(T)))){s.flags|=65536,t&=-t,s.lanes|=t;var A=gu(s,g,t);Ga(s,A);break e}}s=s.return}while(s!==null)}Ku(n)}catch(K){t=K,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Yu(){var e=Uo.current;return Uo.current=Lo,e===null?Lo:e}function Vi(){(Me===0||Me===3||Me===2)&&(Me=4),Ie===null||!(wn&268435455)&&!($o&268435455)||ln(Ie,$e)}function Qo(e,t){var n=ue;ue|=2;var r=Yu();(Ie!==e||$e!==t)&&($t=null,En(e,t));do try{xf();break}catch(o){Qu(e,o)}while(!0);if(ri(),ue=n,Uo.current=r,Re!==null)throw Error(a(261));return Ie=null,$e=0,Me}function xf(){for(;Re!==null;)Xu(Re)}function Ef(){for(;Re!==null&&!qc();)Xu(Re)}function Xu(e){var t=bu(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?Ku(e):Re=t,Ai.current=null}function Ku(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mf(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Re=null;return}}else if(n=hf(n,t,ut),n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Me===0&&(Me=5)}function Cn(e,t,n){var r=ge,o=ht.transition;try{ht.transition=null,ge=1,Cf(e,t,n,r)}finally{ht.transition=o,ge=r}return null}function Cf(e,t,n,r){do bn();while(rn!==null);if(ue&6)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(nd(e,s),e===Ie&&(Re=Ie=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,ec(Kr,function(){return bn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ht.transition,ht.transition=null;var c=ge;ge=1;var g=ue;ue|=4,Ai.current=null,vf(e,n),Uu(n,e),Gd(Vl),ro=!!Wl,Vl=Wl=null,e.current=n,yf(n),Qc(),ue=g,ge=c,ht.transition=s}else e.current=n;if(Wo&&(Wo=!1,rn=e,Vo=o),s=e.pendingLanes,s===0&&(nn=null),Kc(n.stateNode),tt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Go)throw Go=!1,e=zi,zi=null,e;return Vo&1&&e.tag!==0&&bn(),s=e.pendingLanes,s&1?e===Bi?Fr++:(Fr=0,Bi=e):Fr=0,Zt(),null}function bn(){if(rn!==null){var e=zs(Vo),t=ht.transition,n=ge;try{if(ht.transition=null,ge=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,Vo=0,ue&6)throw Error(a(331));var o=ue;for(ue|=4,Q=e.current;Q!==null;){var s=Q,c=s.child;if(Q.flags&16){var g=s.deletions;if(g!==null){for(var v=0;v<g.length;v++){var P=g[v];for(Q=P;Q!==null;){var D=Q;switch(D.tag){case 0:case 11:case 15:Lr(8,D,s)}var j=D.child;if(j!==null)j.return=D,Q=j;else for(;Q!==null;){D=Q;var O=D.sibling,H=D.return;if(Au(D),D===P){Q=null;break}if(O!==null){O.return=H,Q=O;break}Q=H}}}var Y=s.alternate;if(Y!==null){var X=Y.child;if(X!==null){Y.child=null;do{var _e=X.sibling;X.sibling=null,X=_e}while(X!==null)}}Q=s}}if(s.subtreeFlags&2064&&c!==null)c.return=s,Q=c;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lr(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,Q=C;break e}Q=s.return}}var S=e.current;for(Q=S;Q!==null;){c=Q;var T=c.child;if(c.subtreeFlags&2064&&T!==null)T.return=c,Q=T;else e:for(c=S;Q!==null;){if(g=Q,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Bo(9,g)}}catch(K){Te(g,g.return,K)}if(g===c){Q=null;break e}var A=g.sibling;if(A!==null){A.return=g.return,Q=A;break e}Q=g.return}}if(ue=o,Zt(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Jr,e)}catch{}r=!0}return r}finally{ge=n,ht.transition=t}}return!1}function Ju(e,t,n){t=Xn(n,t),t=mu(e,t,1),e=en(e,t,1),t=Ke(),e!==null&&(sr(e,1,t),tt(e,t))}function Te(e,t,n){if(e.tag===3)Ju(e,e,n);else for(;t!==null;){if(t.tag===3){Ju(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){e=Xn(n,e),e=gu(t,e,1),t=en(t,e,1),e=Ke(),t!==null&&(sr(t,1,e),tt(t,e));break}}t=t.return}}function kf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&($e&n)===n&&(Me===4||Me===3&&($e&130023424)===$e&&500>Pe()-Fi?En(e,0):Ii|=n),tt(e,t)}function Zu(e,t){t===0&&(e.mode&1?(t=br,br<<=1,!(br&130023424)&&(br=4194304)):t=1);var n=Ke();e=zt(e,t),e!==null&&(sr(e,t,n),tt(e,n))}function Tf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zu(e,n)}function Pf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),Zu(e,n)}var bu;bu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return be=!1,pf(e,t,n);be=!!(e.flags&131072)}else be=!1,Ee&&t.flags&1048576&&ja(t,Eo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fo(e,t),e=t.pendingProps;var o=$n(t,We.current);Qn(t,n),o=hi(null,t,r,e,o,n);var s=mi();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(s=!0,So(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,si(t),o.updater=Ao,t.stateNode=o,o._reactInternals=t,xi(t,r,e,n),t=Ti(null,t,r,!0,s,n)):(t.tag=0,Ee&&s&&Jl(t),Xe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Nf(r),e=kt(r,e),o){case 0:t=ki(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=wu(null,t,r,e,n);break e;case 14:t=xu(null,t,r,kt(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kt(r,o),ki(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kt(r,o),Tu(e,t,r,o,n);case 3:e:{if(Pu(t),e===null)throw Error(a(387));r=t.pendingProps,s=t.memoizedState,o=s.element,$a(e,t),No(t,r,null,n);var c=t.memoizedState;if(r=c.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Xn(Error(a(423)),t),t=_u(e,t,r,n,o);break e}else if(r!==o){o=Xn(Error(a(424)),t),t=_u(e,t,r,n,o);break e}else for(at=Xt(t.stateNode.containerInfo.firstChild),st=t,Ee=!0,Ct=null,n=Ba(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===o){t=Ut(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Va(t),e===null&&ei(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,c=o.children,Hl(r,o)?c=null:s!==null&&Hl(r,s)&&(t.flags|=32),ku(e,t),Xe(e,t,c,n),t.child;case 6:return e===null&&ei(t),null;case 13:return Nu(e,t,n);case 4:return ai(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hn(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kt(r,o),wu(e,t,r,o,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,c=o.value,ye(To,r._currentValue),r._currentValue=c,s!==null)if(Et(s.value,c)){if(s.children===o.children&&!Je.current){t=Ut(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var g=s.dependencies;if(g!==null){c=s.child;for(var v=g.firstContext;v!==null;){if(v.context===r){if(s.tag===1){v=Bt(-1,n&-n),v.tag=2;var P=s.updateQueue;if(P!==null){P=P.shared;var D=P.pending;D===null?v.next=v:(v.next=D.next,D.next=v),P.pending=v}}s.lanes|=n,v=s.alternate,v!==null&&(v.lanes|=n),li(s.return,n,t),g.lanes|=n;break}v=v.next}}else if(s.tag===10)c=s.type===t.type?null:s.child;else if(s.tag===18){if(c=s.return,c===null)throw Error(a(341));c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),li(c,n,t),c=s.sibling}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===t){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}Xe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Qn(t,n),o=ft(o),r=r(o),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,o=kt(r,t.pendingProps),o=kt(r.type,o),xu(e,t,r,o,n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:kt(r,o),Fo(e,t),t.tag=1,Ze(r)?(e=!0,So(t)):e=!1,Qn(t,n),pu(t,r,o),xi(t,r,o,n),Ti(null,t,r,!0,e,n);case 19:return Ou(e,t,n);case 22:return Cu(e,t,n)}throw Error(a(156,t.tag))};function ec(e,t){return Ms(e,t)}function _f(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new _f(e,t,n,r)}function Hi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nf(e){if(typeof e=="function")return Hi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===De)return 11;if(e===pe)return 14}return 2}function sn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yo(e,t,n,r,o,s){var c=2;if(r=e,typeof e=="function")Hi(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case B:return kn(n.children,o,s,t);case ie:c=8,o|=8;break;case he:return e=mt(12,n,t,o|2),e.elementType=he,e.lanes=s,e;case Le:return e=mt(13,n,t,o),e.elementType=Le,e.lanes=s,e;case fe:return e=mt(19,n,t,o),e.elementType=fe,e.lanes=s,e;case ne:return Xo(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:c=10;break e;case Ye:c=9;break e;case De:c=11;break e;case pe:c=14;break e;case se:c=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=mt(c,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function kn(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Xo(e,t,n,r){return e=mt(22,e,r,t),e.elementType=ne,e.lanes=n,e.stateNode={isHidden:!1},e}function qi(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Qi(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yi(e,t,n,r,o,s,c,g,v){return e=new Rf(e,t,n,g,v),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},si(s),e}function Of(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tc(e){if(!e)return Jt;e=e._reactInternals;e:{if(fn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Ra(e,n,t)}return t}function nc(e,t,n,r,o,s,c,g,v){return e=Yi(n,r,!0,e,o,s,c,g,v),e.context=tc(null),n=e.current,r=Ke(),o=on(n),s=Bt(r,o),s.callback=t??null,en(n,s,o),e.current.lanes=o,sr(e,o,r),tt(e,r),e}function Ko(e,t,n,r){var o=t.current,s=Ke(),c=on(o);return n=tc(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(s,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=en(o,t,c),e!==null&&(_t(e,o,c,s),_o(e,o,c)),c}function Jo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xi(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}var oc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ki(e){this._internalRoot=e}Zo.prototype.render=Ki.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Ko(e,t,null,null)},Zo.prototype.unmount=Ki.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Ko(null,e,null,null)}),t[Lt]=null}};function Zo(e){this._internalRoot=e}Zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$s();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Vs(e)}};function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lc(){}function Df(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var P=Jo(c);s.call(P)}}var c=nc(t,r,e,0,null,!1,!1,"",lc);return e._reactRootContainer=c,e[Lt]=c.current,xr(e.nodeType===8?e.parentNode:e),xn(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var g=r;r=function(){var P=Jo(v);g.call(P)}}var v=Yi(e,0,!1,null,null,!1,!1,"",lc);return e._reactRootContainer=v,e[Lt]=v.current,xr(e.nodeType===8?e.parentNode:e),xn(function(){Ko(t,v,n,r)}),v}function el(e,t,n,r,o){var s=n._reactRootContainer;if(s){var c=s;if(typeof o=="function"){var g=o;o=function(){var v=Jo(c);g.call(v)}}Ko(t,c,e,o)}else c=Df(n,t,e,o,r);return Jo(c)}Bs=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ir(t.pendingLanes);n!==0&&(xl(t,n|1),tt(t,Pe()),!(ue&6)&&(Zn=Pe()+500,Zt()))}break;case 13:xn(function(){var r=zt(e,1);if(r!==null){var o=Ke();_t(r,e,1,o)}}),Xi(e,1)}},El=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Ke();_t(t,e,134217728,n)}Xi(e,134217728)}},Us=function(e){if(e.tag===13){var t=on(e),n=zt(e,t);if(n!==null){var r=Ke();_t(n,e,t,r)}Xi(e,t)}},$s=function(){return ge},Gs=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}},hl=function(e,t,n){switch(t){case"input":if(il(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=vo(r);if(!o)throw Error(a(90));fs(r),il(r,o)}}}break;case"textarea":vs(e,n);break;case"select":t=n.value,t!=null&&Rn(e,!!n.multiple,t,!1)}},Ps=Gi,_s=xn;var jf={usingClientEntryPoint:!1,Events:[kr,Bn,vo,ks,Ts,Gi]},zr={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mf={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ds(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Jr=tl.inject(Mf),Nt=tl}catch{}}return nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jf,nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ji(t))throw Error(a(200));return Of(e,t,null,n)},nt.createRoot=function(e,t){if(!Ji(e))throw Error(a(299));var n=!1,r="",o=oc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Yi(e,1,!1,null,null,n,!1,r,o),e[Lt]=t.current,xr(e.nodeType===8?e.parentNode:e),new Ki(t)},nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Ds(t),e=e===null?null:e.stateNode,e},nt.flushSync=function(e){return xn(e)},nt.hydrate=function(e,t,n){if(!bo(t))throw Error(a(200));return el(null,e,t,!0,n)},nt.hydrateRoot=function(e,t,n){if(!Ji(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",c=oc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=nc(t,null,e,1,n??null,o,!1,s,c),e[Lt]=t.current,xr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zo(t)},nt.render=function(e,t,n){if(!bo(t))throw Error(a(200));return el(null,e,t,!1,n)},nt.unmountComponentAtNode=function(e){if(!bo(e))throw Error(a(40));return e._reactRootContainer?(xn(function(){el(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1},nt.unstable_batchedUpdates=Gi,nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bo(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return el(e,t,n,!1,r)},nt.version="18.3.1-next-f1338f8080-20240426",nt}var hc;function Ec(){if(hc)return es.exports;hc=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),es.exports=Wf(),es.exports}var mc;function Vf(){if(mc)return nl;mc=1;var l=Ec();return nl.createRoot=l.createRoot,nl.hydrateRoot=l.hydrateRoot,nl}var Hf=Vf(),ss=Ec();const Cc=R.createContext(null),qf=()=>{const l=R.useContext(Cc);if(!l)throw new Error("useMusicControl must be used within a MusicControlContext.Provider");return l},kc=R.createContext(null),Qf=()=>{const l=R.useContext(kc);if(!l)throw new Error("useSoundEffectsControl must be used within a SoundEffectsControlContext.Provider");return l},Tc=R.createContext(null),Pc=R.createContext(null);function rt(){const l=R.useContext(Tc);if(!l)throw new Error("useTetrixStateContext must be used within a TetrixStateProvider");return l}function ot(){const l=R.useContext(Pc);if(!l)throw new Error("useTetrixDispatchContext must be used within a TetrixDispatchProvider");return l}const _c=R.createContext(null),Ur=["add-block","fill-row","fill-column","remove","clear-all"];function Yf({children:l}){const[i,a]=R.useState({isEditorOpen:!1,currentTool:"none",selectedColor:"blue",showInstructions:!0,hasShownInstructions:!1,showGridDots:!0}),f=()=>{a(x=>({...x,isEditorOpen:!0,currentTool:x.currentTool==="none"?"add-block":x.currentTool,showInstructions:!x.hasShownInstructions,hasShownInstructions:!0}))},u=()=>{a(x=>({...x,isEditorOpen:!1,currentTool:"none"}))},d=()=>{a(x=>({...x,showInstructions:!1}))},p=()=>{a(x=>({...x,showGridDots:!x.showGridDots}))},m=x=>{a(_=>({..._,currentTool:x}))},y=x=>{a(_=>({..._,selectedColor:x}))},k=x=>{a(_=>{const I=Ur.indexOf(_.currentTool);let M;return x==="forward"?M=(I+1)%Ur.length:M=(I-1+Ur.length)%Ur.length,{..._,currentTool:Ur[M]}})},w=R.useMemo(()=>({state:i,openEditor:f,closeEditor:u,setTool:m,setColor:y,cycleTool:k,hideInstructions:d,toggleGridDots:p}),[i]);return h.jsx(_c.Provider,{value:w,children:l})}function ol(){const l=R.useContext(_c);if(!l)throw new Error("useDebugEditor must be used within a DebugEditorProvider");return l}function Nc(l){var d;let i=l.length,a=-1,f=((d=l[0])==null?void 0:d.length)??0,u=-1;for(let p=0;p<l.length;p++)for(let m=0;m<l[p].length;m++)l[p][m].isFilled&&(i=Math.min(i,p),a=Math.max(a,p),f=Math.min(f,m),u=Math.max(u,m));return{minRow:i,maxRow:a,minCol:f,maxCol:u,width:u-f+1,height:a-i+1}}function os(l,i){const a=[];for(let f=0;f<4;f++)for(let u=0;u<4;u++){const d=l[f][u];d.isFilled&&a.push({location:{row:i.row+f,column:i.column+u},block:d})}return a}function Xf(l,i,a){const f=Nc(l),u=f.minCol+(f.width-1)/2,d=f.minRow+(f.height-1)/2,p=1.5,m=(u-p)*(i+a),y=(d-p)*(i+a);return{offsetX:m,offsetY:y}}function gc(l,i,a,f,u=0,d,p){const m=a.getBoundingClientRect();if(d&&!p)return console.error("mousePositionToGridLocation called with shape but no precomputedOffsets - this is a logic error"),null;const y=(p==null?void 0:p.gridGap)??2,k=(p==null?void 0:p.tileSize)??(m.width-y*9)/f.columns,w=k+y,x=l,_=i-u;let I=x,M=_;d&&p&&(I=x+p.gridOffsetX,M=_+p.gridOffsetY);const V=k*3.5;if(I<m.left-V||I>m.right+V||M<m.top-V||M>m.bottom+V)return null;const U=I-m.left,z=M-m.top,$=U/w,W=z/w,G=Math.floor($+.5)+1;return{row:Math.floor(W+.5)+1,column:G}}function Pn(l){const i=l.length,a=new Array(i).fill(null).map(()=>new Array(i).fill(null).map(()=>({...l[0][0],isFilled:!1})));for(let f=0;f<i;f++)for(let u=0;u<i;u++)a[u][i-1-f]=l[f][u];return a}function as(l){return l.map(i=>i.map(a=>({...a})))}function Gr(l=7){const i=["grey","red","orange","yellow","green","blue","purple"],a=Math.max(1,Math.min(7,l)),f=i.slice(0,a),u=Math.floor(Math.random()*f.length);return f[u]}function us(l,i){return`R${l}C${i}`}function ls(l,i,a){if(i===null)return!1;for(let f=0;f<4;f++)for(let u=0;u<4;u++)if(l[f][u].isFilled){const p=i.row+f,m=i.column+u;if(p<1||p>10||m<1||m>10)return!1;const y=us(p,m),k=a.get(y);if(k!=null&&k.isFilled)return!1}return!0}function Kf(l,i,a){const f=[];if(i===null)return f;for(let u=0;u<4;u++)for(let d=0;d<4;d++)if(l[u][d].isFilled){const m=i.row+u,y=i.column+d,k=m<1||m>10||y<1||y>10;let w=!1;if(!k){const x=us(m,y),_=a.get(x);w=(_==null?void 0:_.isFilled)??!1}(k||w)&&f.push({shapeRow:u,shapeCol:d})}return f}function _n(){return{color:Gr(),isFilled:!1}}function Nn(l){return{color:l,isFilled:!0}}function Jf(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[i(),i(),i(),i()],[a(),a(),a(),a()],[i(),i(),i(),i()]]}function Zf(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[i(),a(),a(),i()],[i(),a(),a(),i()],[i(),i(),i(),i()]]}function bf(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[i(),a(),i(),i()],[a(),a(),a(),i()],[i(),i(),i(),i()]]}function ep(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[i(),a(),a(),i()],[a(),a(),i(),i()],[i(),i(),i(),i()]]}function tp(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[a(),a(),i(),i()],[i(),a(),a(),i()],[i(),i(),i(),i()]]}function np(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[a(),i(),i(),i()],[a(),a(),a(),i()],[i(),i(),i(),i()]]}function rp(l){const i=_n,a=()=>Nn(l);return[[i(),i(),i(),i()],[a(),a(),a(),i()],[a(),i(),i(),i()],[i(),i(),i(),i()]]}function op(){const l=Gr(),i=()=>({color:Gr(),isFilled:!1}),a=()=>({color:l,isFilled:!0}),f=[[a(),i(),i(),i()],[i(),a(),i(),i()],[i(),i(),a(),i()],[i(),i(),i(),a()]],u=Math.floor(Math.random()*2);let d=as(f);for(let p=0;p<u;p++)d=Pn(d);return d}function cs(){const l=Gr(),i=()=>({color:Gr(),isFilled:!1}),a=()=>({color:l,isFilled:!0}),f=[{template:[[i(),i(),i(),i()],[i(),i(),i(),i()],[a(),a(),a(),a()],[i(),i(),i(),i()]],rotations:2},{template:[[i(),i(),i(),i()],[i(),a(),a(),i()],[i(),a(),a(),i()],[i(),i(),i(),i()]],rotations:1},{template:[[i(),i(),i(),i()],[i(),a(),i(),i()],[a(),a(),a(),i()],[i(),i(),i(),i()]],rotations:4},{template:[[i(),i(),i(),i()],[i(),a(),a(),i()],[a(),a(),i(),i()],[i(),i(),i(),i()]],rotations:2},{template:[[i(),i(),i(),i()],[a(),a(),i(),i()],[i(),a(),a(),i()],[i(),i(),i(),i()]],rotations:2},{template:[[i(),i(),i(),i()],[a(),i(),i(),i()],[a(),a(),a(),i()],[i(),i(),i(),i()]],rotations:4},{template:[[i(),i(),i(),i()],[a(),a(),a(),i()],[a(),i(),i(),i()],[i(),i(),i(),i()]],rotations:4}],{template:u,rotations:d}=f[Math.floor(Math.random()*f.length)],p=Math.floor(Math.random()*d);let m=as(u);for(let y=0;y<p;y++)m=Pn(m);return m}function lp(l){const i=new Array(11).fill(null).map(()=>new Array(11).fill(!1));for(let a=1;a<=10;a++)for(let f=1;f<=10;f++){const u=l.get(us(a,f));u!=null&&u.isFilled&&(i[a][f]=!0)}for(let a=1;a<=7;a++)for(let f=1;f<=7;f++)if(ip(i,a,f))return!0;return!1}function ip(l,i,a){const f=vc(l,i,a,!0),u=yc(l,i,a,!0);if(f&&u)return!0;const d=vc(l,i,a,!1),p=yc(l,i,a,!1);return d&&p}function vc(l,i,a,f){for(let u=0;u<4;u++){const d=i+u,p=f?a+u:a+(3-u);if(!sp(l,d,p))return!1}return!0}function yc(l,i,a,f){for(let u=0;u<4;u++){const d=a+u,p=f?i+u:i+(3-u);if(!ap(l,d,p))return!1}return!0}function sp(l,i,a){let f=0,u=!1;for(let d=1;d<=10;d++)l[i][d]?f++:d===a&&(u=!0);return f===9&&u}function ap(l,i,a){let f=0,u=!1;for(let d=1;d<=10;d++)l[d][i]?f++:d===a&&(u=!0);return f===9&&u}const up=["grey","red","orange","yellow","green","blue","purple"],cp=()=>{const{state:l,closeEditor:i,setTool:a,setColor:f,cycleTool:u,hideInstructions:d,toggleGridDots:p}=ol(),m=ot(),y=R.useCallback(k=>{const w=l.selectedColor;let x;switch(k){case"I":x=Jf(w);break;case"O":x=Zf(w);break;case"T":x=bf(w);break;case"S":x=ep(w);break;case"Z":x=tp(w);break;case"J":x=np(w);break;case"L":x=rp(w);break;default:return}m({type:"DEBUG_REPLACE_FIRST_SHAPE",value:{shape:x}})},[l.selectedColor,m]);return R.useEffect(()=>{if(!l.isEditorOpen)return;const k=w=>{w.preventDefault();const x=w.deltaY>0?"forward":"backward";u(x)};return globalThis.addEventListener("wheel",k,{passive:!1}),()=>{globalThis.removeEventListener("wheel",k)}},[l.isEditorOpen,u]),R.useEffect(()=>{if(!l.isEditorOpen)return;const k=w=>{w.key==="Escape"&&i()};return globalThis.addEventListener("keydown",k),()=>{globalThis.removeEventListener("keydown",k)}},[l.isEditorOpen,i]),l.isEditorOpen?ss.createPortal(h.jsxs(h.Fragment,{children:[l.showInstructions&&h.jsx("div",{className:"debug-editor-overlay",children:h.jsxs("div",{className:"debug-editor-container",children:[h.jsxs("div",{className:"debug-editor-header",children:[h.jsx("h2",{className:"debug-editor-title",children:"Debug Editor"}),h.jsx("button",{className:"debug-close-button",onClick:i,children:"Close"})]}),h.jsxs("div",{className:"debug-editor-content",children:[h.jsxs("div",{className:"debug-instructions",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Add Block Tool:"})," Click any tile to add a block with the selected color."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fill Row Tool:"})," Click any tile to fill all tiles in that row (except the clicked tile) with the selected color."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fill Column Tool:"})," Click any tile to fill all tiles in that column (except the clicked tile) with the selected color."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Remove Tool:"})," Click any tile to remove its block."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Clear All Tool:"})," Click any tile to remove all blocks from the entire grid."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Mouse Wheel:"})," Scroll to cycle between tools."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Color Picker:"})," Select the color for blocks placed by add and fill tools."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Shape Picker:"})," Click a shape button to remove the first shape and add that shape type (in the selected color) to the end of the queue."]})]}),h.jsx("div",{className:"debug-instructions-actions",children:h.jsx("button",{className:"debug-continue-button",onClick:d,children:"Continue"})})]})]})}),h.jsxs("div",{className:"debug-tool-palette",children:[h.jsxs("div",{className:"debug-tool-section",children:[h.jsx("div",{className:"debug-tool-label",children:"Tools"}),h.jsxs("div",{className:"debug-tools-grid",children:[h.jsx("button",{className:`debug-tool-button ${l.currentTool==="add-block"?"active":""}`,onClick:()=>a("add-block"),title:"Add Block",children:""}),h.jsx("button",{className:`debug-tool-button ${l.currentTool==="fill-row"?"active":""}`,onClick:()=>a("fill-row"),title:"Fill Row (except clicked tile)",children:""}),h.jsx("button",{className:`debug-tool-button ${l.currentTool==="fill-column"?"active":""}`,onClick:()=>a("fill-column"),title:"Fill Column (except clicked tile)",children:""}),h.jsx("button",{className:`debug-tool-button ${l.currentTool==="remove"?"active":""}`,onClick:()=>a("remove"),title:"Remove Block",children:""}),h.jsx("button",{className:`debug-tool-button ${l.currentTool==="clear-all"?"active":""}`,onClick:()=>a("clear-all"),title:"Clear All Blocks",children:""})]})]}),h.jsxs("div",{className:"debug-tool-section",children:[h.jsx("div",{className:"debug-tool-label",children:"Color"}),h.jsx("div",{className:"color-picker-grid",children:up.map(k=>h.jsx("button",{className:`color-picker-button color-${k} ${l.selectedColor===k?"active":""}`,onClick:()=>f(k),title:k},k))})]}),h.jsxs("div",{className:"debug-tool-section",children:[h.jsx("div",{className:"debug-tool-label",children:"Shape Picker"}),h.jsxs("div",{className:"shape-picker-grid",children:[h.jsx("button",{className:"shape-picker-button",onClick:()=>y("I"),title:"I-Piece (4-block line)",children:"I"}),h.jsx("button",{className:"shape-picker-button",onClick:()=>y("O"),title:"O-Piece (2x2 square)",children:"O"}),h.jsx("button",{className:"shape-picker-button",onClick:()=>y("T"),title:"T-Piece",children:"T"}),h.jsx("button",{className:"shape-picker-button",onClick:()=>y("S"),title:"S-Piece",children:"S"}),h.jsx("button",{className:"shape-picker-button",onClick:()=>y("Z"),title:"Z-Piece",children:"Z"}),h.jsx("button",{className:"shape-picker-button",onClick:()=>y("J"),title:"J-Piece",children:"J"}),h.jsx("button",{className:"shape-picker-button",onClick:()=>y("L"),title:"L-Piece",children:"L"})]})]}),h.jsxs("div",{className:"debug-tool-section",children:[h.jsx("div",{className:"debug-tool-label",children:"View Options"}),h.jsx("div",{className:"debug-tools-grid",children:h.jsx("button",{className:`debug-tool-button ${l.showGridDots?"active":""}`,onClick:p,title:"Toggle Dragging Shape Grid Dots",children:""})})]}),h.jsx("div",{className:"debug-tool-section",children:h.jsx("button",{className:"debug-close-editor-button",onClick:i,children:"Close Editor"})})]})]}),document.body):null},Ne={total:0,colors:{}},$r={shapesPlaced:{...Ne},linesCleared:{...Ne},rowsCleared:{...Ne},doubleRows:{...Ne},tripleRows:{...Ne},quadrupleRows:{...Ne},doubleRowsWithSingleColumns:{...Ne},tripleRowsWithSingleColumns:{...Ne},tripleRowsWithDoubleColumns:{...Ne},quadrupleRowsWithSingleColumns:{...Ne},columnsCleared:{...Ne},doubleColumns:{...Ne},tripleColumns:{...Ne},quadrupleColumns:{...Ne},doubleColumnsWithSingleRows:{...Ne},tripleColumnsWithDoubleRows:{...Ne},tripleColumnsWithSingleRows:{...Ne},quadrupleColumnsWithSingleRows:{...Ne},singleColumnBySingleRow:{...Ne},doubleColumnByDoubleRow:{...Ne},quadrupleRowByQuadrupleColumn:{...Ne}},dp={allTime:JSON.parse(JSON.stringify($r)),highScore:JSON.parse(JSON.stringify($r)),current:JSON.parse(JSON.stringify($r)),lastUpdated:Date.now()},Rc="TetrixGameDB",fp=3,Mt="gameState",gt="score",vt="tiles",yt="shapes",Qe="settings",St="modifiers",wt="stats";function pp(){return typeof indexedDB<"u"}async function hp(){const l=indexedDB.deleteDatabase(Rc);return new Promise((i,a)=>{l.onsuccess=()=>{setTimeout(()=>{Oc().then(i).catch(a)},100)},l.onerror=()=>{console.error("Failed to delete corrupted database"),a(new Error("Database schema mismatch and failed to recreate"))}})}function Oc(){return new Promise((l,i)=>{const a=indexedDB.open(Rc,fp);a.onerror=()=>{console.error("Failed to open IndexedDB:",a.error),i(new Error(`Failed to open IndexedDB: ${a.error}`))},a.onsuccess=async()=>{const f=a.result,d=[Mt,gt,vt,yt,Qe,St,wt].filter(p=>!f.objectStoreNames.contains(p));if(d.length>0){console.warn("Missing object stores:",d,"Recreating database..."),f.close();try{const p=await hp();l(p)}catch(p){i(p)}return}l(f)},a.onupgradeneeded=f=>{const u=f.target.result;console.log("Upgrading database from version",f.oldVersion,"to",f.newVersion),u.objectStoreNames.contains(Mt)||(console.log("Creating",Mt,"store"),u.createObjectStore(Mt)),u.objectStoreNames.contains(gt)||(console.log("Creating",gt,"store"),u.createObjectStore(gt)),u.objectStoreNames.contains(vt)||(console.log("Creating",vt,"store"),u.createObjectStore(vt)),u.objectStoreNames.contains(yt)||(console.log("Creating",yt,"store"),u.createObjectStore(yt)),u.objectStoreNames.contains(Qe)||(console.log("Creating",Qe,"store"),u.createObjectStore(Qe)),u.objectStoreNames.contains(St)||(console.log("Creating",St,"store"),u.createObjectStore(St)),u.objectStoreNames.contains(wt)||(console.log("Creating",wt,"store"),u.createObjectStore(wt))}})}function Be(){return pp()?Oc():Promise.reject(new Error("IndexedDB not available in this environment"))}async function mp(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([Mt],"readonly").objectStore(Mt).get("current");d.onsuccess=()=>{const p=d.result;if(p!=null&&p.tiles&&Array.isArray(p.tiles)){const m={score:p.score||0,tiles:p.tiles||[],nextShapes:p.nextShapes||[],savedShape:p.savedShape||null};i(m)}else i(null)},d.onerror=()=>{console.error("Failed to load game state:",d.error),a(new Error(`Failed to load game state: ${d.error}`))}})}catch(l){return console.error("Error loading game state:",l),null}}async function gp(l){try{const i=await Be(),a={score:l,lastUpdated:Date.now()};return new Promise((f,u)=>{try{const d=i.transaction([gt],"readwrite");d.onerror=()=>{console.error("Transaction failed for score save:",d.error),u(new Error(`Transaction failed: ${d.error}`))};const m=d.objectStore(gt).put(a,"current");m.onsuccess=()=>{console.log("Score saved successfully:",l),f()},m.onerror=()=>{console.error("Failed to save score:",m.error),u(new Error(`Failed to save score: ${m.error}`))}}catch(d){console.error("Failed to create transaction for score save:",d),u(new Error(`Transaction creation failed: ${d}`))}})}catch(i){throw console.error("Error saving score:",i),i}}async function vp(l){try{const i=await Be(),a={tiles:l,lastUpdated:Date.now()};return new Promise((f,u)=>{const m=i.transaction([vt],"readwrite").objectStore(vt).put(a,"current");m.onsuccess=()=>{console.log("Tiles saved successfully"),f()},m.onerror=()=>{console.error("Failed to save tiles:",m.error),u(new Error(`Failed to save tiles: ${m.error}`))}})}catch(i){throw console.error("Error saving tiles:",i),i}}async function yp(l,i){try{const a=await Be(),f={nextShapes:l,savedShape:i,lastUpdated:Date.now()};return new Promise((u,d)=>{const y=a.transaction([yt],"readwrite").objectStore(yt).put(f,"current");y.onsuccess=()=>{console.log("Shapes saved successfully"),u()},y.onerror=()=>{console.error("Failed to save shapes:",y.error),d(new Error(`Failed to save shapes: ${y.error}`))}})}catch(a){throw console.error("Error saving shapes:",a),a}}async function Sp(l){try{const i=await Be();let a={isMuted:!1,lastUpdated:Date.now()};try{const d=await Mc();a=(d==null?void 0:d.soundEffects)||a}catch{}const u={music:{isMuted:l,lastUpdated:Date.now()},soundEffects:a,lastUpdated:Date.now()};return new Promise((d,p)=>{const k=i.transaction([Qe],"readwrite").objectStore(Qe).put(u,"current");k.onsuccess=()=>{console.log("Music settings saved successfully:",l),d()},k.onerror=()=>{console.error("Failed to save music settings:",k.error),p(new Error(`Failed to save music settings: ${k.error}`))}})}catch(i){throw console.error("Error saving music settings:",i),i}}async function wp(l){try{const i=await Be();let a={isMuted:!1,lastUpdated:Date.now()};try{const d=await Mc();a=(d==null?void 0:d.music)||a}catch{}const f={isMuted:l,lastUpdated:Date.now()},u={music:a,soundEffects:f,lastUpdated:Date.now()};return new Promise((d,p)=>{const k=i.transaction([Qe],"readwrite").objectStore(Qe).put(u,"current");k.onsuccess=()=>{console.log("Sound effects settings saved successfully:",l),d()},k.onerror=()=>{console.error("Failed to save sound effects settings:",k.error),p(new Error(`Failed to save sound effects settings: ${k.error}`))}})}catch(i){throw console.error("Error saving sound effects settings:",i),i}}async function xp(l){try{const i=await Be(),a={...l,lastUpdated:Date.now()};return new Promise((f,u)=>{const m=i.transaction([wt],"readwrite").objectStore(wt).put(a,"current");m.onsuccess=()=>{f()},m.onerror=()=>{console.error("Failed to save stats:",m.error),u(new Error(`Failed to save stats: ${m.error}`))}})}catch(i){throw console.error("Error saving stats:",i),i}}async function Ep(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([gt],"readonly").objectStore(gt).get("current");d.onsuccess=()=>{const p=d.result;i((p==null?void 0:p.score)??0)},d.onerror=()=>{console.error("Failed to load score:",d.error),a(new Error(`Failed to load score: ${d.error}`))}})}catch(l){return console.error("Error loading score:",l),0}}async function Cp(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([vt],"readonly").objectStore(vt).get("current");d.onsuccess=()=>{const p=d.result;p!=null&&p.tiles&&Array.isArray(p.tiles)?i(p.tiles):i(null)},d.onerror=()=>{console.error("Failed to load tiles:",d.error),a(new Error(`Failed to load tiles: ${d.error}`))}})}catch(l){return console.error("Error loading tiles:",l),null}}async function Dc(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([yt],"readonly").objectStore(yt).get("current");d.onsuccess=()=>{const p=d.result;i(p?{nextShapes:p.nextShapes||[],savedShape:p.savedShape||null}:null)},d.onerror=()=>{console.error("Failed to load shapes:",d.error),a(new Error(`Failed to load shapes: ${d.error}`))}})}catch(l){return console.error("Error loading shapes:",l),null}}async function kp(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([Qe],"readonly").objectStore(Qe).get("current");d.onsuccess=()=>{var m;const p=d.result;i(((m=p==null?void 0:p.music)==null?void 0:m.isMuted)??!1)},d.onerror=()=>{console.error("Failed to load music settings:",d.error),a(new Error(`Failed to load music settings: ${d.error}`))}})}catch(l){return console.error("Error loading music settings:",l),!1}}async function Tp(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([Qe],"readonly").objectStore(Qe).get("current");d.onsuccess=()=>{var m;const p=d.result;i(((m=p==null?void 0:p.soundEffects)==null?void 0:m.isMuted)??!1)},d.onerror=()=>{console.error("Failed to load sound effects settings:",d.error),a(new Error(`Failed to load sound effects settings: ${d.error}`))}})}catch(l){return console.error("Error loading sound effects settings:",l),!1}}async function jc(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([wt],"readonly").objectStore(wt).get("current");d.onsuccess=()=>{const p=d.result;i(p||null)},d.onerror=()=>{console.error("Failed to load stats:",d.error),a(new Error(`Failed to load stats: ${d.error}`))}})}catch(l){return console.error("Error loading stats:",l),null}}async function Pp(l){try{const i=await Be(),a={unlockedModifiers:Array.from(l),lastUpdated:Date.now()};return new Promise((f,u)=>{const m=i.transaction([St],"readwrite").objectStore(St).put(a,"current");m.onsuccess=()=>{console.log("Modifiers saved successfully:",a.unlockedModifiers),f()},m.onerror=()=>{console.error("Failed to save modifiers:",m.error),u(new Error(`Failed to save modifiers: ${m.error}`))}})}catch(i){throw console.error("Error saving modifiers:",i),i}}async function _p(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([St],"readonly").objectStore(St).get("current");d.onsuccess=()=>{const p=d.result;p!=null&&p.unlockedModifiers&&Array.isArray(p.unlockedModifiers)?i(new Set(p.unlockedModifiers)):i(new Set)},d.onerror=()=>{console.error("Failed to load modifiers:",d.error),a(new Error(`Failed to load modifiers: ${d.error}`))}})}catch(l){return console.error("Error loading modifiers:",l),new Set}}async function Mc(){try{const l=await Be();return new Promise((i,a)=>{const d=l.transaction([Qe],"readonly").objectStore(Qe).get("current");d.onsuccess=()=>{const p=d.result;i(p||null)},d.onerror=()=>{console.error("Failed to load game settings:",d.error),a(new Error(`Failed to load game settings: ${d.error}`))}})}catch(l){return console.error("Error loading game settings:",l),null}}async function Np(){var l;try{const[i,a,f]=await Promise.all([Ep(),Cp(),Dc()]);let u=[];if(a&&Array.isArray(a)&&(a.length>0&&"key"in a[0]&&"data"in a[0]?u=a.map(p=>{const m=p.key.match(/R(\d+)C(\d+)/);if(!m)throw new Error(`Invalid tile key: ${p.key}`);const y=parseInt(m[1],10),k=parseInt(m[2],10);return{id:`(row: ${y}, column: ${k})`,location:{row:y,column:k},block:{isFilled:p.data.isFilled,color:p.data.color}}}):u=a),u.length===100)return console.log("Loaded game state from granular stores"),{score:i,tiles:u,nextShapes:(f==null?void 0:f.nextShapes)??[],savedShape:(f==null?void 0:f.savedShape)??null};console.log("Granular stores empty, trying legacy store...");const d=await mp();if(((l=d==null?void 0:d.tiles)==null?void 0:l.length)===100){console.log("Loaded game state from legacy store");const p=d.tiles.map(m=>({key:`R${m.location.row}C${m.location.column}`,data:{isFilled:m.block.isFilled,color:m.block.color}}));return Ge(d.score,p,d.nextShapes,d.savedShape).catch(m=>{console.error("Failed to migrate legacy data to granular stores:",m)}),d}return console.log("No saved game state found in either granular or legacy stores"),null}catch(i){return console.error("Error loading complete game state:",i),null}}async function Ge(l,i,a,f,u){const d=[];l!==void 0&&d.push(gp(l).catch(p=>{console.warn("Failed to save score, continuing without persistence:",p.message)})),i&&d.push(vp(i).catch(p=>{console.warn("Failed to save tiles, continuing without persistence:",p.message)})),(a!==void 0||f!==void 0)&&d.push((async()=>{try{const p=await Dc();await yp(a??(p==null?void 0:p.nextShapes)??[],f??(p==null?void 0:p.savedShape)??null)}catch(p){console.warn("Failed to save shapes, continuing without persistence:",p instanceof Error?p.message:"Unknown error")}})()),u&&d.push(xp(u).catch(p=>{console.warn("Failed to save stats, continuing without persistence:",p.message)})),await Promise.all(d)}async function Rp(){try{let l=null;try{l=await jc()}catch(a){console.warn("Failed to load stats during clear:",a)}const i=await Be();return new Promise((a,f)=>{const u=i.transaction([Mt,gt,vt,yt,St,wt],"readwrite"),d=u.objectStore(Mt),p=u.objectStore(gt),m=u.objectStore(vt),y=u.objectStore(yt),k=u.objectStore(St),w=u.objectStore(wt);if(d.delete("current"),p.delete("current"),m.delete("current"),y.delete("current"),k.delete("current"),l){const x={...l,current:JSON.parse(JSON.stringify($r)),lastUpdated:Date.now()};w.put(x,"current"),console.log("Game stats reset (history preserved)")}else w.delete("current");u.oncomplete=()=>{console.log("Game data cleared successfully (settings preserved)"),a()},u.onerror=()=>{console.error("Failed to clear game data:",u.error),f(new Error(`Failed to clear game data: ${u.error}`))}})}catch(l){throw console.error("Error clearing game data:",l),l}}async function Op(){try{const l=await Be();await new Promise((i,a)=>{const f=l.transaction([Mt,gt,vt,yt,Qe,St,wt],"readwrite"),u=f.objectStore(Mt),d=f.objectStore(gt),p=f.objectStore(vt),m=f.objectStore(yt),y=f.objectStore(Qe),k=f.objectStore(St),w=f.objectStore(wt);u.delete("current"),d.delete("current"),p.delete("current"),m.delete("current"),y.delete("current"),k.delete("current"),w.delete("current"),f.oncomplete=()=>{console.log("All data (including settings) cleared successfully"),i()},f.onerror=()=>{console.error("Failed to clear all data:",f.error),a(new Error(`Failed to clear all data: ${f.error}`))}});try{localStorage.clear(),console.log("localStorage cleared")}catch(i){console.warn("Failed to clear localStorage:",i)}if("caches"in globalThis)try{const i=await caches.keys();await Promise.all(i.map(a=>caches.delete(a))),console.log("Service worker caches cleared")}catch(i){console.warn("Failed to clear caches:",i)}if("serviceWorker"in navigator)try{const i=await navigator.serviceWorker.getRegistrations();await Promise.all(i.map(a=>a.unregister())),console.log("Service workers unregistered")}catch(i){console.warn("Failed to unregister service workers:",i)}console.log("Reloading page from server..."),globalThis.location.reload()}catch(l){console.error("Error during full data clear:",l),globalThis.location.reload()}}const Dp=()=>{const[l,i]=R.useState(!1),[a,f]=R.useState(!1),u=R.useRef(null),d=R.useRef(null),{isMuted:p,toggleMute:m}=qf(),{isMuted:y,toggleMute:k}=Qf(),w=ot(),{openEditor:x}=ol(),_=()=>{i(!l)},I=()=>{f(!a)},M=async()=>{try{await Rp(),w({type:"RESET_GAME"}),globalThis.location.reload()}catch($){console.error("Failed to reset game:",$),w({type:"RESET_GAME"})}},V=()=>{globalThis.confirm(` WARNING: This will delete ALL data including your settings, clear the cache, and reload the app from the server.

This is only needed if the app is in a bad state.

Are you sure you want to continue?`)&&Op().catch(W=>{console.error("Failed to clear all data:",W),alert("Failed to clear data completely. Reloading anyway..."),globalThis.location.reload()})},U=$=>{const W={x:$.clientX,y:$.clientY};w({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:1e3},mousePosition:W}})},z=$=>{$.target===$.currentTarget&&i(!1)};return R.useEffect(()=>{const $=W=>{W.key==="Escape"&&i(!1)};return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[]),h.jsxs("div",{className:"menu-dropdown",ref:u,children:[h.jsx("button",{ref:d,className:"hamburger-button",onClick:_,title:"Menu","aria-label":"Open menu","aria-expanded":l,children:h.jsxs("div",{className:"hamburger-lines",children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]})}),l&&ss.createPortal(h.jsx("div",{className:"dropdown-overlay",onClick:z,children:h.jsxs("div",{className:"dropdown-content",children:[h.jsxs("div",{className:"menu-item",children:[h.jsxs("label",{className:"toggle-switch",title:p?"Turn on music":"Turn off music",children:[h.jsx("input",{type:"checkbox",checked:!p,onChange:m,className:"toggle-input","aria-label":p?"Turn on background music":"Turn off background music"}),h.jsx("span",{className:"toggle-slider"})]}),h.jsx("span",{className:"menu-label",children:"Music"})]}),h.jsxs("div",{className:"menu-item",children:[h.jsxs("label",{className:"toggle-switch",title:y?"Turn on sound effects":"Turn off sound effects",children:[h.jsx("input",{type:"checkbox",checked:!y,onChange:k,className:"toggle-input","aria-label":y?"Turn on sound effects":"Turn off sound effects"}),h.jsx("span",{className:"toggle-slider"})]}),h.jsx("span",{className:"menu-label",children:"Sound Effects"})]}),h.jsx("div",{className:"menu-item",children:h.jsx("button",{className:"menu-action-button",onClick:M,title:"Reset the game and clear all saved data (preserves settings)",children:"New Game"})}),h.jsx("div",{className:"menu-item",children:h.jsx("a",{className:"menu-action-button menu-link-button",href:"/how-to-play.html",title:"Learn how to play Tetrix",children:"How to Play"})}),h.jsx("div",{className:"menu-item debug-submenu",children:h.jsxs("button",{className:"debug-toggle",onClick:I,"aria-expanded":a,children:[h.jsx("span",{className:"menu-label",children:"Debug"}),h.jsx("span",{className:`debug-arrow ${a?"open":""}`,children:""})]})}),a&&h.jsxs("div",{className:"debug-submenu-content",children:[h.jsx("div",{className:"menu-item submenu-item",children:h.jsx("button",{className:"debug-action-button",onClick:U,title:"Inject points to test the gem shower system! Try 100, 1000, or 999999 points.",children:"Inject Points"})}),h.jsx("div",{className:"menu-item submenu-item",children:h.jsx("button",{className:"debug-action-button",onClick:()=>{x(),i(!1)},title:"Open the debug editor to manually edit the game grid",children:"Debug Editor"})}),h.jsx("div",{className:"menu-item submenu-item",children:h.jsx("button",{className:"debug-action-button",onClick:()=>{w({type:"OPEN_MAP"}),i(!1)},title:"Open the Level Map overlay (dev only)",children:"Open Level Map"})}),h.jsx("div",{className:"menu-item submenu-item",children:h.jsx("button",{className:"debug-action-button",onClick:()=>{w({type:"DEBUG_INCREMENT_STATS"})},title:"Add 1 to all stats to test the overlay",children:"Increment Stats"})}),h.jsx("div",{className:"menu-item submenu-item",children:h.jsx("button",{className:"debug-action-button danger",onClick:V,title:" Nuclear option: Clear ALL data including settings and reload fresh from server",children:"Clear All Data"})})]})]})}),document.body)]})},jp=()=>{const{gameState:l}=rt(),i=ot(),a=f=>{if(f.shiftKey){i(l==="playing"?{type:"OPEN_MAP"}:{type:"CLOSE_MAP"});return}if(l==="playing"){const u=new CustomEvent("tetrix-show-toast",{detail:{message:"Level Map Coming Soon!"}});window.dispatchEvent(u)}else i({type:"CLOSE_MAP"})};return h.jsx("button",{className:"location-button",onClick:a,"aria-label":"Toggle Level Map",children:h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),h.jsx("path",{d:"M12 6.5l1.09 2.21 2.44.36-1.77 1.72.42 2.44L12 11.77l-2.18 1.46.42-2.44-1.77-1.72 2.44-.36L12 6.5z",fill:"currentColor"})]})})},Mp=({isMuted:l})=>{const i=R.useRef(null),a=R.useRef(!1),[f,u]=R.useState(!1),{hasPlacedFirstShape:d}=rt(),p=xc.useMemo(()=>["/sound/bgm/Jazz2_KEY_C_in_C.mp3","/sound/bgm/Jazz3_KEY_Ab_in_C.mp3","/sound/bgm/Jazz4_KEY_C_in_C.mp3"],[]);return R.useEffect(()=>{if(d&&!a.current){const m=setTimeout(()=>{a.current=!0,u(!0)},1e3);return()=>clearTimeout(m)}},[d]),R.useEffect(()=>{const m=i.current;if(!m)return;const y=()=>{const x=Math.floor(Math.random()*p.length);return p[x]},k=async()=>{if(f&&!l){m.src=y(),m.loop=!1,m.volume=.3;try{await m.play()}catch(x){console.log("Auto-play was prevented by browser policy:",x)}}},w=()=>{f&&!l&&k()};return f&&!l&&k(),m.addEventListener("ended",w),()=>{m.removeEventListener("ended",w)}},[f,l,p]),R.useEffect(()=>{const m=i.current;m&&(l?m.pause():f&&m.play().catch(y=>{console.log("Play was prevented:",y)}))},[l,f]),h.jsx("div",{className:"background-music",children:h.jsx("audio",{ref:i,preload:"auto",children:h.jsx("track",{kind:"captions"})})})};function Lp(l,i){const a=Math.pow(l,2),f=Math.pow(i,2),u=l>0&&i>0?l*i*2:0,p=(a+f+u)*5;return{rowsCleared:l,columnsCleared:i,pointsEarned:p}}function Ap(l){if(l<1e3)return l.toString();const i=[{value:1e18,suffix:"Q"},{value:1e15,suffix:"q"},{value:1e12,suffix:"t"},{value:1e9,suffix:"b"},{value:1e6,suffix:"m"},{value:1e3,suffix:"k"}];for(const{value:a,suffix:f}of i)if(l>=a){const u=l/a;return u>=100?Math.round(u)+f:(Math.round(u*10)/10).toFixed(1)+f}return l.toString()}const Lc=({size:l,className:i=""})=>{const a=l?{width:l,height:l}:{};return h.jsxs("svg",{...a,viewBox:"0 0 24 24",className:`blue-gem-icon ${i}`,xmlns:"http://www.w3.org/2000/svg",children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"blueGemGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#87CEEB"}),h.jsx("stop",{offset:"30%",stopColor:"#4169E1"}),h.jsx("stop",{offset:"70%",stopColor:"#1E3A8A"}),h.jsx("stop",{offset:"100%",stopColor:"#0F1629"})]}),h.jsxs("linearGradient",{id:"blueGemGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"50%",children:[h.jsx("stop",{offset:"0%",stopColor:"#B0E0E6"}),h.jsx("stop",{offset:"50%",stopColor:"#4682B4"}),h.jsx("stop",{offset:"100%",stopColor:"#2E3A59"})]}),h.jsxs("linearGradient",{id:"blueGemHighlight",x1:"0%",y1:"0%",x2:"70%",y2:"30%",children:[h.jsx("stop",{offset:"0%",stopColor:"#E0F6FF",stopOpacity:"0.8"}),h.jsx("stop",{offset:"100%",stopColor:"#87CEEB",stopOpacity:"0.3"})]}),h.jsxs("filter",{id:"gemGlow",children:[h.jsx("feGaussianBlur",{stdDeviation:"0.5"}),h.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.25 0 0 0 0 0.41 0 0 0 0 0.88 0 0 0 0.8 0"})]})]}),h.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"url(#blueGemGradient1)",stroke:"#1E40AF",strokeWidth:"0.5"}),h.jsx("path",{d:"M12 2 L18 8 L12 10 L6 8 Z",fill:"url(#blueGemGradient2)",stroke:"#2563EB",strokeWidth:"0.3"}),h.jsx("path",{d:"M6 8 L12 10 L12 22 Z",fill:"url(#blueGemGradient1)",opacity:"0.7"}),h.jsx("path",{d:"M12 10 L18 8 L12 22 Z",fill:"#1E3A8A",opacity:"0.6"}),h.jsx("path",{d:"M12 2 L15 6 L12 8 L9 6 Z",fill:"url(#blueGemHighlight)"}),h.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"none",stroke:"#4169E1",strokeWidth:"0.5",filter:"url(#gemGlow)",opacity:"0.6"})]})},Ip=[{title:"General",categories:["shapesPlaced","linesCleared"],className:"stats-group-general"},{title:"Rows",categories:["rowsCleared","doubleRows","tripleRows","quadrupleRows","doubleRowsWithSingleColumns","tripleRowsWithSingleColumns","tripleRowsWithDoubleColumns","quadrupleRowsWithSingleColumns"]},{title:"Columns",categories:["columnsCleared","doubleColumns","tripleColumns","quadrupleColumns","doubleColumnsWithSingleRows","tripleColumnsWithDoubleRows","tripleColumnsWithSingleRows","quadrupleColumnsWithSingleRows"]},{title:"Squares",categories:["singleColumnBySingleRow","doubleColumnByDoubleRow"]},{title:"Legendary",categories:["quadrupleRowByQuadrupleColumn"],className:"stats-group-legendary"}],Fp={shapesPlaced:"Shapes Placed",linesCleared:"Lines Cleared",rowsCleared:"Rows Cleared",doubleRows:"2R",tripleRows:"3R",quadrupleRows:"4R",doubleRowsWithSingleColumns:"2R x 1C",tripleRowsWithSingleColumns:"3R x 1C",tripleRowsWithDoubleColumns:"3R x 2C",quadrupleRowsWithSingleColumns:"4R x 1C",columnsCleared:"Columns Cleared",doubleColumns:"2C",tripleColumns:"3C",quadrupleColumns:"4C",doubleColumnsWithSingleRows:"2C x 1R",tripleColumnsWithDoubleRows:"3C x 2R",tripleColumnsWithSingleRows:"3C x 1R",quadrupleColumnsWithSingleRows:"4C x 1R",singleColumnBySingleRow:"1R x 1C",doubleColumnByDoubleRow:"2R x 2C",quadrupleRowByQuadrupleColumn:"4R x 4C"},zp=["blue","green","red","yellow","purple","orange"],Bp=({onClose:l})=>{const{stats:i,gameState:a}=rt(),f=ot(),u=()=>{f({type:"RESET_GAME"}),l()},d=p=>{const m=i.allTime[p],y=i.highScore[p],k=i.current[p];if(m.total===0)return null;const w=k.total>0&&k.total>=y.total;return h.jsxs("div",{className:"stat-row-container",children:[h.jsxs("div",{className:"stat-row main-stat",children:[h.jsx("div",{className:"stat-label",children:Fp[p]}),h.jsx("div",{className:"stat-value",children:m.total}),h.jsx("div",{className:"stat-value",children:y.total}),h.jsxs("div",{className:`stat-value ${w?"highlight":""}`,children:[k.total,w&&k.total>0&&h.jsx("span",{className:"streak-indicator",children:""})]})]}),zp.map(x=>{const _=m.colors[x]||0;if(_===0)return null;const I=k.colors[x]||0,M=y.colors[x]||0,V=I>0&&I>=M;return h.jsxs("div",{className:"stat-row color-stat",style:{"--stat-color":`var(--color-${x})`},children:[h.jsxs("div",{className:"stat-label",style:{color:`var(--color-${x})`},children:[" ",x.charAt(0).toUpperCase()+x.slice(1)]}),h.jsx("div",{className:"stat-value",children:_}),h.jsx("div",{className:"stat-value",children:M}),h.jsx("div",{className:`stat-value ${V?"highlight":""}`,children:I})]},`${p}-${x}`)})]},p)};return h.jsx("div",{className:"stats-overlay-backdrop",onClick:l,children:h.jsxs("div",{className:"stats-overlay-content",onClick:p=>p.stopPropagation(),children:[h.jsxs("div",{className:"stats-header",children:[h.jsx("h2",{children:"Statistics"}),h.jsx("button",{className:"close-button",onClick:l,children:""})]}),h.jsxs("div",{className:"stats-table-header",children:[h.jsx("div",{className:"header-label",children:"Category"}),h.jsx("div",{className:"header-value",children:"All Time"}),h.jsx("div",{className:"header-value",children:"Best"}),h.jsx("div",{className:"header-value",children:"Current"})]}),h.jsx("div",{className:"stats-scroll-container",children:Ip.map((p,m)=>{const y=p.categories.map(d).filter(Boolean);return y.length===0?null:h.jsxs("div",{className:`stats-group ${p.className||""}`,children:[m>0&&h.jsx("div",{className:`group-divider ${p.className==="stats-group-legendary"?"legendary-divider":""}`}),y]},p.title)})}),a==="gameover"&&h.jsx("div",{className:"stats-footer",children:h.jsx("button",{className:"new-game-button",onClick:u,children:"New Game"})})]})})},Up=()=>{const{score:l,gameState:i,isStatsOpen:a}=rt(),f=ot(),u=R.useRef(null);R.useEffect(()=>{if(u.current){const m=()=>{var k;const y=(k=u.current)==null?void 0:k.getBoundingClientRect();if(y){const w={x:y.left+y.width/2,y:y.top+y.height/2};console.log("ScoreDisplay: updating gem icon position to",w),f({type:"UPDATE_GEM_ICON_POSITION",value:w})}};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)}},[f]);const d=()=>{f({type:"OPEN_STATS"})},p=()=>{f({type:"CLOSE_STATS"})};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`score-display ${i==="gameover"?"score-display-pulsing":""}`,onClick:d,style:{cursor:"pointer"},title:"Click to view stats",children:[h.jsx("div",{ref:u,children:h.jsx(Lc,{})}),h.jsx("span",{className:"score-display-value",children:Ap(l)})]}),a&&h.jsx(Bp,{onClose:p})]})};let rl=null;function Sc(l,i){rl?rl(l,i):console.warn("SoundEffectsProvider not initialized yet")}const Ac=R.createContext(void 0),$p=({children:l})=>{const[i,a]=R.useState(!1),f=R.useRef(new Map),u=R.useRef(!1);R.useEffect(()=>{const y=()=>{u.current=!0,document.removeEventListener("click",y),document.removeEventListener("keydown",y)};return document.addEventListener("click",y,{once:!0}),document.addEventListener("keydown",y,{once:!0}),()=>{document.removeEventListener("click",y),document.removeEventListener("keydown",y)}},[]),R.useEffect(()=>{const y={click_into_place:"/sound/soundEffects/click_into_place.mp3",game_over:"/sound/soundEffects/game_over.mp3",pickup_shape:"/sound/soundEffects/pickup_shape.mp3",clear_combo_1:"/sound/soundEffects/clear-combo-1.mp3",clear_combo_2:"/sound/soundEffects/clear-combo-2.mp3",clear_combo_3:"/sound/soundEffects/clear-combo-3.mp3",clear_combo_4:"/sound/soundEffects/clear-combo-4.mp3",clear_combo_5:"/sound/soundEffects/clear-combo-5.mp3"};for(const[k,w]of Object.entries(y)){const x=new Audio(w);x.preload="auto",x.volume=.2,f.current.set(k,x)}},[]),R.useEffect(()=>{(async()=>{try{const k=await Tp();a(k)}catch{try{const k=localStorage.getItem("tetrix-soundeffects-muted");a(k?JSON.parse(k):!1)}catch{a(!1)}}})()},[]);const d=R.useCallback((y,k)=>{if(!u.current||i)return;const w=f.current.get(y);w?(w.currentTime=k??0,w.play().catch(x=>{console.log(`Sound effect '${y}' play was prevented:`,x)})):console.warn(`Sound effect '${y}' not found`)},[i]);R.useEffect(()=>(rl=d,()=>{rl=null}),[d]);const p=R.useCallback(y=>{a(y),wp(y).catch(k=>{console.error("Failed to save sound effects mute state:",k);try{localStorage.setItem("tetrix-soundeffects-muted",JSON.stringify(y))}catch(w){console.error("Failed to save to localStorage:",w)}})},[]),m={playSound:d,setMuted:p,isMuted:i};return h.jsx(Ac.Provider,{value:m,children:l})},Ic=()=>{const l=R.useContext(Ac);if(!l)throw new Error("useSoundEffects must be used within a SoundEffectsProvider");return l},Gp=()=>{const[l,i]=R.useState(!1),[a,f]=R.useState(!0),{isMuted:u,setMuted:d}=Ic();R.useEffect(()=>{(async()=>{try{const x=await kp();i(x)}catch(x){console.error("Failed to load music settings:",x);try{const _=localStorage.getItem("tetrix-music-muted");i(_?JSON.parse(_):!1)}catch{i(!1)}}finally{f(!1)}})()},[]);const p=R.useCallback(()=>{const w=!l;i(w),Sp(w).catch(x=>{console.error("Failed to save music settings to IndexedDB:",x);try{localStorage.setItem("tetrix-music-muted",JSON.stringify(w))}catch(_){console.error("Failed to save music mute preference to localStorage:",_)}})},[l]),m=R.useCallback(()=>{d(!u)},[u,d]),y=R.useMemo(()=>({isMuted:l,toggleMute:p}),[l,p]),k=R.useMemo(()=>({isMuted:u,toggleMute:m}),[u,m]);return h.jsx(Cc.Provider,{value:y,children:h.jsx(kc.Provider,{value:k,children:h.jsxs("div",{className:"header",children:[h.jsx(Mp,{isMuted:l||a}),h.jsx(Dp,{}),h.jsx("div",{className:"header-center",children:h.jsx(Up,{})}),h.jsx(jp,{})]})})})};function ds({block:l}){return l.isFilled?h.jsx("div",{className:`block-visual block-color-${l.color}`}):h.jsx(h.Fragment,{})}const Wp=({tile:l,isHovered:i=!1,hoveredBlock:a,onClick:f})=>{const{dragState:u,tiles:d}=rt(),[,p]=R.useState(0);R.useEffect(()=>{const z=`R${l.location.row}C${l.location.column}`,$=d.get(z);if(!($!=null&&$.activeAnimations)||$.activeAnimations.length===0)return;let W;const G=()=>{p(b=>b+1),W=requestAnimationFrame(G)};return W=requestAnimationFrame(G),()=>cancelAnimationFrame(W)},[d,l.location.row,l.location.column]);const m=`R${l.location.row}C${l.location.column}`,y=d.get(m),k=(y==null?void 0:y.activeAnimations)||[],w=performance.now(),x=k.filter(z=>w>=z.startTime&&w<z.startTime+z.duration),_=l.block,I=i&&a,V=`tile-visual ${(l.location.row+l.location.column)%2===0?"tile-visual-dark":"tile-visual-light"}`;let U=0;return I&&(U=u.isValidPlacement?.7:.4),h.jsxs("div",{className:V,style:{gridColumn:l.location.column,gridRow:l.location.row},onClick:f,children:[h.jsx(ds,{block:_}),I&&h.jsx("div",{className:"tile-visual-shadow",style:{"--shadow-opacity":U}}),x.map(z=>{const $=w-z.startTime,W=Math.min($/z.duration,1),G=Math.max(0,z.startTime-w),b={"--animation-progress":W,"--animation-duration":`${z.duration}ms`,"--animation-delay":`${G}ms`};if(z.color&&(b["--animation-color"]=z.color),z.type==="row-quad"||z.type==="column-quad"){const re=z.beatCount??3,B=z.finishDuration??0,ie=(z.duration-B)/re;b["--beat-count"]=re,b["--animation-duration"]=`${ie}ms`,b["--finish-duration"]=`${B}ms`}return h.jsx("div",{className:`tile-visual-clearing ${z.type}`,style:b},z.id)})]})},Vp=xc.memo(Wp),Wr=()=>{const[l,i]=R.useState({width:window.innerWidth,height:window.innerHeight});return R.useEffect(()=>{const f=()=>{i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),R.useMemo(()=>{const{width:f,height:u}=l,d=f>=u,p=u*.9,m=f,y=20,k=40;let w,x,_;if(d){const z=m-y-k,$=p-k,G=z*(1-.35);w=Math.min(G,$),_=Math.min(z-w,w*.6);const b=w+y+_;if(b>m-k){const re=(m-k)/b;w*=re,_*=re}x=w}else{const z=p-y-k,$=m-k,G=z*(1-.35);w=Math.min(G,$),_=Math.min(z-w,w*.6);const b=w+y+_;if(b>p-k){const re=(p-k)/b;w*=re,_*=re}x=w}const I=2,M=I*9,V=(w-M)/10,U=_*.9;return{gridSize:w,gridCellSize:V,gridGap:I,gameControlsLength:x,gameControlsWidth:_,buttonSize:U}},[l])};function Hp(){const{state:l}=ol(),i=ot(),a=R.useCallback(f=>{if(l.isEditorOpen)switch(l.currentTool){case"add-block":i({type:"DEBUG_ADD_BLOCK",value:{location:f,color:l.selectedColor}});break;case"fill-row":i({type:"DEBUG_FILL_ROW",value:{row:f.row,excludeColumn:f.column,color:l.selectedColor}});break;case"fill-column":i({type:"DEBUG_FILL_COLUMN",value:{column:f.column,excludeRow:f.row,color:l.selectedColor}});break;case"remove":i({type:"DEBUG_REMOVE_BLOCK",value:{location:f}});break;case"clear-all":i({type:"DEBUG_CLEAR_ALL"});break}},[l.isEditorOpen,l.currentTool,l.selectedColor,i]);return{isDebugMode:l.isEditorOpen,handleDebugClick:a}}function qp(l,i){var a,f;switch(i.type){case"SELECT_SHAPE":{const{shapeIndex:u}=i.value,d=l.nextShapes[u],p=l.shapeOptionBounds[u];if(!d||!p)return l;const m=document.querySelector(".grid");if(!m)return{...l,dragState:{phase:"picking-up",selectedShape:d,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:p.left,y:p.top,width:p.width,height:p.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:null}};const y=m.getBoundingClientRect(),k=2,w=9*k,x=(y.width-w)/10,{offsetX:_,offsetY:I}=Xf(d,x,k),M=4*x+3*k,V=4*x+3*k,U=-M/2-_,z=-V/2-I,W="ontouchstart"in globalThis||navigator.maxTouchPoints>0?x*2.5:0;return{...l,dragState:{phase:"picking-up",selectedShape:d,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:p.left,y:p.top,width:p.width,height:p.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:{visualOffsetX:_,visualOffsetY:I,gridOffsetX:U,gridOffsetY:z,touchOffset:W,tileSize:x,gridGap:k}}}}case"UPDATE_MOUSE_LOCATION":{const{location:u,position:d,tileSize:p,gridBounds:m,isValid:y,invalidBlocks:k}=i.value;if(l.dragState.phase==="placing"||l.dragState.phase==="returning")return{...l,mouseGridLocation:u,mousePosition:d??l.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:p??l.gridTileSize??null,gridBounds:m??l.gridBounds??null,dragState:l.dragState};const w=l.dragState.selectedShape&&u?os(l.dragState.selectedShape,u):[],x=k??[],I=l.dragState.phase==="picking-up"&&l.dragState.startTime&&performance.now()-l.dragState.startTime>300?{...l.dragState,phase:"dragging",hoveredBlockPositions:w,invalidBlockPositions:x,isValidPlacement:y??!1}:{...l.dragState,hoveredBlockPositions:w,invalidBlockPositions:x,isValidPlacement:y??!1};return{...l,mouseGridLocation:u,mousePosition:d??l.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:p??l.gridTileSize??null,gridBounds:m??l.gridBounds??null,dragState:I}}case"PLACE_SHAPE":{const{location:u,mousePosition:d}=i.value;if(!l.dragState.selectedShape||l.dragState.selectedShapeIndex===null||!l.gridTileSize||!l.gridBounds)return l;const p=d||l.mousePosition;if(!p)return l;const m=((a=l.dragState.dragOffsets)==null?void 0:a.tileSize)??l.gridTileSize,y=((f=l.dragState.dragOffsets)==null?void 0:f.gridGap)??2;if(!m||!l.gridBounds)return l;const k=m+y,w=os(l.dragState.selectedShape,u);let x=1/0,_=-1/0,I=1/0,M=-1/0;w.forEach(G=>{x=Math.min(x,G.location.row),_=Math.max(_,G.location.row),I=Math.min(I,G.location.column),M=Math.max(M,G.location.column)});const V=(x+_)/2,U=(I+M)/2,z=l.gridBounds.left+(U-1)*k+m/2,$=l.gridBounds.top+(V-1)*k+m/2,W=l.mousePosition?{x:l.mousePosition.x,y:l.mousePosition.y}:p;return{...l,dragState:{...l.dragState,phase:"placing",targetPosition:{x:z,y:$},placementLocation:u,placementStartPosition:W,hoveredBlockPositions:w,startTime:performance.now()},mouseGridLocation:u,mousePosition:p}}case"COMPLETE_RETURN":return{...l,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};case"RETURN_SHAPE_TO_SELECTOR":{if(l.dragState.selectedShape&&l.dragState.selectedShapeIndex!==null){const u=l.shapeOptionBounds[l.dragState.selectedShapeIndex];if(u&&(l.dragState.phase==="dragging"||l.dragState.phase==="picking-up"))return{...l,dragState:{...l.dragState,phase:"returning",sourcePosition:{x:u.left,y:u.top,width:u.width,height:u.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now()}}}return{...l,mouseGridLocation:null,mousePosition:l.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}}}case"CLEAR_SELECTION":return{...l,mouseGridLocation:null,mousePosition:l.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};default:return l}}function Qp(l,i){switch(i.type){case"SET_AVAILABLE_SHAPES":{const{shapes:a}=i.value,f=[...a],u={...l,nextShapes:f,openRotationMenus:new Array(f.length).fill(!1),shapeOptionBounds:new Array(f.length).fill(null),newShapeAnimationStates:new Array(f.length).fill("none")};return Ge(void 0,void 0,f,u.savedShape).catch(d=>{console.error("Failed to save shapes state:",d)}),u}case"ROTATE_SHAPE":{const{shapeIndex:a,clockwise:f}=i.value;if(a<0||a>=l.nextShapes.length)return l;const u=[...l.nextShapes];let d=as(u[a]);f?d=Pn(d):d=Pn(Pn(Pn(d))),u[a]=d;const p=l.dragState.selectedShapeIndex===a?{...l.dragState,selectedShape:d}:l.dragState,m={...l,nextShapes:u,dragState:p};return Ge(void 0,void 0,u,m.savedShape).catch(y=>{console.error("Failed to save shapes state:",y)}),m}case"ADD_SHAPE_OPTION":{const a=cs(),f=[...l.nextShapes,a],u={...l,nextShapes:f,openRotationMenus:[...l.openRotationMenus,!1],shapeOptionBounds:[...l.shapeOptionBounds,null],newShapeAnimationStates:[...l.newShapeAnimationStates,"none"]};return Ge(void 0,void 0,f,u.savedShape).catch(d=>{console.error("Failed to save shapes state:",d)}),u}case"REMOVE_SHAPE_OPTION":{if(l.nextShapes.length<=1)return l;const a=l.nextShapes.slice(0,-1),f=l.openRotationMenus.slice(0,-1),u=l.shapeOptionBounds.slice(0,-1),d=l.newShapeAnimationStates.slice(0,-1),m=l.dragState.selectedShapeIndex===l.nextShapes.length-1?{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}:l.dragState,y={...l,nextShapes:a,openRotationMenus:f,shapeOptionBounds:u,newShapeAnimationStates:d,dragState:m};return Ge(void 0,void 0,a,y.savedShape).catch(k=>{console.error("Failed to save shapes state:",k)}),y}case"SET_SHAPE_OPTION_BOUNDS":{const{index:a,bounds:f}=i.value,u=[...l.shapeOptionBounds];return u[a]=f,{...l,shapeOptionBounds:u}}case"START_SHAPE_REMOVAL":{const{shapeIndex:a}=i.value;return{...l,removingShapeIndex:a,shapeRemovalAnimationState:"removing"}}case"COMPLETE_SHAPE_REMOVAL":{if(l.removingShapeIndex===null)return l;const a=l.removingShapeIndex,f=l.nextShapes.filter((p,m)=>m!==a),u=l.openRotationMenus.filter((p,m)=>m!==a),d=l.newShapeAnimationStates.filter((p,m)=>m!==a);return{...l,nextShapes:f,openRotationMenus:u,newShapeAnimationStates:d,shapeOptionBounds:new Array(f.length).fill(null),removingShapeIndex:null,shapeRemovalAnimationState:"none",shapesUsed:l.shapesUsed+1}}default:return l}}const Gt=10;function Vr(l,i){return`R${l}C${i}`}function Yp(l,i){for(let a=1;a<=Gt;a++){const f=l.get(Vr(i,a));if(!f||!f.isFilled)return!1}return!0}function Xp(l,i){for(let a=1;a<=Gt;a++){const f=l.get(Vr(a,i));if(!f||!f.isFilled)return!1}return!0}function Kp(l){const i=[];for(let a=1;a<=Gt;a++)Yp(l,a)&&i.push(a);return i}function Jp(l){const i=[];for(let a=1;a<=Gt;a++)Xp(l,a)&&i.push(a);return i}function Zp(l,i){if(i.length===0)return l;const a=new Map(l),f=new Set(i);for(let u=1;u<=Gt;u++)if(f.has(u))for(let d=1;d<=Gt;d++)a.set(Vr(u,d),{isFilled:!1,color:"grey"});return a}function bp(l,i){if(i.length===0)return l;const a=new Map(l),f=new Set(i);for(let u=1;u<=Gt;u++)if(f.has(u))for(let d=1;d<=Gt;d++)a.set(Vr(d,u),{isFilled:!1,color:"grey"});return a}function wc(l,i,a){let f;for(let u=1;u<=Gt;u++){const d=a?i:u,p=a?u:i,m=l.get(Vr(d,p));if(!m||!m.isFilled)return;if(!f)f=m.color;else if(m.color!==f)return}return f}function eh(l){const i=Kp(l),a=Jp(l),f=i.map(p=>({index:p,color:wc(l,p,!0)})),u=a.map(p=>({index:p,color:wc(l,p,!1)}));let d=Zp(l,i);return d=bp(d,a),{tiles:d,clearedRows:f,clearedColumns:u,totalLinesCleared:i.length+a.length}}const un={rows:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}},columns:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}}};let th=0;function cn(){return`anim-${Date.now()}-${th++}`}function dn(l,i){return l*i}function nh(l,i,a,f={}){var w,x,_,I,M,V,U,z;const u={rows:{single:{...un.rows.single,...(w=f.rows)==null?void 0:w.single},double:{...un.rows.double,...(x=f.rows)==null?void 0:x.double},triple:{...un.rows.triple,...(_=f.rows)==null?void 0:_.triple},quad:{...un.rows.quad,...(I=f.rows)==null?void 0:I.quad}},columns:{single:{...un.columns.single,...(M=f.columns)==null?void 0:M.single},double:{...un.columns.double,...(V=f.columns)==null?void 0:V.double},triple:{...un.columns.triple,...(U=f.columns)==null?void 0:U.triple},quad:{...un.columns.quad,...(z=f.columns)==null?void 0:z.quad}},baseStartTime:f.baseStartTime},d=u.baseStartTime??performance.now(),p=new Map(l),m=($,W)=>`R${$}C${W}`,y=i.length,k=a.length;for(const{index:$,color:W}of i)for(let G=1;G<=10;G++){const b=m($,G),re=p.get(b);if(!re)continue;const B=[],ie=dn(G-1,u.rows.single.waveDelay);if(B.push({id:cn(),type:"row-cw",startTime:d+u.rows.single.startDelay+ie,duration:u.rows.single.duration,color:W}),y>=2){const he=dn(G-1,u.rows.double.waveDelay);B.push({id:cn(),type:"row-double",startTime:d+u.rows.double.startDelay+he,duration:u.rows.double.duration,color:W})}if(y>=3){const he=dn(G-1,u.rows.triple.waveDelay);B.push({id:cn(),type:"row-triple",startTime:d+u.rows.triple.startDelay+he,duration:u.rows.triple.duration,color:W})}if(y>=4){const he=dn(G-1,u.rows.quad.waveDelay);B.push({id:cn(),type:"row-quad",startTime:d+u.rows.quad.startDelay+he,duration:u.rows.quad.duration,beatCount:u.rows.quad.beatCount,finishDuration:u.rows.quad.finishDuration,color:W})}p.set(b,{...re,activeAnimations:[...re.activeAnimations||[],...B]})}for(const{index:$,color:W}of a)for(let G=1;G<=10;G++){const b=m(G,$),re=p.get(b);if(!re)continue;const B=[],ie=dn(G-1,u.columns.single.waveDelay);if(B.push({id:cn(),type:"column-ccw",startTime:d+u.columns.single.startDelay+ie,duration:u.columns.single.duration,color:W}),k>=2){const he=dn(G-1,u.columns.double.waveDelay);B.push({id:cn(),type:"column-double",startTime:d+u.columns.double.startDelay+he,duration:u.columns.double.duration,color:W})}if(k>=3){const he=dn(G-1,u.columns.triple.waveDelay);B.push({id:cn(),type:"column-triple",startTime:d+u.columns.triple.startDelay+he,duration:u.columns.triple.duration,color:W})}if(k>=4){const he=dn(G-1,u.columns.quad.waveDelay);B.push({id:cn(),type:"column-quad",startTime:d+u.columns.quad.startDelay+he,duration:u.columns.quad.duration,beatCount:u.columns.quad.beatCount,finishDuration:u.columns.quad.finishDuration,color:W})}p.set(b,{...re,activeAnimations:[...re.activeAnimations||[],...B]})}return p}function rh(l,i=performance.now()){const a=new Map(l);let f=!1;for(const[u,d]of a.entries()){if(!d.activeAnimations||d.activeAnimations.length===0)continue;const p=d.activeAnimations.filter(m=>i<m.startTime+m.duration);p.length!==d.activeAnimations.length&&(f=!0,a.set(u,{...d,activeAnimations:p.length>0?p:void 0}))}return f?a:l}function ze(l,i,a){const f=JSON.parse(JSON.stringify(l)),u=Date.now();f.lastUpdated=u;const d=(x,_,I=1)=>{if(f.current[x].total+=I,_){const M=_;f.current[x].colors[M]=(f.current[x].colors[M]||0)+I}if(f.allTime[x].total+=I,_){const M=_;f.allTime[x].colors[M]=(f.allTime[x].colors[M]||0)+I}if(f.current[x].total>f.highScore[x].total&&(f.highScore[x].total=f.current[x].total),_){const M=_,V=f.current[x].colors[M]||0,U=f.highScore[x].colors[M]||0;V>U&&(f.highScore[x].colors[M]=V)}};d("shapesPlaced");const p=i.length+a.length;p>0&&(d("linesCleared",void 0,p),i.forEach(x=>{x.color&&d("linesCleared",x.color)}),a.forEach(x=>{x.color&&d("linesCleared",x.color)})),i.length>0&&(d("rowsCleared",void 0,i.length),i.forEach(x=>{x.color&&d("rowsCleared",x.color)})),a.length>0&&(d("columnsCleared",void 0,a.length),a.forEach(x=>{x.color&&d("columnsCleared",x.color)}));const m=i.length,y=a.length,w=((x,_)=>{const I=[...x,..._];if(I.length===0)return;const M=I[0].color;if(M){for(const V of I)if(V.color!==M)return;return M}})(i,a);return m===2&&y===0&&d("doubleRows",w),m===3&&y===0&&d("tripleRows",w),m===4&&y===0&&d("quadrupleRows",w),y===2&&m===0&&d("doubleColumns",w),y===3&&m===0&&d("tripleColumns",w),y===4&&m===0&&d("quadrupleColumns",w),m===2&&y===1&&d("doubleRowsWithSingleColumns",w),m===3&&y===1&&d("tripleRowsWithSingleColumns",w),m===3&&y===2&&d("tripleRowsWithDoubleColumns",w),m===4&&y===1&&d("quadrupleRowsWithSingleColumns",w),y===2&&m===1&&d("doubleColumnsWithSingleRows",w),y===3&&m===2&&d("tripleColumnsWithDoubleRows",w),y===3&&m===1&&d("tripleColumnsWithSingleRows",w),y===4&&m===1&&d("quadrupleColumnsWithSingleRows",w),m===1&&y===1&&d("singleColumnBySingleRow",w),m===2&&y===2&&d("doubleColumnByDoubleRow",w),m===4&&y===4&&d("quadrupleRowByQuadrupleColumn",w),f}function oh(l,i){if(i.length===0)return!1;for(const a of i){let f=a;for(let u=0;u<4;u++){for(let d=-3;d<=10;d++)for(let p=-3;p<=10;p++)if(ls(f,{row:d,column:p},l))return!1;f=Pn(f)}}return!0}function Tn(l,i){return`R${l}C${i}`}function lh(l){const i=l.match(/R(\d+)C(\d+)/);if(!i)throw new Error(`Invalid tile key: ${l}`);return{row:parseInt(i[1],10),column:parseInt(i[2],10)}}function ih(l,i){l.length>0&&l.length<=4&&Sc(`clear_combo_${l.length}`),i.length>0&&i.length<=4&&Sc(`clear_combo_${i.length}`)}function sh(l,i){switch(i.type){case"COMPLETE_PLACEMENT":{if(!l.dragState.selectedShape||l.dragState.selectedShapeIndex===null)return l;const a=l.dragState.placementLocation||l.mouseGridLocation;if(!a)return l;const f=os(l.dragState.selectedShape,a),u=new Map(l.tiles);for(const B of f)if(B.block.isFilled){const ie=Tn(B.location.row,B.location.column);u.set(ie,{isFilled:!0,color:B.block.color})}const{tiles:d,clearedRows:p,clearedColumns:m}=eh(u),y=p.map(B=>B.index),k=m.map(B=>B.index),w=nh(d,p,m,{rows:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}},columns:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}}});ih(y,k);const x=Lp(y.length,k.length),_=l.score+x.pointsEarned,I=l.totalLinesCleared+y.length+k.length,M=ze(l.stats,p,m),V=Array.from(w.entries()).map(([B,ie])=>({key:B,data:ie}));(x.pointsEarned>0||Array.from(w.values()).some(B=>B.isFilled))&&Ge(_,V,l.nextShapes,l.savedShape,M).catch(B=>{console.error("Failed to save game state:",B)});const U=l.dragState.selectedShapeIndex,z=lp(w),$=[...l.nextShapes];if(l.queueSize===-1||l.shapesUsed<l.queueSize){const B=z?op():cs();$.push(B)}const W=[...l.openRotationMenus];$.length>W.length&&W.push(!1);const G=[...l.newShapeAnimationStates];$.length>G.length&&G.push("none");const b=oh(w,$);return{...l,gameState:b?"gameover":l.gameState,tiles:w,score:_,totalLinesCleared:I,stats:M,nextShapes:$,shapesUsed:l.shapesUsed,openRotationMenus:W,newShapeAnimationStates:G,shapeOptionBounds:new Array($.length).fill(null),mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},hasPlacedFirstShape:!0,removingShapeIndex:U,shapeRemovalAnimationState:"removing"}}case"CLEANUP_ANIMATIONS":{const a=rh(l.tiles);return a===l.tiles?l:{...l,tiles:a}}case"DEBUG_FILL_ROW":{const{row:a,excludeColumn:f,color:u}=i.value,d=new Map(l.tiles);for(let m=1;m<=10;m++)if(m!==f){const y=Tn(a,m);d.set(y,{color:u,isFilled:!0})}const p=Array.from(d.entries()).map(([m,y])=>({key:m,data:y}));return Ge(void 0,p).catch(m=>{console.error("Failed to save tiles after debug fill row:",m)}),{...l,tiles:d}}case"DEBUG_FILL_COLUMN":{const{column:a,excludeRow:f,color:u}=i.value,d=new Map(l.tiles);for(let m=1;m<=10;m++)if(m!==f){const y=Tn(m,a);d.set(y,{color:u,isFilled:!0})}const p=Array.from(d.entries()).map(([m,y])=>({key:m,data:y}));return Ge(void 0,p).catch(m=>{console.error("Failed to save tiles after debug fill column:",m)}),{...l,tiles:d}}case"DEBUG_REMOVE_BLOCK":{const{location:a}=i.value,f=new Map(l.tiles),u=Tn(a.row,a.column),d=f.get(u);d&&f.set(u,{...d,isFilled:!1});const p=Array.from(f.entries()).map(([m,y])=>({key:m,data:y}));return Ge(void 0,p).catch(m=>{console.error("Failed to save tiles after debug remove block:",m)}),{...l,tiles:f}}case"DEBUG_ADD_BLOCK":{const{location:a,color:f}=i.value,u=new Map(l.tiles),d=Tn(a.row,a.column);u.set(d,{color:f,isFilled:!0});const p=Array.from(u.entries()).map(([m,y])=>({key:m,data:y}));return Ge(void 0,p).catch(m=>{console.error("Failed to save tiles after debug add block:",m)}),{...l,tiles:u}}case"DEBUG_CLEAR_ALL":{const a=new Map;for(let u=1;u<=10;u++)for(let d=1;d<=10;d++){const p=Tn(u,d);a.set(p,{isFilled:!1,color:"grey"})}const f=Array.from(a.entries()).map(([u,d])=>({key:u,data:d}));return Ge(void 0,f).catch(u=>{console.error("Failed to save tiles after debug clear all:",u)}),{...l,tiles:a}}case"GENERATE_SUPER_COMBO_PATTERN":{const a=new Map(l.tiles),f=Math.random()>.5;for(let d=1;d<=10;d++)for(let p=1;p<=10;p++){const m=Tn(d,p),y=d>=4&&d<=7,k=p>=4&&p<=7,w=y&&k&&d-4===p-4,x=y&&k&&d+p===11,_=f?w:x;(y||k)&&!_?a.set(m,{color:"blue",isFilled:!0}):_&&a.set(m,{color:"grey",isFilled:!1})}const u=Array.from(a.entries()).map(([d,p])=>({key:d,data:p}));return Ge(void 0,u).catch(d=>{console.error("Failed to save tiles after generating super combo pattern:",d)}),{...l,tiles:a}}case"DEBUG_REPLACE_FIRST_SHAPE":{const{shape:a}=i.value;if(l.nextShapes.length===0){const u=[a];return Ge(void 0,void 0,u,l.savedShape).catch(d=>{console.error("Failed to save shapes after debug replace:",d)}),{...l,nextShapes:u,openRotationMenus:[!1],shapeOptionBounds:[null],newShapeAnimationStates:["none"]}}const f=[...l.nextShapes.slice(1),a];return Ge(void 0,void 0,f,l.savedShape).catch(u=>{console.error("Failed to save shapes after debug replace:",u)}),{...l,nextShapes:f,openRotationMenus:[...l.openRotationMenus.slice(1),!1],shapeOptionBounds:[...l.shapeOptionBounds.slice(1),null],newShapeAnimationStates:[...l.newShapeAnimationStates.slice(1),"none"]}}default:return l}}function ah(l,i){switch(i.type){case"ADD_SCORE":{const{scoreData:a,mousePosition:f}=i.value,u=l.score+a.pointsEarned;return Ge(u).catch(d=>{console.error("Failed to save score:",d)}),{...l,score:u,mousePosition:f||l.mousePosition}}case"SHOW_COIN_DISPLAY":return{...l,showCoinDisplay:!0};case"HIDE_COIN_DISPLAY":return{...l,showCoinDisplay:!1};case"SPEND_COIN":{const{shapeIndex:a,mousePosition:f}=i.value;if(l.score<=0||a<0||a>=l.nextShapes.length)return l;const u=Math.max(0,l.score-1),d=[...l.openRotationMenus];return d[a]=!0,Ge(u).catch(p=>{console.error("Failed to save score:",p)}),{...l,score:u,openRotationMenus:d,mousePosition:f||l.mousePosition}}case"UPDATE_GEM_ICON_POSITION":return console.log("UPDATE_GEM_ICON_POSITION: new position =",i.value),{...l,gemIconPosition:i.value};default:return l}}function Fc(l,i){return`R${l}C${i}`}const uh=()=>{const l=new Map;for(let i=1;i<=10;i++)for(let a=1;a<=10;a++)l.set(Fc(i,a),{isFilled:!1,color:"grey"});return l},zc={gameState:"playing",currentLevel:0,isMapUnlocked:!1,mousePosition:{x:window.innerWidth/2,y:window.innerHeight/2},gemIconPosition:{x:100,y:50},gridTileSize:null,gridBounds:null,tiles:uh(),nextShapes:[],savedShape:null,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},removingShapeIndex:null,shapeRemovalAnimationState:"none",newShapeAnimationStates:[],shapeOptionBounds:[],score:0,totalLinesCleared:0,showCoinDisplay:!1,queueSize:-1,shapesUsed:0,openRotationMenus:[],hasPlacedFirstShape:!1,isTurningModeActive:!1,turningDirection:null,isDoubleTurnModeActive:!1,unlockedModifiers:new Set,hasLoadedPersistedState:!1,clearingAnimations:[],stats:dp,isStatsOpen:!1};function ch(l,i){switch(i.type){case"SET_LEVEL":{const{levelIndex:a}=i.value;return{...l,currentLevel:a}}case"OPEN_MAP":return{...l,gameState:"map"};case"CLOSE_MAP":return{...l,gameState:"playing"};case"UNLOCK_MAP":return{...l,isMapUnlocked:!0};case"UNLOCK_MODIFIER":{const{primeId:a}=i.value,f=new Set(l.unlockedModifiers);return f.add(a),Pp(f).catch(u=>{console.error("Failed to save unlocked modifiers:",u)}),{...l,unlockedModifiers:f}}case"LOAD_MODIFIERS":{const{unlockedModifiers:a}=i.value;return{...l,unlockedModifiers:a}}case"LOAD_STATS":{const{stats:a}=i.value;return{...l,stats:a}}case"TRIGGER_BACKGROUND_MUSIC":return l;case"ACTIVATE_TURNING_MODE":{const{direction:a}=i.value;return{...l,isTurningModeActive:!0,turningDirection:a}}case"DEACTIVATE_TURNING_MODE":return{...l,isTurningModeActive:!1,turningDirection:null};case"ACTIVATE_DOUBLE_TURN_MODE":return{...l,isDoubleTurnModeActive:!0};case"DEACTIVATE_DOUBLE_TURN_MODE":return{...l,isDoubleTurnModeActive:!1};case"LOAD_GAME_STATE":{const{gameData:a}=i.value,f=new Map;return Array.isArray(a.tiles)&&a.tiles.forEach(u=>{f.set(Fc(u.location.row,u.location.column),{isFilled:u.block.isFilled,color:u.block.color})}),{...l,score:a.score,tiles:f,nextShapes:a.nextShapes||l.nextShapes,savedShape:a.savedShape||l.savedShape,hasLoadedPersistedState:!0}}case"RESET_GAME":return{...zc,stats:{...l.stats,current:JSON.parse(JSON.stringify($r))},unlockedModifiers:l.unlockedModifiers,isMapUnlocked:l.isMapUnlocked,isStatsOpen:!1};case"OPEN_STATS":return{...l,isStatsOpen:!0};case"CLOSE_STATS":return{...l,isStatsOpen:!1};case"CLEANUP_ANIMATIONS":return l;case"DEBUG_INCREMENT_STATS":{let a=JSON.parse(JSON.stringify(l.stats));return["blue","green","red","yellow","purple","orange"].forEach(u=>{a=ze(a,[{index:1,color:u}],[]),a=ze(a,[{index:1,color:u},{index:2,color:u}],[]),a=ze(a,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[]),a=ze(a,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[]),a=ze(a,[],[{index:1,color:u}]),a=ze(a,[],[{index:1,color:u},{index:2,color:u}]),a=ze(a,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),a=ze(a,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}]),a=ze(a,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u}]),a=ze(a,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u}]),a=ze(a,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u},{index:2,color:u}]),a=ze(a,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u}]),a=ze(a,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),a=ze(a,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),a=ze(a,[{index:1,color:u}],[{index:1,color:u}]),a=ze(a,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u}]),a=ze(a,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}])}),Ge(void 0,void 0,void 0,void 0,a).catch(u=>{console.error("Failed to save stats after debug increment:",u)}),{...l,stats:a}}default:return l}}const dh=zc;function fh(l,i){let a=l;return a=sh(a,i),a=qp(a,i),a=Qp(a,i),a=ah(a,i),a=ch(a,i),a}function ph(){const{tiles:l,dragState:i}=rt(),a=ot(),f=R.useRef(null),{gridSize:u,gridGap:d}=Wr(),{isDebugMode:p,handleDebugClick:m}=Hp();R.useEffect(()=>{const w=setInterval(()=>{a({type:"CLEANUP_ANIMATIONS"})},1e3);return()=>clearInterval(w)},[a]),R.useEffect(()=>{const w=x=>{x.key==="Escape"&&i.selectedShape&&!p&&a({type:"RETURN_SHAPE_TO_SELECTOR"})};return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[i.selectedShape,a,p]);const y=R.useMemo(()=>{const w=[];return l.forEach((x,_)=>{const{row:I,column:M}=lh(_);w.push({id:`(row: ${I}, column: ${M})`,location:{row:I,column:M},block:{isFilled:x.isFilled,color:x.color}})}),w.sort((x,_)=>x.location.row!==_.location.row?x.location.row-_.location.row:x.location.column-_.location.column),w},[l]),k=new Map(i.hoveredBlockPositions.map(w=>[`${w.location.row},${w.location.column}`,w.block]));return h.jsx("div",{ref:f,className:`grid ${i.selectedShape?"grid-dragging":""}`,style:{"--grid-gap":`${d}px`,"--grid-size":`${u}px`},children:y.map(w=>{const x=`${w.location.row},${w.location.column}`,_=k.get(x),I=(_==null?void 0:_.isFilled)??!1;return h.jsx(Vp,{tile:w,isHovered:I,hoveredBlock:_,onClick:p?()=>m(w.location):void 0},w.id)})})}const hh=({shape:l,shapeIndex:i,shapeOptionFullSize:a})=>{const f=ot(),{dragState:u,isTurningModeActive:d,turningDirection:p,isDoubleTurnModeActive:m,removingShapeIndex:y,shapeRemovalAnimationState:k,shapeOptionBounds:w}=rt(),x=R.useRef(null),_=y===i&&k==="removing",I=w[i]===null||w[i]===void 0,M=1,V=M*3,U=(a-V)/4,z=R.useMemo(()=>Nc(l),[l]),$=R.useMemo(()=>{const B=U+M,ie=z.minCol+(z.width-1)/2,he=z.minRow+(z.height-1)/2,Oe=1.5,Ye=(Oe-ie)*B,De=(Oe-he)*B;return{x:Ye,y:De}},[z,U,M]);R.useEffect(()=>{if(x.current&&I){const B=x.current.getBoundingClientRect();f({type:"SET_SHAPE_OPTION_BOUNDS",value:{index:i,bounds:{top:B.top,left:B.left,width:B.width,height:B.height}}})}},[f,i,l,I]),R.useEffect(()=>{if(y===i&&k==="removing"){const B=setTimeout(()=>{f({type:"COMPLETE_SHAPE_REMOVAL"})},300);return()=>clearTimeout(B)}},[y,i,k,f]);const W=R.useCallback(B=>{if(B.preventDefault(),!_){if(d){f({type:"ROTATE_SHAPE",value:{shapeIndex:i,clockwise:p==="cw"}}),f({type:"DEACTIVATE_TURNING_MODE"});return}if(m){f({type:"ROTATE_SHAPE",value:{shapeIndex:i,clockwise:!0}}),f({type:"ROTATE_SHAPE",value:{shapeIndex:i,clockwise:!0}}),f({type:"DEACTIVATE_DOUBLE_TURN_MODE"});return}u.selectedShapeIndex!==i&&f({type:"SELECT_SHAPE",value:{shapeIndex:i}})}},[f,i,u.selectedShapeIndex,d,p,m,_]),G=u.selectedShapeIndex===i,b=_?l.map(B=>B.map(ie=>({...ie,isFilled:!1}))):l,re=G?0:1;return h.jsx("div",{ref:x,className:`shape-container${G?" selected":""}`,style:{"--shape-cell-size":`${U}px`,"--shape-cell-gap":`${M}px`,"--centering-offset-x":`${$.x}px`,"--centering-offset-y":`${$.y}px`,opacity:re,transition:"opacity 0.15s ease-out"},onPointerDown:W,children:b.map((B,ie)=>B.map((he,Oe)=>h.jsx("div",{className:"shape-cell",children:h.jsx(ds,{block:he})},`${ie}-${Oe}`)))})},rs=new WeakMap;let mh=0;const gh=l=>(rs.has(l)||rs.set(l,`shape-${++mh}`),rs.get(l)),vh=()=>{const l=ot(),{nextShapes:i,removingShapeIndex:a,shapeRemovalAnimationState:f}=rt(),u=R.useMemo(()=>{const z=[];for(let W=0;W<3;W++)z.push(cs());return z},[]);R.useEffect(()=>{i.length===0&&l({type:"SET_AVAILABLE_SHAPES",value:{shapes:u}})},[l,u,i.length]);const d=i,{gameControlsLength:p}=Wr(),m=window.innerWidth>=window.innerHeight,y=12,k=32,w=12,x=(y+k)*2,_=w*2,V=(p-x-_)/(3*1.05)*1.05,U=p;return h.jsx("div",{className:"shape-selector",style:{"--shape-selector-width":m?"auto":`${U}px`,"--shape-selector-height":m?`${U}px`:"auto"},children:h.jsx("div",{className:`shape-selector-shapes-container ${m?"shape-selector-shapes-container-landscape":"shape-selector-shapes-container-portrait"}`,style:{"--wrapper-gap":`${k}px`},children:d.map((z,$)=>{const W=a===$&&f==="removing";return h.jsx("div",{className:`shape-selector-shape-wrapper${W?" removing":""}`,"data-landscape":m?"1":"0",style:{"--shape-wrapper-size":`${V}px`,"--is-landscape":m?"1":"0"},children:h.jsx(hh,{shape:z,shapeIndex:$,shapeOptionFullSize:V})},gh(z))})})})},yh=()=>{const l=ot(),i=rt(),{gameControlsWidth:a}=Wr(),f=()=>{if(i.isTurningModeActive&&i.turningDirection==="cw"){l({type:"DEACTIVATE_TURNING_MODE"});return}if(i.isTurningModeActive&&i.turningDirection==="ccw"){l({type:"ACTIVATE_TURNING_MODE",value:{direction:"cw"}});return}i.score>=1&&i.gameState==="playing"&&!i.isTurningModeActive&&(l({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-1}}}),l({type:"ACTIVATE_TURNING_MODE",value:{direction:"cw"}}))},u=()=>{if(i.isTurningModeActive&&i.turningDirection==="ccw"){l({type:"DEACTIVATE_TURNING_MODE"});return}if(i.isTurningModeActive&&i.turningDirection==="cw"){l({type:"ACTIVATE_TURNING_MODE",value:{direction:"ccw"}});return}i.score>=1&&i.gameState==="playing"&&!i.isTurningModeActive&&(l({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-1}}}),l({type:"ACTIVATE_TURNING_MODE",value:{direction:"ccw"}}))},d=()=>{if(i.isDoubleTurnModeActive){l({type:"DEACTIVATE_DOUBLE_TURN_MODE"});return}i.score>=2&&i.gameState==="playing"&&(l({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-2}}}),l({type:"ACTIVATE_DOUBLE_TURN_MODE"}))},p=i.score<1&&!i.isTurningModeActive||i.gameState!=="playing",m=i.score<1&&!i.isTurningModeActive||i.gameState!=="playing",y=i.score<2&&!i.isDoubleTurnModeActive||i.gameState!=="playing",k=i.isTurningModeActive&&i.turningDirection==="cw",w=i.isTurningModeActive&&i.turningDirection==="ccw",x=i.isDoubleTurnModeActive,_=12,M=12*2,V=_*2,z=(a-M-V)/3;return h.jsxs("div",{className:"purchases-container",style:{"--button-size":`${z}px`},children:[h.jsxs("button",{className:`purchases-container-button purchases-container-button-clockwise ${k?"active":""}`,onClick:f,disabled:p,title:p?"Need 1 point to buy clockwise turn":"Buy clockwise turn (1 point)",children:[h.jsx("div",{className:"purchases-container-icon",children:""}),h.jsx("div",{className:"purchases-container-cost",children:"-1"})]}),h.jsxs("button",{className:`purchases-container-button purchases-container-button-double-turn ${x?"active":""}`,onClick:d,disabled:y,title:y?"Need 2 points to buy double turn":"Buy double turn (2 points)",children:[h.jsx("div",{className:"purchases-container-icon",children:""}),h.jsx("div",{className:"purchases-container-cost",children:"-2"})]}),h.jsxs("button",{className:`purchases-container-button purchases-container-button-counter-clockwise ${w?"active":""}`,onClick:u,disabled:m,title:m?"Need 1 point to buy counter-clockwise turn":"Buy counter-clockwise turn (1 point)",children:[h.jsx("div",{className:"purchases-container-icon",children:""}),h.jsx("div",{className:"purchases-container-cost",children:"-1"})]})]})},Sh=()=>{const{gameControlsLength:l,gameControlsWidth:i}=Wr(),a=window.innerWidth>=window.innerHeight;return h.jsxs("div",{className:"game-controls-panel",style:{"--controls-height":a?`${l}px`:`${i}px`,"--controls-width":a?`${i}px`:`${l}px`},children:[h.jsx(vh,{}),h.jsx(yh,{})]})},wh=({startPosition:l,velocity:i,onComplete:a,delay:f=0,size:u=40})=>{const[d,p]=R.useState(l),[m,y]=R.useState(0),k=R.useRef(),w=R.useRef(),x=R.useRef({startPosition:l,velocity:i,onComplete:a,delay:f}),_=1500,I=450,M=100,V=.7;return R.useEffect(()=>{const{startPosition:U,velocity:z,onComplete:$,delay:W}=x.current,G=setTimeout(()=>{w.current=performance.now();const b=re=>{if(!w.current)return;const B=(re-w.current)/1e3,ie=B*1e3;if(ie>=_){$();return}const he=U.x+z.x*B,Oe=U.y+z.y*B+.5*I*B*B,Ye=ie/_;let De=1;if(ie<M)De=ie/M;else if(Ye>=V){const Le=(Ye-V)/(1-V);De=Math.max(0,1-Le)}p({x:he,y:Oe}),y(De),k.current=requestAnimationFrame(b)};k.current=requestAnimationFrame(b)},W);return()=>{clearTimeout(G),k.current&&cancelAnimationFrame(k.current)}},[]),h.jsx("div",{className:"gem-particle",style:{"--particle-x":`${d.x}px`,"--particle-y":`${d.y}px`,"--particle-opacity":m},children:h.jsx(Lc,{size:u})})},xh=()=>{const{score:l,gemIconPosition:i,hasLoadedPersistedState:a}=rt(),[f,u]=R.useState([]),d=R.useRef(null),p=R.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]),m=R.useMemo(()=>i,[i]);R.useEffect(()=>{if(!a)return;if(d.current===null){d.current=l;return}if(l===d.current)return;const w=l-d.current,x=Math.abs(w),_=w>0;if(x===0){d.current=l;return}const I=_?p:m,M=x>=10,V=M?Math.min(Math.floor(x/10),10):x;console.log(`GemShower: score change=${w}, pointsForEffect=${x}, gemsToShow=${V}, useLargeGems=${M}`);const U=y(V,I,_,M);console.log(`GemShower: generated ${U.length} gems`),u(z=>[...z,...U]),d.current=l},[l,p,m,a]);const y=(w,x,_,I=!1)=>{const M=[];let U=0;for(let z=0;z<w;z++){let $,W;if(_){const G=(60+Math.random()*60)*(Math.PI/180),b=100+Math.random()*200,re=Math.random()>.5?1:-1,B=.3+Math.random()*.7;$=b*Math.cos(G)*re*B,W=-b*Math.sin(G)}else $=(Math.random()*3-1.5)*60,W=0;M.push({id:`gem-${z}-${Date.now()}-${Math.random()}`,startPosition:{...x},velocity:{x:$,y:W},delay:U,size:I?80:40}),U+=10}return M},k=w=>{u(x=>x.filter(_=>_.id!==w))};return h.jsx("div",{className:"gem-shower-container",children:f.map(w=>h.jsx(wh,{startPosition:w.startPosition,velocity:w.velocity,delay:w.delay,size:w.size,onComplete:()=>k(w.id)},w.id))})},Eh=()=>(ot(),h.jsx("div",{className:"game-over-overlay",children:h.jsxs("div",{className:"game-over-content",children:[h.jsx("h1",{className:"game-over-title",children:"Game Over"}),h.jsx("p",{className:"game-over-subtitle",children:"Check your stats to see how you did!"})]})})),Ch=()=>{const{gameState:l,isStatsOpen:i}=rt();return l!=="playing"&&l!=="gameover"?null:h.jsxs("div",{className:"tetrix",children:[h.jsx(ph,{}),h.jsx(Sh,{}),h.jsx(xh,{}),l==="gameover"&&!i&&h.jsx(Eh,{})]})},kh=()=>{const{currentLevel:l}=rt(),i=ot(),[a,f]=R.useState(l.toString()),u=p=>{p.preventDefault();const m=Number.parseInt(a,10);!Number.isNaN(m)&&m>=0&&(i({type:"SET_LEVEL",value:{levelIndex:m}}),i({type:"CLOSE_MAP"}))},d=()=>{i({type:"CLOSE_MAP"})};return h.jsx("div",{className:"game-map-overlay",children:h.jsxs("div",{className:"game-map",children:[h.jsxs("div",{className:"game-map-header",children:[h.jsx("h1",{children:"Level Map"}),h.jsx("button",{className:"close-button",onClick:d,type:"button",children:""})]}),h.jsxs("div",{className:"map-content",children:[h.jsxs("div",{className:"current-level-display",children:[h.jsx("span",{className:"current-level-label",children:"Current Level:"}),h.jsx("span",{className:"current-level-value",children:l})]}),h.jsxs("form",{onSubmit:u,className:"level-selector-form",children:[h.jsx("label",{htmlFor:"level-input",className:"level-input-label",children:"Enter Level Index:"}),h.jsxs("div",{className:"input-group",children:[h.jsx("input",{id:"level-input",type:"number",value:a,onChange:p=>f(p.target.value),min:"0",max:"999",className:"level-input",placeholder:"0",autoFocus:!0}),h.jsx("button",{type:"submit",className:"level-submit-button",children:"Go to Level"})]})]}),h.jsxs("div",{className:"map-placeholder",children:[h.jsx("p",{className:"placeholder-text",children:" Full level map coming soon!"}),h.jsx("p",{className:"placeholder-description",children:"This will show a visual grid of levels with different challenges, modifiers, and progression paths."})]})]})]})})};function Th(){const[l,i]=R.useState(!1),a=()=>{const f=document.documentElement;f.requestFullscreen&&!l&&(f.requestFullscreen(),i(!0))};return R.useEffect(()=>{const f=()=>{document.fullscreenElement?i(!0):i(!1)};return document.addEventListener("fullscreenchange",f),()=>{document.removeEventListener("fullscreenchange",f)}}),l?null:h.jsx("button",{className:"full-screen-button",onClick:a,children:h.jsx("span",{children:"+"})})}const Ph=({onClose:l})=>{const[i,a]=R.useState(0),f=[{title:"Drag shapes from the Shape Queue",content:h.jsx("div",{className:"gif-placeholder",children:"GIF"})},{title:"Place them on the Grid",content:h.jsx("div",{className:"gif-placeholder",children:"GIF"})},{title:"Fill in Rows and Columns to clear lines",content:h.jsx("div",{className:"gif-placeholder",children:"GIF"})},{title:"Clear lines to get points",content:h.jsx("div",{className:"gif-placeholder",children:"GIF"})},{title:"Use points to turn shapes",content:h.jsx("div",{className:"gif-placeholder",children:"GIF"})},{title:"Get stuck? Start a new game from the menu",content:h.jsx("div",{className:"gif-placeholder",children:"GIF"})}],u=R.useCallback(()=>{i<f.length-1&&a(i+1)},[i,f.length]),d=R.useCallback(()=>{i>0&&a(i-1)},[i]),p=R.useCallback(k=>{a(k)},[]),m=R.useCallback(()=>{localStorage.setItem("hasSeenTutorial","true"),l()},[l]),y=R.useCallback(k=>{k.target===k.currentTarget&&m()},[m]);return ss.createPortal(h.jsx("div",{className:"tutorial-overlay",onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:h.jsxs("div",{className:"tutorial-content",children:[h.jsx("button",{className:"tutorial-close-x",onClick:m,"aria-label":"Close tutorial",title:"Close tutorial",children:""}),h.jsxs("div",{className:"tutorial-slide",children:[h.jsx("h2",{id:"tutorial-title",className:"tutorial-title",children:f[i].title}),h.jsx("div",{className:"tutorial-body",children:f[i].content})]}),h.jsxs("div",{className:"tutorial-navigation",children:[h.jsx("button",{className:"tutorial-nav-button",onClick:d,disabled:i===0,"aria-label":"Previous slide",children:" Previous"}),h.jsx("div",{className:"tutorial-dots",children:f.map((k,w)=>h.jsx("button",{className:`tutorial-dot ${w===i?"active":""}`,onClick:()=>p(w),"aria-label":`Go to slide ${w+1}`},`slide-${w}-${k.title}`))}),i<f.length-1?h.jsx("button",{className:"tutorial-nav-button",onClick:u,"aria-label":"Next slide",children:"Next "}):h.jsx("button",{className:"tutorial-nav-button tutorial-close-button",onClick:m,"aria-label":"Close tutorial",children:"Start Playing"})]})]})}),document.body)};function _h(){var he,Oe,Ye,De,Le;const{dragState:l,mousePosition:i,shapeOptionBounds:a}=rt(),f=ot(),{playSound:u}=Ic(),[d,p]=R.useState(0),[m,y]=R.useState(0),[k,w]=R.useState(0),{state:x}=ol(),{gridSize:_,gridGap:I}=Wr(),M=I,V=9*M,U=(_-V)/10,z=((he=l.dragOffsets)==null?void 0:he.touchOffset)??0;if(R.useEffect(()=>{l.phase==="picking-up"&&l.startTime&&u("pickup_shape")},[l.phase,l.startTime,u]),R.useEffect(()=>{if(l.phase!=="picking-up"||!l.sourcePosition){p(l.phase==="dragging"?1:0);return}const fe=300,pe=performance.now(),se=ne=>{const L=ne-pe,q=Math.min(L/fe,1),F=1-Math.pow(1-q,3);p(F),q<1?requestAnimationFrame(se):p(1)};requestAnimationFrame(se)},[l.phase,l.sourcePosition]),R.useEffect(()=>{if(l.phase!=="placing"||!l.targetPosition){y(0);return}const fe=300,se=fe-97,ne=performance.now();let L=!1;const q=F=>{const E=F-ne,N=Math.min(E/fe,1);!L&&E>=se&&(L=!0,u("click_into_place"));const ee=Math.pow(N,3);y(ee),N>=1?f({type:"COMPLETE_PLACEMENT"}):requestAnimationFrame(q)};requestAnimationFrame(q)},[l.phase,l.targetPosition,f,u]),R.useEffect(()=>{if(l.phase!=="returning"||!l.sourcePosition){w(0);return}const fe=250,pe=performance.now(),se=ne=>{const L=ne-pe,q=Math.min(L/fe,1),F=1-Math.pow(1-q,3);w(F),q>=1?f({type:"COMPLETE_RETURN"}):requestAnimationFrame(se)};requestAnimationFrame(se)},[l.phase,l.sourcePosition,f]),!l.selectedShape||l.selectedShapeIndex===null||l.phase==="none")return null;let $=U,W=M,G,b,re=1;const B=l.sourcePosition;if(l.phase==="returning"&&B&&k<1){const fe=B.width,pe=1,se=(fe-3*pe)/4;$=U+(se-U)*k,W=M+(pe-M)*k;const ne=i.x,L=i.y-z,q=B.x+B.width/2,F=B.y+B.height/2,E=ne+(q-ne)*k,N=L+(F-L)*k,ee=4*$+3*W,oe=4*$+3*W;b=E-ee/2,G=N-oe/2,re=1-.2*k}else if(l.phase==="picking-up"&&B){const fe=B.width,pe=1,se=(fe-3*pe)/4;$=se+(U-se)*d,W=pe+(M-pe)*d;const ne=a[l.selectedShapeIndex];if(!ne)return null;const L=ne.left+ne.width/2,q=ne.top+ne.height/2,F=i.x,E=i.y-z,N=L+(F-L)*d,ee=q+(E-q)*d,oe=4*$+3*W,ae=4*$+3*W;b=N-oe/2,G=ee-ae/2}else if(l.phase==="dragging"){const fe=4*U+3*M,pe=4*U+3*M,se=((Oe=l.dragOffsets)==null?void 0:Oe.visualOffsetX)??0,ne=((Ye=l.dragOffsets)==null?void 0:Ye.visualOffsetY)??0;b=i.x-fe/2-se,G=i.y-z-pe/2-ne}else if(l.phase==="placing"&&l.targetPosition){const fe=4*U+3*M,pe=4*U+3*M,se=((De=l.dragOffsets)==null?void 0:De.visualOffsetX)??0,ne=((Le=l.dragOffsets)==null?void 0:Le.visualOffsetY)??0,L=l.placementStartPosition??i,q=L.x,F=L.y-z,E=l.targetPosition.x,N=l.targetPosition.y,ee=q+(E-q)*m,oe=F+(N-F)*m;re=1-.05*Math.sin(m*Math.PI),b=ee-fe/2-se,G=oe-pe/2-ne}else return null;if(!Number.isFinite(G)||!Number.isFinite(b))return null;const ie=new Set(l.invalidBlockPositions.map(fe=>`${fe.shapeRow},${fe.shapeCol}`));return h.jsx("div",{className:`dragging-shape-container ${l.phase==="dragging"?"dragging-phase":""}`,style:{"--container-top":`${G}px`,"--container-left":`${b}px`,"--tile-size":`${$}px`,"--grid-gap":`${W}px`,"--scale":re},children:l.selectedShape.map((fe,pe)=>fe.map((se,ne)=>{const L=`${pe},${ne}`,q=ie.has(L),F=(pe*4+ne)*50;return h.jsx("div",{className:`dragging-shape-cell ${q?"invalid-cell":""}`,style:q?{width:"calc(var(--tile-size) * 0.5)",height:"calc(var(--tile-size) * 0.5)",transform:"translate(calc(var(--tile-size) * 0.25), calc(var(--tile-size) * 0.25))"}:void 0,children:h.jsxs("div",{className:"wiggle-wrapper",style:{"--wiggle-delay":`${F}ms`},children:[se.isFilled&&h.jsx(ds,{block:se}),!se.isFilled&&x.isEditorOpen&&x.showGridDots&&h.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"white",opacity:.6,pointerEvents:"none"}})]})},`${pe}-${ne}`)}))})}const Nh=()=>{const[l,i]=R.useState([]);return R.useEffect(()=>{const a=f=>{const u={id:Date.now(),text:f.detail.message};i(d=>[...d,u]),setTimeout(()=>{i(d=>d.filter(p=>p.id!==u.id))},3e3)};return window.addEventListener("tetrix-show-toast",a),()=>{window.removeEventListener("tetrix-show-toast",a)}},[]),h.jsx("div",{className:"toast-overlay-container",children:l.map(a=>h.jsx("div",{className:"toast-message",children:a.text},a.id))})},Rh=()=>{const{gameState:l,dragState:i,gridTileSize:a,gridBounds:f,tiles:u}=rt(),d=ot(),[p,m]=R.useState(!1),y=R.useRef(null);R.useEffect(()=>{localStorage.getItem("hasSeenTutorial")||m(!0)},[]),R.useEffect(()=>{const w=x=>{const _={x:x.clientX,y:x.clientY};if(i.phase==="placing"||i.phase==="returning"){d({type:"UPDATE_MOUSE_LOCATION",value:{location:null,position:_,tileSize:a,gridBounds:f,isValid:!1,invalidBlocks:[]}});return}let I=null,M=a,V=f,U=!1,z=[];if(i.selectedShape&&(y.current||(y.current=document.querySelector(".grid")),y.current)){const $=y.current,W=$.getBoundingClientRect();V||(V={top:W.top,left:W.left,width:W.width,height:W.height});const G=i.dragOffsets;if(!G){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE");return}M=G.tileSize,I=gc(x.clientX,x.clientY,$,{rows:10,columns:10},G.touchOffset,i.selectedShape,{gridOffsetX:G.gridOffsetX,gridOffsetY:G.gridOffsetY,tileSize:G.tileSize,gridGap:G.gridGap}),I&&(U=ls(i.selectedShape,I,u),z=Kf(i.selectedShape,I,u))}d({type:"UPDATE_MOUSE_LOCATION",value:{location:I,position:_,tileSize:M,gridBounds:V,isValid:U,invalidBlocks:z}})};return document.addEventListener("pointermove",w),()=>{document.removeEventListener("pointermove",w),y.current=null}},[d,i.selectedShape,i.dragOffsets,i.hoveredBlockPositions,i.isValidPlacement,i.invalidBlockPositions,i.phase,a,f,u]),R.useEffect(()=>{const w=x=>{if(!i.selectedShape)return;y.current||(y.current=document.querySelector(".grid"));const _=y.current;if(!_){d({type:"RETURN_SHAPE_TO_SELECTOR"});return}const I=i.dragOffsets;if(!I){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE"),d({type:"RETURN_SHAPE_TO_SELECTOR"});return}const M=gc(x.clientX,x.clientY,_,{rows:10,columns:10},I.touchOffset,i.selectedShape,{gridOffsetX:I.gridOffsetX,gridOffsetY:I.gridOffsetY,tileSize:I.tileSize,gridGap:I.gridGap});if(M===null||!ls(i.selectedShape,M,u)){d({type:"RETURN_SHAPE_TO_SELECTOR"});return}d({type:"PLACE_SHAPE",value:{location:M,mousePosition:{x:x.clientX,y:x.clientY}}})};return document.addEventListener("pointerup",w),()=>{document.removeEventListener("pointerup",w)}},[d,i.selectedShape,i.dragOffsets,u]);const k=()=>{m(!1)};return h.jsxs("div",{className:"App",children:[h.jsx(Gp,{}),l==="map"?h.jsx(kh,{}):h.jsx(Ch,{}),h.jsx(_h,{}),h.jsx(Th,{}),p&&h.jsx(Ph,{onClose:k}),h.jsx(cp,{}),h.jsx(Nh,{})]})};function Oh({children:l}){const[i,a]=R.useReducer(fh,dh),[f,u]=R.useState(!1);return R.useEffect(()=>{(async()=>{var p;try{console.log("TetrixProvider: Attempting to load saved game state...");const[m,y,k]=await Promise.all([Np(),_p(),jc()]);a({type:"LOAD_MODIFIERS",value:{unlockedModifiers:y}}),k&&a({type:"LOAD_STATS",value:{stats:k}}),(m==null?void 0:m.tiles.length)===100?(console.log("TetrixProvider: Found valid saved game state, restoring...",{score:m.score,tilesCount:m.tiles.length,shapesCount:m.nextShapes.length,hasSavedShape:!!m.savedShape}),a({type:"LOAD_GAME_STATE",value:{gameData:m}})):console.log("TetrixProvider: No valid saved game state found (tiles count:",((p=m==null?void 0:m.tiles)==null?void 0:p.length)??"undefined",")")}catch(m){console.error("Failed to load saved game state:",m)}finally{u(!0)}})()},[]),f?h.jsx(Tc.Provider,{value:i,children:h.jsx(Pc.Provider,{value:a,children:l})}):null}class Dh extends R.Component{constructor(){super(...arguments);ic(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(a){return console.log("Error boundary caught error:",a),{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,f){console.error("Uncaught error:",a,f),console.log("Error boundary activated!"),this.setState({error:a,errorInfo:f})}render(){var a;return this.state.hasError?h.jsx("div",{className:"rant-error-boundary-container",children:h.jsxs("div",{className:"rant-error-boundary-content",children:[h.jsx("h1",{className:"rant-error-boundary-title",children:"Application Error"}),h.jsxs("div",{className:"rant-error-boundary-details",children:[h.jsx("strong",{children:"Error Details:"}),h.jsx("br",{}),((a=this.state.error)==null?void 0:a.message)||"Unknown error occurred"]}),h.jsx("p",{className:"rant-error-boundary-message",children:"The application has encountered an error and cannot continue. Please refresh the page to restart the application."}),h.jsx("button",{onClick:()=>globalThis.location.reload(),className:"rant-error-boundary-button",children:"Refresh Page"}),h.jsx("div",{className:"rant-error-boundary-footer",children:"If this problem persists, maybe try not clicking that button so much next time."})]})}):this.props.children}}Hf.createRoot(document.getElementById("root")).render(h.jsx(R.StrictMode,{children:h.jsx(Dh,{children:h.jsx($p,{children:h.jsx(Oh,{children:h.jsx(Yf,{children:h.jsx(Rh,{})})})})})}));

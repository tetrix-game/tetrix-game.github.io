var Tp=Object.defineProperty;var Np=(s,i,l)=>i in s?Tp(s,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[i]=l;var Cc=(s,i,l)=>Np(s,typeof i!="symbol"?i+"":i,l);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&d(p)}).observe(document,{childList:!0,subtree:!0});function l(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function d(u){if(u.ep)return;u.ep=!0;const c=l(u);fetch(u.href,c)}})();function Pp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var us={exports:{}},Wr={},cs={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc;function _p(){if(kc)return ce;kc=1;var s=Symbol.for("react.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=g&&k[g]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function O(k,L,se){this.props=k,this.context=L,this.refs=M,this.updater=se||N}O.prototype.isReactComponent={},O.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=O.prototype;function F(k,L,se){this.props=k,this.context=L,this.refs=M,this.updater=se||N}var A=F.prototype=new G;A.constructor=F,T(A,O.prototype),A.isPureReactComponent=!0;var j=Array.isArray,X=Object.prototype.hasOwnProperty,q={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function $(k,L,se){var J,ee={},le=null,ue=null;if(L!=null)for(J in L.ref!==void 0&&(ue=L.ref),L.key!==void 0&&(le=""+L.key),L)X.call(L,J)&&!te.hasOwnProperty(J)&&(ee[J]=L[J]);var ae=arguments.length-2;if(ae===1)ee.children=se;else if(1<ae){for(var he=Array(ae),Le=0;Le<ae;Le++)he[Le]=arguments[Le+2];ee.children=he}if(k&&k.defaultProps)for(J in ae=k.defaultProps,ae)ee[J]===void 0&&(ee[J]=ae[J]);return{$$typeof:s,type:k,key:le,ref:ue,props:ee,_owner:q.current}}function Y(k,L){return{$$typeof:s,type:k.type,key:L,ref:k.ref,props:k.props,_owner:k._owner}}function pe(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function de(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return L[se]})}var ye=/\/+/g;function ge(k,L){return typeof k=="object"&&k!==null&&k.key!=null?de(""+k.key):L.toString(36)}function Ee(k,L,se,J,ee){var le=typeof k;(le==="undefined"||le==="boolean")&&(k=null);var ue=!1;if(k===null)ue=!0;else switch(le){case"string":case"number":ue=!0;break;case"object":switch(k.$$typeof){case s:case i:ue=!0}}if(ue)return ue=k,ee=ee(ue),k=J===""?"."+ge(ue,0):J,j(ee)?(se="",k!=null&&(se=k.replace(ye,"$&/")+"/"),Ee(ee,L,se,"",function(Le){return Le})):ee!=null&&(pe(ee)&&(ee=Y(ee,se+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(ye,"$&/")+"/")+k)),L.push(ee)),1;if(ue=0,J=J===""?".":J+":",j(k))for(var ae=0;ae<k.length;ae++){le=k[ae];var he=J+ge(le,ae);ue+=Ee(le,L,se,he,ee)}else if(he=E(k),typeof he=="function")for(k=he.call(k),ae=0;!(le=k.next()).done;)le=le.value,he=J+ge(le,ae++),ue+=Ee(le,L,se,he,ee);else if(le==="object")throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ue}function xe(k,L,se){if(k==null)return k;var J=[],ee=0;return Ee(k,J,"","",function(le){return L.call(se,le,ee++)}),J}function Be(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var we={current:null},b={transition:null},ne={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:b,ReactCurrentOwner:q};function V(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:xe,forEach:function(k,L,se){xe(k,function(){L.apply(this,arguments)},se)},count:function(k){var L=0;return xe(k,function(){L++}),L},toArray:function(k){return xe(k,function(L){return L})||[]},only:function(k){if(!pe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ce.Component=O,ce.Fragment=l,ce.Profiler=u,ce.PureComponent=F,ce.StrictMode=d,ce.Suspense=h,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ce.act=V,ce.cloneElement=function(k,L,se){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var J=T({},k.props),ee=k.key,le=k.ref,ue=k._owner;if(L!=null){if(L.ref!==void 0&&(le=L.ref,ue=q.current),L.key!==void 0&&(ee=""+L.key),k.type&&k.type.defaultProps)var ae=k.type.defaultProps;for(he in L)X.call(L,he)&&!te.hasOwnProperty(he)&&(J[he]=L[he]===void 0&&ae!==void 0?ae[he]:L[he])}var he=arguments.length-2;if(he===1)J.children=se;else if(1<he){ae=Array(he);for(var Le=0;Le<he;Le++)ae[Le]=arguments[Le+2];J.children=ae}return{$$typeof:s,type:k.type,key:ee,ref:le,props:J,_owner:ue}},ce.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},ce.createElement=$,ce.createFactory=function(k){var L=$.bind(null,k);return L.type=k,L},ce.createRef=function(){return{current:null}},ce.forwardRef=function(k){return{$$typeof:v,render:k}},ce.isValidElement=pe,ce.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:Be}},ce.memo=function(k,L){return{$$typeof:y,type:k,compare:L===void 0?null:L}},ce.startTransition=function(k){var L=b.transition;b.transition={};try{k()}finally{b.transition=L}},ce.unstable_act=V,ce.useCallback=function(k,L){return we.current.useCallback(k,L)},ce.useContext=function(k){return we.current.useContext(k)},ce.useDebugValue=function(){},ce.useDeferredValue=function(k){return we.current.useDeferredValue(k)},ce.useEffect=function(k,L){return we.current.useEffect(k,L)},ce.useId=function(){return we.current.useId()},ce.useImperativeHandle=function(k,L,se){return we.current.useImperativeHandle(k,L,se)},ce.useInsertionEffect=function(k,L){return we.current.useInsertionEffect(k,L)},ce.useLayoutEffect=function(k,L){return we.current.useLayoutEffect(k,L)},ce.useMemo=function(k,L){return we.current.useMemo(k,L)},ce.useReducer=function(k,L,se){return we.current.useReducer(k,L,se)},ce.useRef=function(k){return we.current.useRef(k)},ce.useState=function(k){return we.current.useState(k)},ce.useSyncExternalStore=function(k,L,se){return we.current.useSyncExternalStore(k,L,se)},ce.useTransition=function(){return we.current.useTransition()},ce.version="18.3.1",ce}var Tc;function ws(){return Tc||(Tc=1,cs.exports=_p()),cs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc;function Rp(){if(Nc)return Wr;Nc=1;var s=ws(),i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(v,h,y){var m,g={},E=null,N=null;y!==void 0&&(E=""+y),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(N=h.ref);for(m in h)d.call(h,m)&&!c.hasOwnProperty(m)&&(g[m]=h[m]);if(v&&v.defaultProps)for(m in h=v.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:i,type:v,key:E,ref:N,props:g,_owner:u.current}}return Wr.Fragment=l,Wr.jsx=p,Wr.jsxs=p,Wr}var Pc;function Mp(){return Pc||(Pc=1,us.exports=Rp()),us.exports}var w=Mp(),D=ws();const Oe=Pp(D);var dl={},ds={exports:{}},st={},fs={exports:{}},ps={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function Op(){return _c||(_c=1,function(s){function i(b,ne){var V=b.length;b.push(ne);e:for(;0<V;){var k=V-1>>>1,L=b[k];if(0<u(L,ne))b[k]=ne,b[V]=L,V=k;else break e}}function l(b){return b.length===0?null:b[0]}function d(b){if(b.length===0)return null;var ne=b[0],V=b.pop();if(V!==ne){b[0]=V;e:for(var k=0,L=b.length,se=L>>>1;k<se;){var J=2*(k+1)-1,ee=b[J],le=J+1,ue=b[le];if(0>u(ee,V))le<L&&0>u(ue,ee)?(b[k]=ue,b[le]=V,k=le):(b[k]=ee,b[J]=V,k=J);else if(le<L&&0>u(ue,V))b[k]=ue,b[le]=V,k=le;else break e}}return ne}function u(b,ne){var V=b.sortIndex-ne.sortIndex;return V!==0?V:b.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,v=p.now();s.unstable_now=function(){return p.now()-v}}var h=[],y=[],m=1,g=null,E=3,N=!1,T=!1,M=!1,O=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(b){for(var ne=l(y);ne!==null;){if(ne.callback===null)d(y);else if(ne.startTime<=b)d(y),ne.sortIndex=ne.expirationTime,i(h,ne);else break;ne=l(y)}}function j(b){if(M=!1,A(b),!T)if(l(h)!==null)T=!0,Be(X);else{var ne=l(y);ne!==null&&we(j,ne.startTime-b)}}function X(b,ne){T=!1,M&&(M=!1,G($),$=-1),N=!0;var V=E;try{for(A(ne),g=l(h);g!==null&&(!(g.expirationTime>ne)||b&&!de());){var k=g.callback;if(typeof k=="function"){g.callback=null,E=g.priorityLevel;var L=k(g.expirationTime<=ne);ne=s.unstable_now(),typeof L=="function"?g.callback=L:g===l(h)&&d(h),A(ne)}else d(h);g=l(h)}if(g!==null)var se=!0;else{var J=l(y);J!==null&&we(j,J.startTime-ne),se=!1}return se}finally{g=null,E=V,N=!1}}var q=!1,te=null,$=-1,Y=5,pe=-1;function de(){return!(s.unstable_now()-pe<Y)}function ye(){if(te!==null){var b=s.unstable_now();pe=b;var ne=!0;try{ne=te(!0,b)}finally{ne?ge():(q=!1,te=null)}}else q=!1}var ge;if(typeof F=="function")ge=function(){F(ye)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,xe=Ee.port2;Ee.port1.onmessage=ye,ge=function(){xe.postMessage(null)}}else ge=function(){O(ye,0)};function Be(b){te=b,q||(q=!0,ge())}function we(b,ne){$=O(function(){b(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(b){b.callback=null},s.unstable_continueExecution=function(){T||N||(T=!0,Be(X))},s.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<b?Math.floor(1e3/b):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_getFirstCallbackNode=function(){return l(h)},s.unstable_next=function(b){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var V=E;E=ne;try{return b()}finally{E=V}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(b,ne){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var V=E;E=b;try{return ne()}finally{E=V}},s.unstable_scheduleCallback=function(b,ne,V){var k=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?k+V:k):V=k,b){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,b={id:m++,callback:ne,priorityLevel:b,startTime:V,expirationTime:L,sortIndex:-1},V>k?(b.sortIndex=V,i(y,b),l(h)===null&&b===l(y)&&(M?(G($),$=-1):M=!0,we(j,V-k))):(b.sortIndex=L,i(h,b),T||N||(T=!0,Be(X))),b},s.unstable_shouldYield=de,s.unstable_wrapCallback=function(b){var ne=E;return function(){var V=E;E=ne;try{return b.apply(this,arguments)}finally{E=V}}}}(ps)),ps}var Rc;function Ap(){return Rc||(Rc=1,fs.exports=Op()),fs.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc;function Dp(){if(Mc)return st;Mc=1;var s=ws(),i=Ap();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,u={};function c(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(u[e]=t,e=0;e<t.length;e++)d.add(t[e])}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function E(e){return h.call(g,e)?!0:h.call(m,e)?!1:y.test(e)?g[e]=!0:(m[e]=!0,!1)}function N(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,r){if(t===null||typeof t>"u"||N(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,n,r,o,a,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=f}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G,F);O[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G,F);O[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G,F);O[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,n,r){var o=O.hasOwnProperty(t)?O[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,o,r)&&(n=null),r||o===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var j=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),q=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),de=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),b=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,k;function L(e){if(k===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var se=!1;function J(e,t){if(!e||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var r=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){r=R}e.call(t.prototype)}else{try{throw Error()}catch(R){r=R}e()}}catch(R){if(R&&r&&typeof R.stack=="string"){for(var o=R.stack.split(`
`),a=r.stack.split(`
`),f=o.length-1,S=a.length-1;1<=f&&0<=S&&o[f]!==a[S];)S--;for(;1<=f&&0<=S;f--,S--)if(o[f]!==a[S]){if(f!==1||S!==1)do if(f--,S--,0>S||o[f]!==a[S]){var x=`
`+o[f].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=f&&0<=S);break}}}finally{se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function ee(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case q:return"Portal";case Y:return"Profiler";case $:return"StrictMode";case ge:return"Suspense";case Ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}function ue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(t);case 8:return t===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Le(e){var t=he(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){r=""+f,a.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mn(e){e._valueTracker||(e._valueTracker=Le(e))}function eo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=he(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function to(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ms(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ae(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Os(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function vl(e,t){Os(e,t);var n=ae(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yl(e,t.type,n):t.hasOwnProperty("defaultValue")&&yl(e,t.type,ae(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function As(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yl(e,t,n){(t!=="number"||to(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sr=Array.isArray;function jn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ae(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ds(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(l(92));if(sr(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ae(n)}}function Ls(e,t){var n=ae(t.value),r=ae(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function js(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Is(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Is(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var no,Fs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(no=no||document.createElement("div"),no.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=no.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rd=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){Rd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function zs(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function Bs(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=zs(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Md=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(Md[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,In=null,Fn=null;function Us(e){if(e=Or(e)){if(typeof Tl!="function")throw Error(l(280));var t=e.stateNode;t&&(t=No(t),Tl(e.stateNode,e.type,t))}}function bs(e){In?Fn?Fn.push(e):Fn=[e]:In=e}function $s(){if(In){var e=In,t=Fn;if(Fn=In=null,Us(e),t)for(e=0;e<t.length;e++)Us(t[e])}}function Gs(e,t){return e(t)}function Vs(){}var Nl=!1;function Hs(e,t,n){if(Nl)return e(t,n);Nl=!0;try{return Gs(e,t,n)}finally{Nl=!1,(In!==null||Fn!==null)&&(Vs(),$s())}}function cr(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Pl=!1;if(v)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Pl=!1}function Od(e,t,n,r,o,a,f,S,x){var R=Array.prototype.slice.call(arguments,3);try{t.apply(n,R)}catch(z){this.onError(z)}}var fr=!1,ro=null,oo=!1,_l=null,Ad={onError:function(e){fr=!0,ro=e}};function Dd(e,t,n,r,o,a,f,S,x){fr=!1,ro=null,Od.apply(Ad,arguments)}function Ld(e,t,n,r,o,a,f,S,x){if(Dd.apply(this,arguments),fr){if(fr){var R=ro;fr=!1,ro=null}else throw Error(l(198));oo||(oo=!0,_l=R)}}function gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ws(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qs(e){if(gn(e)!==e)throw Error(l(188))}function jd(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Qs(o),e;if(a===r)return Qs(o),t;a=a.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=a;else{for(var f=!1,S=o.child;S;){if(S===n){f=!0,n=o,r=a;break}if(S===r){f=!0,r=o,n=a;break}S=S.sibling}if(!f){for(S=a.child;S;){if(S===n){f=!0,n=a,r=o;break}if(S===r){f=!0,r=a,n=o;break}S=S.sibling}if(!f)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function qs(e){return e=jd(e),e!==null?Ys(e):null}function Ys(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ys(e);if(t!==null)return t;e=e.sibling}return null}var Ks=i.unstable_scheduleCallback,Xs=i.unstable_cancelCallback,Id=i.unstable_shouldYield,Fd=i.unstable_requestPaint,je=i.unstable_now,zd=i.unstable_getCurrentPriorityLevel,Rl=i.unstable_ImmediatePriority,Js=i.unstable_UserBlockingPriority,lo=i.unstable_NormalPriority,Bd=i.unstable_LowPriority,Zs=i.unstable_IdlePriority,io=null,Ot=null;function Ud(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(io,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Gd,bd=Math.log,$d=Math.LN2;function Gd(e){return e>>>=0,e===0?32:31-(bd(e)/$d|0)|0}var so=64,ao=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,f=n&268435455;if(f!==0){var S=f&~o;S!==0?r=pr(S):(a&=f,a!==0&&(r=pr(a)))}else f=n&~o,f!==0?r=pr(f):a!==0&&(r=pr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),o=1<<n,r|=e[n],t&=~o;return r}function Vd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var f=31-kt(a),S=1<<f,x=o[f];x===-1?(!(S&n)||S&r)&&(o[f]=Vd(S,t)):x<=t&&(e.expiredLanes|=S),a&=~S}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ea(){var e=so;return so<<=1,!(so&4194240)&&(so=64),e}function Ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Wd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-kt(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Al(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Se=0;function ta(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var na,Dl,ra,oa,la,Ll=!1,co=[],Wt=null,Qt=null,qt=null,mr=new Map,gr=new Map,Yt=[],Qd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ia(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(t.pointerId)}}function vr(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Or(t),t!==null&&Dl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function qd(e,t,n,r,o){switch(t){case"focusin":return Wt=vr(Wt,e,t,n,r,o),!0;case"dragenter":return Qt=vr(Qt,e,t,n,r,o),!0;case"mouseover":return qt=vr(qt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return mr.set(a,vr(mr.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,gr.set(a,vr(gr.get(a)||null,e,t,n,r,o)),!0}return!1}function sa(e){var t=vn(e.target);if(t!==null){var n=gn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ws(n),t!==null){e.blockedOn=t,la(e.priority,function(){ra(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cl=r,n.target.dispatchEvent(r),Cl=null}else return t=Or(n),t!==null&&Dl(t),e.blockedOn=n,!1;t.shift()}return!0}function aa(e,t,n){fo(e)&&n.delete(t)}function Yd(){Ll=!1,Wt!==null&&fo(Wt)&&(Wt=null),Qt!==null&&fo(Qt)&&(Qt=null),qt!==null&&fo(qt)&&(qt=null),mr.forEach(aa),gr.forEach(aa)}function yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ll||(Ll=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yd)))}function wr(e){function t(o){return yr(o,e)}if(0<co.length){yr(co[0],e);for(var n=1;n<co.length;n++){var r=co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&yr(Wt,e),Qt!==null&&yr(Qt,e),qt!==null&&yr(qt,e),mr.forEach(t),gr.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)sa(n),n.blockedOn===null&&Yt.shift()}var zn=j.ReactCurrentBatchConfig,po=!0;function Kd(e,t,n,r){var o=Se,a=zn.transition;zn.transition=null;try{Se=1,jl(e,t,n,r)}finally{Se=o,zn.transition=a}}function Xd(e,t,n,r){var o=Se,a=zn.transition;zn.transition=null;try{Se=4,jl(e,t,n,r)}finally{Se=o,zn.transition=a}}function jl(e,t,n,r){if(po){var o=Il(e,t,n,r);if(o===null)Zl(e,t,r,ho,n),ia(e,r);else if(qd(o,e,t,n,r))r.stopPropagation();else if(ia(e,r),t&4&&-1<Qd.indexOf(e)){for(;o!==null;){var a=Or(o);if(a!==null&&na(a),a=Il(e,t,n,r),a===null&&Zl(e,t,r,ho,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var ho=null;function Il(e,t,n,r){if(ho=null,e=kl(r),e=vn(e),e!==null)if(t=gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ws(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ho=e,null}function ua(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zd()){case Rl:return 1;case Js:return 4;case lo:case Bd:return 16;case Zs:return 536870912;default:return 16}default:return 16}}var Kt=null,Fl=null,mo=null;function ca(){if(mo)return mo;var e,t=Fl,n=t.length,r,o="value"in Kt?Kt.value:Kt.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===o[a-r];r++);return mo=o.slice(e,1<r?1-r:void 0)}function go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function da(){return!1}function ut(e){function t(n,r,o,a,f){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=f,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(a):a[S]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vo:da,this.isPropagationStopped=da,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=ut(Bn),Sr=V({},Bn,{view:0,detail:0}),Jd=ut(Sr),Bl,Ul,Er,yo=V({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Bl=e.screenX-Er.screenX,Ul=e.screenY-Er.screenY):Ul=Bl=0,Er=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),fa=ut(yo),Zd=V({},yo,{dataTransfer:0}),ef=ut(Zd),tf=V({},Sr,{relatedTarget:0}),bl=ut(tf),nf=V({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),rf=ut(nf),of=V({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lf=ut(of),sf=V({},Bn,{data:0}),pa=ut(sf),af={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function df(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cf[e])?!!t[e]:!1}function $l(){return df}var ff=V({},Sr,{key:function(e){if(e.key){var t=af[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(e){return e.type==="keypress"?go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pf=ut(ff),hf=V({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=ut(hf),mf=V({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),gf=ut(mf),vf=V({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=ut(vf),wf=V({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sf=ut(wf),Ef=[9,13,27,32],Gl=v&&"CompositionEvent"in window,xr=null;v&&"documentMode"in document&&(xr=document.documentMode);var xf=v&&"TextEvent"in window&&!xr,ma=v&&(!Gl||xr&&8<xr&&11>=xr),ga=" ",va=!1;function ya(e,t){switch(e){case"keyup":return Ef.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function Cf(e,t){switch(e){case"compositionend":return wa(t);case"keypress":return t.which!==32?null:(va=!0,ga);case"textInput":return e=t.data,e===ga&&va?null:e;default:return null}}function kf(e,t){if(Un)return e==="compositionend"||!Gl&&ya(e,t)?(e=ca(),mo=Fl=Kt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ma&&t.locale!=="ko"?null:t.data;default:return null}}var Tf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tf[e.type]:t==="textarea"}function Ea(e,t,n,r){bs(r),t=Co(t,"onChange"),0<t.length&&(n=new zl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cr=null,kr=null;function Nf(e){Ba(e,0)}function wo(e){var t=Hn(e);if(eo(t))return e}function Pf(e,t){if(e==="change")return t}var xa=!1;if(v){var Vl;if(v){var Hl="oninput"in document;if(!Hl){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),Hl=typeof Ca.oninput=="function"}Vl=Hl}else Vl=!1;xa=Vl&&(!document.documentMode||9<document.documentMode)}function ka(){Cr&&(Cr.detachEvent("onpropertychange",Ta),kr=Cr=null)}function Ta(e){if(e.propertyName==="value"&&wo(kr)){var t=[];Ea(t,kr,e,kl(e)),Hs(Nf,t)}}function _f(e,t,n){e==="focusin"?(ka(),Cr=t,kr=n,Cr.attachEvent("onpropertychange",Ta)):e==="focusout"&&ka()}function Rf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wo(kr)}function Mf(e,t){if(e==="click")return wo(t)}function Of(e,t){if(e==="input"||e==="change")return wo(t)}function Af(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Af;function Tr(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!h.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function Na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pa(e,t){var n=Na(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Na(n)}}function _a(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_a(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ra(){for(var e=window,t=to();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=to(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Df(e){var t=Ra(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_a(n.ownerDocument.documentElement,n)){if(r!==null&&Wl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Pa(n,a);var f=Pa(n,r);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lf=v&&"documentMode"in document&&11>=document.documentMode,bn=null,Ql=null,Nr=null,ql=!1;function Ma(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ql||bn==null||bn!==to(r)||(r=bn,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&Tr(Nr,r)||(Nr=r,r=Co(Ql,"onSelect"),0<r.length&&(t=new zl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bn)))}function So(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Yl={},Oa={};v&&(Oa=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Eo(e){if(Yl[e])return Yl[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oa)return Yl[e]=t[n];return e}var Aa=Eo("animationend"),Da=Eo("animationiteration"),La=Eo("animationstart"),ja=Eo("transitionend"),Ia=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Ia.set(e,t),c(t,[e])}for(var Kl=0;Kl<Fa.length;Kl++){var Xl=Fa[Kl],jf=Xl.toLowerCase(),If=Xl[0].toUpperCase()+Xl.slice(1);Xt(jf,"on"+If)}Xt(Aa,"onAnimationEnd"),Xt(Da,"onAnimationIteration"),Xt(La,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(ja,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function za(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ld(r,t,void 0,e),e.currentTarget=null}function Ba(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var f=r.length-1;0<=f;f--){var S=r[f],x=S.instance,R=S.currentTarget;if(S=S.listener,x!==a&&o.isPropagationStopped())break e;za(o,S,R),a=x}else for(f=0;f<r.length;f++){if(S=r[f],x=S.instance,R=S.currentTarget,S=S.listener,x!==a&&o.isPropagationStopped())break e;za(o,S,R),a=x}}}if(oo)throw e=_l,oo=!1,_l=null,e}function ke(e,t){var n=t[li];n===void 0&&(n=t[li]=new Set);var r=e+"__bubble";n.has(r)||(Ua(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),Ua(n,e,r,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function _r(e){if(!e[xo]){e[xo]=!0,d.forEach(function(n){n!=="selectionchange"&&(Ff.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,Jl("selectionchange",!1,t))}}function Ua(e,t,n,r){switch(ua(t)){case 1:var o=Kd;break;case 4:o=Xd;break;default:o=jl}n=o.bind(null,t,n,e),o=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var S=r.stateNode.containerInfo;if(S===o||S.nodeType===8&&S.parentNode===o)break;if(f===4)for(f=r.return;f!==null;){var x=f.tag;if((x===3||x===4)&&(x=f.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;f=f.return}for(;S!==null;){if(f=vn(S),f===null)return;if(x=f.tag,x===5||x===6){r=a=f;continue e}S=S.parentNode}}r=r.return}Hs(function(){var R=a,z=kl(n),B=[];e:{var I=Ia.get(e);if(I!==void 0){var H=zl,Q=e;switch(e){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":H=pf;break;case"focusin":Q="focus",H=bl;break;case"focusout":Q="blur",H=bl;break;case"beforeblur":case"afterblur":H=bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=gf;break;case Aa:case Da:case La:H=rf;break;case ja:H=yf;break;case"scroll":H=Jd;break;case"wheel":H=Sf;break;case"copy":case"cut":case"paste":H=lf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ha}var K=(t&4)!==0,Ie=!K&&e==="scroll",P=K?I!==null?I+"Capture":null:I;K=[];for(var C=R,_;C!==null;){_=C;var U=_.stateNode;if(_.tag===5&&U!==null&&(_=U,P!==null&&(U=cr(C,P),U!=null&&K.push(Rr(C,U,_)))),Ie)break;C=C.return}0<K.length&&(I=new H(I,Q,null,n,z),B.push({event:I,listeners:K}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",I&&n!==Cl&&(Q=n.relatedTarget||n.fromElement)&&(vn(Q)||Q[Ft]))break e;if((H||I)&&(I=z.window===z?z:(I=z.ownerDocument)?I.defaultView||I.parentWindow:window,H?(Q=n.relatedTarget||n.toElement,H=R,Q=Q?vn(Q):null,Q!==null&&(Ie=gn(Q),Q!==Ie||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(H=null,Q=R),H!==Q)){if(K=fa,U="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(K=ha,U="onPointerLeave",P="onPointerEnter",C="pointer"),Ie=H==null?I:Hn(H),_=Q==null?I:Hn(Q),I=new K(U,C+"leave",H,n,z),I.target=Ie,I.relatedTarget=_,U=null,vn(z)===R&&(K=new K(P,C+"enter",Q,n,z),K.target=_,K.relatedTarget=Ie,U=K),Ie=U,H&&Q)t:{for(K=H,P=Q,C=0,_=K;_;_=Gn(_))C++;for(_=0,U=P;U;U=Gn(U))_++;for(;0<C-_;)K=Gn(K),C--;for(;0<_-C;)P=Gn(P),_--;for(;C--;){if(K===P||P!==null&&K===P.alternate)break t;K=Gn(K),P=Gn(P)}K=null}else K=null;H!==null&&ba(B,I,H,K,!1),Q!==null&&Ie!==null&&ba(B,Ie,Q,K,!0)}}e:{if(I=R?Hn(R):window,H=I.nodeName&&I.nodeName.toLowerCase(),H==="select"||H==="input"&&I.type==="file")var Z=Pf;else if(Sa(I))if(xa)Z=Of;else{Z=Rf;var re=_f}else(H=I.nodeName)&&H.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(Z=Mf);if(Z&&(Z=Z(e,R))){Ea(B,Z,n,z);break e}re&&re(e,I,R),e==="focusout"&&(re=I._wrapperState)&&re.controlled&&I.type==="number"&&yl(I,"number",I.value)}switch(re=R?Hn(R):window,e){case"focusin":(Sa(re)||re.contentEditable==="true")&&(bn=re,Ql=R,Nr=null);break;case"focusout":Nr=Ql=bn=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Ma(B,n,z);break;case"selectionchange":if(Lf)break;case"keydown":case"keyup":Ma(B,n,z)}var oe;if(Gl)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Un?ya(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(ma&&n.locale!=="ko"&&(Un||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Un&&(oe=ca()):(Kt=z,Fl="value"in Kt?Kt.value:Kt.textContent,Un=!0)),re=Co(R,ie),0<re.length&&(ie=new pa(ie,e,null,n,z),B.push({event:ie,listeners:re}),oe?ie.data=oe:(oe=wa(n),oe!==null&&(ie.data=oe)))),(oe=xf?Cf(e,n):kf(e,n))&&(R=Co(R,"onBeforeInput"),0<R.length&&(z=new pa("onBeforeInput","beforeinput",null,n,z),B.push({event:z,listeners:R}),z.data=oe))}Ba(B,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Co(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=cr(e,n),a!=null&&r.unshift(Rr(e,a,o)),a=cr(e,t),a!=null&&r.push(Rr(e,a,o))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ba(e,t,n,r,o){for(var a=t._reactName,f=[];n!==null&&n!==r;){var S=n,x=S.alternate,R=S.stateNode;if(x!==null&&x===r)break;S.tag===5&&R!==null&&(S=R,o?(x=cr(n,a),x!=null&&f.unshift(Rr(n,x,S))):o||(x=cr(n,a),x!=null&&f.push(Rr(n,x,S)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var zf=/\r\n?/g,Bf=/\u0000|\uFFFD/g;function $a(e){return(typeof e=="string"?e:""+e).replace(zf,`
`).replace(Bf,"")}function ko(e,t,n){if(t=$a(t),$a(e)!==t&&n)throw Error(l(425))}function To(){}var ei=null,ti=null;function ni(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ri=typeof setTimeout=="function"?setTimeout:void 0,Uf=typeof clearTimeout=="function"?clearTimeout:void 0,Ga=typeof Promise=="function"?Promise:void 0,bf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ga<"u"?function(e){return Ga.resolve(null).then(e).catch($f)}:ri;function $f(e){setTimeout(function(){throw e})}function oi(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);wr(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Va(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),At="__reactFiber$"+Vn,Mr="__reactProps$"+Vn,Ft="__reactContainer$"+Vn,li="__reactEvents$"+Vn,Gf="__reactListeners$"+Vn,Vf="__reactHandles$"+Vn;function vn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Va(e);e!==null;){if(n=e[At])return n;e=Va(e)}return t}e=n,n=e.parentNode}return null}function Or(e){return e=e[At]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function No(e){return e[Mr]||null}var ii=[],Wn=-1;function Zt(e){return{current:e}}function Te(e){0>Wn||(e.current=ii[Wn],ii[Wn]=null,Wn--)}function Ce(e,t){Wn++,ii[Wn]=e.current,e.current=t}var en={},Ye=Zt(en),nt=Zt(!1),yn=en;function Qn(e,t){var n=e.type.contextTypes;if(!n)return en;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rt(e){return e=e.childContextTypes,e!=null}function Po(){Te(nt),Te(Ye)}function Ha(e,t,n){if(Ye.current!==en)throw Error(l(168));Ce(Ye,t),Ce(nt,n)}function Wa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(l(108,ue(e)||"Unknown",o));return V({},n,r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,yn=Ye.current,Ce(Ye,e),Ce(nt,nt.current),!0}function Qa(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=Wa(e,t,yn),r.__reactInternalMemoizedMergedChildContext=e,Te(nt),Te(Ye),Ce(Ye,e)):Te(nt),Ce(nt,n)}var zt=null,Ro=!1,si=!1;function qa(e){zt===null?zt=[e]:zt.push(e)}function Hf(e){Ro=!0,qa(e)}function tn(){if(!si&&zt!==null){si=!0;var e=0,t=Se;try{var n=zt;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Ro=!1}catch(o){throw zt!==null&&(zt=zt.slice(e+1)),Ks(Rl,tn),o}finally{Se=t,si=!1}}return null}var qn=[],Yn=0,Mo=null,Oo=0,pt=[],ht=0,wn=null,Bt=1,Ut="";function Sn(e,t){qn[Yn++]=Oo,qn[Yn++]=Mo,Mo=e,Oo=t}function Ya(e,t,n){pt[ht++]=Bt,pt[ht++]=Ut,pt[ht++]=wn,wn=e;var r=Bt;e=Ut;var o=32-kt(r)-1;r&=~(1<<o),n+=1;var a=32-kt(t)+o;if(30<a){var f=o-o%5;a=(r&(1<<f)-1).toString(32),r>>=f,o-=f,Bt=1<<32-kt(t)+o|n<<o|r,Ut=a+e}else Bt=1<<a|n<<o|r,Ut=e}function ai(e){e.return!==null&&(Sn(e,1),Ya(e,1,0))}function ui(e){for(;e===Mo;)Mo=qn[--Yn],qn[Yn]=null,Oo=qn[--Yn],qn[Yn]=null;for(;e===wn;)wn=pt[--ht],pt[ht]=null,Ut=pt[--ht],pt[ht]=null,Bt=pt[--ht],pt[ht]=null}var ct=null,dt=null,Ne=!1,Nt=null;function Ka(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Bt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,dt=null,!0):!1;default:return!1}}function ci(e){return(e.mode&1)!==0&&(e.flags&128)===0}function di(e){if(Ne){var t=dt;if(t){var n=t;if(!Xa(e,t)){if(ci(e))throw Error(l(418));t=Jt(n.nextSibling);var r=ct;t&&Xa(e,t)?Ka(r,n):(e.flags=e.flags&-4097|2,Ne=!1,ct=e)}}else{if(ci(e))throw Error(l(418));e.flags=e.flags&-4097|2,Ne=!1,ct=e}}}function Ja(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Ao(e){if(e!==ct)return!1;if(!Ne)return Ja(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ni(e.type,e.memoizedProps)),t&&(t=dt)){if(ci(e))throw Za(),Error(l(418));for(;t;)Ka(e,t),t=Jt(t.nextSibling)}if(Ja(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?Jt(e.stateNode.nextSibling):null;return!0}function Za(){for(var e=dt;e;)e=Jt(e.nextSibling)}function Kn(){dt=ct=null,Ne=!1}function fi(e){Nt===null?Nt=[e]:Nt.push(e)}var Wf=j.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(f){var S=o.refs;f===null?delete S[a]:S[a]=f},t._stringRef=a,t)}if(typeof e!="string")throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eu(e){var t=e._init;return t(e._payload)}function tu(e){function t(P,C){if(e){var _=P.deletions;_===null?(P.deletions=[C],P.flags|=16):_.push(C)}}function n(P,C){if(!e)return null;for(;C!==null;)t(P,C),C=C.sibling;return null}function r(P,C){for(P=new Map;C!==null;)C.key!==null?P.set(C.key,C):P.set(C.index,C),C=C.sibling;return P}function o(P,C){return P=cn(P,C),P.index=0,P.sibling=null,P}function a(P,C,_){return P.index=_,e?(_=P.alternate,_!==null?(_=_.index,_<C?(P.flags|=2,C):_):(P.flags|=2,C)):(P.flags|=1048576,C)}function f(P){return e&&P.alternate===null&&(P.flags|=2),P}function S(P,C,_,U){return C===null||C.tag!==6?(C=rs(_,P.mode,U),C.return=P,C):(C=o(C,_),C.return=P,C)}function x(P,C,_,U){var Z=_.type;return Z===te?z(P,C,_.props.children,U,_.key):C!==null&&(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Be&&eu(Z)===C.type)?(U=o(C,_.props),U.ref=Ar(P,C,_),U.return=P,U):(U=rl(_.type,_.key,_.props,null,P.mode,U),U.ref=Ar(P,C,_),U.return=P,U)}function R(P,C,_,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==_.containerInfo||C.stateNode.implementation!==_.implementation?(C=os(_,P.mode,U),C.return=P,C):(C=o(C,_.children||[]),C.return=P,C)}function z(P,C,_,U,Z){return C===null||C.tag!==7?(C=_n(_,P.mode,U,Z),C.return=P,C):(C=o(C,_),C.return=P,C)}function B(P,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return C=rs(""+C,P.mode,_),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case X:return _=rl(C.type,C.key,C.props,null,P.mode,_),_.ref=Ar(P,null,C),_.return=P,_;case q:return C=os(C,P.mode,_),C.return=P,C;case Be:var U=C._init;return B(P,U(C._payload),_)}if(sr(C)||ne(C))return C=_n(C,P.mode,_,null),C.return=P,C;Do(P,C)}return null}function I(P,C,_,U){var Z=C!==null?C.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return Z!==null?null:S(P,C,""+_,U);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case X:return _.key===Z?x(P,C,_,U):null;case q:return _.key===Z?R(P,C,_,U):null;case Be:return Z=_._init,I(P,C,Z(_._payload),U)}if(sr(_)||ne(_))return Z!==null?null:z(P,C,_,U,null);Do(P,_)}return null}function H(P,C,_,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return P=P.get(_)||null,S(C,P,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return P=P.get(U.key===null?_:U.key)||null,x(C,P,U,Z);case q:return P=P.get(U.key===null?_:U.key)||null,R(C,P,U,Z);case Be:var re=U._init;return H(P,C,_,re(U._payload),Z)}if(sr(U)||ne(U))return P=P.get(_)||null,z(C,P,U,Z,null);Do(C,U)}return null}function Q(P,C,_,U){for(var Z=null,re=null,oe=C,ie=C=0,Ve=null;oe!==null&&ie<_.length;ie++){oe.index>ie?(Ve=oe,oe=null):Ve=oe.sibling;var ve=I(P,oe,_[ie],U);if(ve===null){oe===null&&(oe=Ve);break}e&&oe&&ve.alternate===null&&t(P,oe),C=a(ve,C,ie),re===null?Z=ve:re.sibling=ve,re=ve,oe=Ve}if(ie===_.length)return n(P,oe),Ne&&Sn(P,ie),Z;if(oe===null){for(;ie<_.length;ie++)oe=B(P,_[ie],U),oe!==null&&(C=a(oe,C,ie),re===null?Z=oe:re.sibling=oe,re=oe);return Ne&&Sn(P,ie),Z}for(oe=r(P,oe);ie<_.length;ie++)Ve=H(oe,P,ie,_[ie],U),Ve!==null&&(e&&Ve.alternate!==null&&oe.delete(Ve.key===null?ie:Ve.key),C=a(Ve,C,ie),re===null?Z=Ve:re.sibling=Ve,re=Ve);return e&&oe.forEach(function(dn){return t(P,dn)}),Ne&&Sn(P,ie),Z}function K(P,C,_,U){var Z=ne(_);if(typeof Z!="function")throw Error(l(150));if(_=Z.call(_),_==null)throw Error(l(151));for(var re=Z=null,oe=C,ie=C=0,Ve=null,ve=_.next();oe!==null&&!ve.done;ie++,ve=_.next()){oe.index>ie?(Ve=oe,oe=null):Ve=oe.sibling;var dn=I(P,oe,ve.value,U);if(dn===null){oe===null&&(oe=Ve);break}e&&oe&&dn.alternate===null&&t(P,oe),C=a(dn,C,ie),re===null?Z=dn:re.sibling=dn,re=dn,oe=Ve}if(ve.done)return n(P,oe),Ne&&Sn(P,ie),Z;if(oe===null){for(;!ve.done;ie++,ve=_.next())ve=B(P,ve.value,U),ve!==null&&(C=a(ve,C,ie),re===null?Z=ve:re.sibling=ve,re=ve);return Ne&&Sn(P,ie),Z}for(oe=r(P,oe);!ve.done;ie++,ve=_.next())ve=H(oe,P,ie,ve.value,U),ve!==null&&(e&&ve.alternate!==null&&oe.delete(ve.key===null?ie:ve.key),C=a(ve,C,ie),re===null?Z=ve:re.sibling=ve,re=ve);return e&&oe.forEach(function(kp){return t(P,kp)}),Ne&&Sn(P,ie),Z}function Ie(P,C,_,U){if(typeof _=="object"&&_!==null&&_.type===te&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case X:e:{for(var Z=_.key,re=C;re!==null;){if(re.key===Z){if(Z=_.type,Z===te){if(re.tag===7){n(P,re.sibling),C=o(re,_.props.children),C.return=P,P=C;break e}}else if(re.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Be&&eu(Z)===re.type){n(P,re.sibling),C=o(re,_.props),C.ref=Ar(P,re,_),C.return=P,P=C;break e}n(P,re);break}else t(P,re);re=re.sibling}_.type===te?(C=_n(_.props.children,P.mode,U,_.key),C.return=P,P=C):(U=rl(_.type,_.key,_.props,null,P.mode,U),U.ref=Ar(P,C,_),U.return=P,P=U)}return f(P);case q:e:{for(re=_.key;C!==null;){if(C.key===re)if(C.tag===4&&C.stateNode.containerInfo===_.containerInfo&&C.stateNode.implementation===_.implementation){n(P,C.sibling),C=o(C,_.children||[]),C.return=P,P=C;break e}else{n(P,C);break}else t(P,C);C=C.sibling}C=os(_,P.mode,U),C.return=P,P=C}return f(P);case Be:return re=_._init,Ie(P,C,re(_._payload),U)}if(sr(_))return Q(P,C,_,U);if(ne(_))return K(P,C,_,U);Do(P,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,C!==null&&C.tag===6?(n(P,C.sibling),C=o(C,_),C.return=P,P=C):(n(P,C),C=rs(_,P.mode,U),C.return=P,P=C),f(P)):n(P,C)}return Ie}var Xn=tu(!0),nu=tu(!1),Lo=Zt(null),jo=null,Jn=null,pi=null;function hi(){pi=Jn=jo=null}function mi(e){var t=Lo.current;Te(Lo),e._currentValue=t}function gi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){jo=e,pi=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(pi!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(jo===null)throw Error(l(308));Jn=e,jo.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var En=null;function vi(e){En===null?En=[e]:En.push(e)}function ru(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,vi(t)):(n.next=o.next,o.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,bt(e,n)}return o=r.interleaved,o===null?(t.next=t,vi(r)):(t.next=o.next,o.next=t),r.interleaved=t,bt(e,n)}function Io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}function lu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=f:a=a.next=f,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var o=e.updateQueue;nn=!1;var a=o.firstBaseUpdate,f=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var x=S,R=x.next;x.next=null,f===null?a=R:f.next=R,f=x;var z=e.alternate;z!==null&&(z=z.updateQueue,S=z.lastBaseUpdate,S!==f&&(S===null?z.firstBaseUpdate=R:S.next=R,z.lastBaseUpdate=x))}if(a!==null){var B=o.baseState;f=0,z=R=x=null,S=a;do{var I=S.lane,H=S.eventTime;if((r&I)===I){z!==null&&(z=z.next={eventTime:H,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=e,K=S;switch(I=t,H=n,K.tag){case 1:if(Q=K.payload,typeof Q=="function"){B=Q.call(H,B,I);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=K.payload,I=typeof Q=="function"?Q.call(H,B,I):Q,I==null)break e;B=V({},B,I);break e;case 2:nn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,I=o.effects,I===null?o.effects=[S]:I.push(S))}else H={eventTime:H,lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},z===null?(R=z=H,x=B):z=z.next=H,f|=I;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;I=S,S=I.next,I.next=null,o.lastBaseUpdate=I,o.shared.pending=null}}while(!0);if(z===null&&(x=B),o.baseState=x,o.firstBaseUpdate=R,o.lastBaseUpdate=z,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);kn|=f,e.lanes=f,e.memoizedState=B}}function iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(l(191,o));o.call(r)}}}var Dr={},Dt=Zt(Dr),Lr=Zt(Dr),jr=Zt(Dr);function xn(e){if(e===Dr)throw Error(l(174));return e}function wi(e,t){switch(Ce(jr,t),Ce(Lr,e),Ce(Dt,Dr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sl(t,e)}Te(Dt),Ce(Dt,t)}function er(){Te(Dt),Te(Lr),Te(jr)}function su(e){xn(jr.current);var t=xn(Dt.current),n=Sl(t,e.type);t!==n&&(Ce(Lr,e),Ce(Dt,n))}function Si(e){Lr.current===e&&(Te(Dt),Te(Lr))}var Pe=Zt(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ei=[];function xi(){for(var e=0;e<Ei.length;e++)Ei[e]._workInProgressVersionPrimary=null;Ei.length=0}var Bo=j.ReactCurrentDispatcher,Ci=j.ReactCurrentBatchConfig,Cn=0,_e=null,Ue=null,$e=null,Uo=!1,Ir=!1,Fr=0,Qf=0;function Ke(){throw Error(l(321))}function ki(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,o,a){if(Cn=a,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bo.current=e===null||e.memoizedState===null?Xf:Jf,e=n(r,o),Ir){a=0;do{if(Ir=!1,Fr=0,25<=a)throw Error(l(301));a+=1,$e=Ue=null,t.updateQueue=null,Bo.current=Zf,e=n(r,o)}while(Ir)}if(Bo.current=Go,t=Ue!==null&&Ue.next!==null,Cn=0,$e=Ue=_e=null,Uo=!1,t)throw Error(l(300));return e}function Ni(){var e=Fr!==0;return Fr=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?_e.memoizedState=$e=e:$e=$e.next=e,$e}function gt(){if(Ue===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=$e===null?_e.memoizedState:$e.next;if(t!==null)$e=t,Ue=e;else{if(e===null)throw Error(l(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?_e.memoizedState=$e=e:$e=$e.next=e}return $e}function zr(e,t){return typeof t=="function"?t(e):t}function Pi(e){var t=gt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=Ue,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var f=o.next;o.next=a.next,a.next=f}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var S=f=null,x=null,R=a;do{var z=R.lane;if((Cn&z)===z)x!==null&&(x=x.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),r=R.hasEagerState?R.eagerState:e(r,R.action);else{var B={lane:z,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};x===null?(S=x=B,f=r):x=x.next=B,_e.lanes|=z,kn|=z}R=R.next}while(R!==null&&R!==a);x===null?f=r:x.next=S,Tt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=f,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,_e.lanes|=a,kn|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _i(e){var t=gt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do a=e(a,f.action),f=f.next;while(f!==o);Tt(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function au(){}function uu(e,t){var n=_e,r=gt(),o=t(),a=!Tt(r.memoizedState,o);if(a&&(r.memoizedState=o,ot=!0),r=r.queue,Ri(fu.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Br(9,du.bind(null,n,r,o,t),void 0,null),Ge===null)throw Error(l(349));Cn&30||cu(n,t,o)}return o}function cu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function du(e,t,n,r){t.value=n,t.getSnapshot=r,pu(t)&&hu(e)}function fu(e,t,n){return n(function(){pu(t)&&hu(e)})}function pu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function hu(e){var t=bt(e,1);t!==null&&Mt(t,e,1,-1)}function mu(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Kf.bind(null,_e,e),[t.memoizedState,e]}function Br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gu(){return gt().memoizedState}function bo(e,t,n,r){var o=Lt();_e.flags|=e,o.memoizedState=Br(1|t,n,void 0,r===void 0?null:r)}function $o(e,t,n,r){var o=gt();r=r===void 0?null:r;var a=void 0;if(Ue!==null){var f=Ue.memoizedState;if(a=f.destroy,r!==null&&ki(r,f.deps)){o.memoizedState=Br(t,n,a,r);return}}_e.flags|=e,o.memoizedState=Br(1|t,n,a,r)}function vu(e,t){return bo(8390656,8,e,t)}function Ri(e,t){return $o(2048,8,e,t)}function yu(e,t){return $o(4,2,e,t)}function wu(e,t){return $o(4,4,e,t)}function Su(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eu(e,t,n){return n=n!=null?n.concat([e]):null,$o(4,4,Su.bind(null,t,e),n)}function Mi(){}function xu(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ki(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cu(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ki(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ku(e,t,n){return Cn&21?(Tt(n,t)||(n=ea(),_e.lanes|=n,kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function qf(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Ci.transition;Ci.transition={};try{e(!1),t()}finally{Se=n,Ci.transition=r}}function Tu(){return gt().memoizedState}function Yf(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nu(e))Pu(t,n);else if(n=ru(e,t,n,r),n!==null){var o=et();Mt(n,e,r,o),_u(n,t,r)}}function Kf(e,t,n){var r=an(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))Pu(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var f=t.lastRenderedState,S=a(f,n);if(o.hasEagerState=!0,o.eagerState=S,Tt(S,f)){var x=t.interleaved;x===null?(o.next=o,vi(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=ru(e,t,o,r),n!==null&&(o=et(),Mt(n,e,r,o),_u(n,t,r))}}function Nu(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Pu(e,t){Ir=Uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _u(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}var Go={readContext:mt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Xf={readContext:mt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:vu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bo(4194308,4,Su.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yf.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:mu,useDebugValue:Mi,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=mu(!1),t=e[0];return e=qf.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,o=Lt();if(Ne){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Ge===null)throw Error(l(349));Cn&30||cu(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,vu(fu.bind(null,r,a,e),[e]),r.flags|=2048,Br(9,du.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Ge.identifierPrefix;if(Ne){var n=Ut,r=Bt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jf={readContext:mt,useCallback:xu,useContext:mt,useEffect:Ri,useImperativeHandle:Eu,useInsertionEffect:yu,useLayoutEffect:wu,useMemo:Cu,useReducer:Pi,useRef:gu,useState:function(){return Pi(zr)},useDebugValue:Mi,useDeferredValue:function(e){var t=gt();return ku(t,Ue.memoizedState,e)},useTransition:function(){var e=Pi(zr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:uu,useId:Tu,unstable_isNewReconciler:!1},Zf={readContext:mt,useCallback:xu,useContext:mt,useEffect:Ri,useImperativeHandle:Eu,useInsertionEffect:yu,useLayoutEffect:wu,useMemo:Cu,useReducer:_i,useRef:gu,useState:function(){return _i(zr)},useDebugValue:Mi,useDeferredValue:function(e){var t=gt();return Ue===null?t.memoizedState=e:ku(t,Ue.memoizedState,e)},useTransition:function(){var e=_i(zr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:uu,useId:Tu,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:V({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),o=an(e),a=$t(r,o);a.payload=t,n!=null&&(a.callback=n),t=rn(e,a,o),t!==null&&(Mt(t,e,o,r),Io(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),o=an(e),a=$t(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=rn(e,a,o),t!==null&&(Mt(t,e,o,r),Io(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=an(e),o=$t(n,r);o.tag=2,t!=null&&(o.callback=t),t=rn(e,o,r),t!==null&&(Mt(t,e,r,n),Io(t,e,r))}};function Ru(e,t,n,r,o,a,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,f):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,r)||!Tr(o,a):!0}function Mu(e,t,n){var r=!1,o=en,a=t.contextType;return typeof a=="object"&&a!==null?a=mt(a):(o=rt(t)?yn:Ye.current,r=t.contextTypes,a=(r=r!=null)?Qn(e,o):en),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ou(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ai(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},yi(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=mt(a):(a=rt(t)?yn:Ye.current,o.context=Qn(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Oi(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vo.enqueueReplaceState(o,o.state,null),Fo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",r=t;do n+=ee(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Di(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Li(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ep=typeof WeakMap=="function"?WeakMap:Map;function Au(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xo||(Xo=!0,Yi=r),Li(e,t)},n}function Du(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Li(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Li(e,t),typeof r!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function Lu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ep;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=hp.bind(null,e,t,n),t.then(e,e))}function ju(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var tp=j.ReactCurrentOwner,ot=!1;function Ze(e,t,n,r){t.child=e===null?nu(t,null,n,r):Xn(t,e.child,n,r)}function Fu(e,t,n,r,o){n=n.render;var a=t.ref;return Zn(t,o),r=Ti(e,t,n,r,a,o),n=Ni(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(Ne&&n&&ai(t),t.flags|=1,Ze(e,t,r,o),t.child)}function zu(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!ns(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Bu(e,t,a,r,o)):(e=rl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var f=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(f,r)&&e.ref===t.ref)return Gt(e,t,o)}return t.flags|=1,e=cn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Bu(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Tr(a,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,Gt(e,t,o)}return ji(e,t,n,r,o)}function Uu(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(rr,ft),ft|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(rr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ce(rr,ft),ft|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ce(rr,ft),ft|=r;return Ze(e,t,o,n),t.child}function bu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ji(e,t,n,r,o){var a=rt(n)?yn:Ye.current;return a=Qn(t,a),Zn(t,o),n=Ti(e,t,n,r,a,o),r=Ni(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(Ne&&r&&ai(t),t.flags|=1,Ze(e,t,n,o),t.child)}function $u(e,t,n,r,o){if(rt(n)){var a=!0;_o(t)}else a=!1;if(Zn(t,o),t.stateNode===null)Wo(e,t),Mu(t,n,r),Ai(t,n,r,o),r=!0;else if(e===null){var f=t.stateNode,S=t.memoizedProps;f.props=S;var x=f.context,R=n.contextType;typeof R=="object"&&R!==null?R=mt(R):(R=rt(n)?yn:Ye.current,R=Qn(t,R));var z=n.getDerivedStateFromProps,B=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function";B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S!==r||x!==R)&&Ou(t,f,r,R),nn=!1;var I=t.memoizedState;f.state=I,Fo(t,r,f,o),x=t.memoizedState,S!==r||I!==x||nt.current||nn?(typeof z=="function"&&(Oi(t,n,z,r),x=t.memoizedState),(S=nn||Ru(t,n,S,r,I,x,R))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),f.props=r,f.state=x,f.context=R,r=S):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,ou(e,t),S=t.memoizedProps,R=t.type===t.elementType?S:Pt(t.type,S),f.props=R,B=t.pendingProps,I=f.context,x=n.contextType,typeof x=="object"&&x!==null?x=mt(x):(x=rt(n)?yn:Ye.current,x=Qn(t,x));var H=n.getDerivedStateFromProps;(z=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S!==B||I!==x)&&Ou(t,f,r,x),nn=!1,I=t.memoizedState,f.state=I,Fo(t,r,f,o);var Q=t.memoizedState;S!==B||I!==Q||nt.current||nn?(typeof H=="function"&&(Oi(t,n,H,r),Q=t.memoizedState),(R=nn||Ru(t,n,R,r,I,Q,x)||!1)?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,Q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,Q,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Q),f.props=r,f.state=Q,f.context=x,r=R):(typeof f.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return Ii(e,t,n,r,a,o)}function Ii(e,t,n,r,o,a){bu(e,t);var f=(t.flags&128)!==0;if(!r&&!f)return o&&Qa(t,n,!1),Gt(e,t,a);r=t.stateNode,tp.current=t;var S=f&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&f?(t.child=Xn(t,e.child,null,a),t.child=Xn(t,null,S,a)):Ze(e,t,S,a),t.memoizedState=r.state,o&&Qa(t,n,!0),t.child}function Gu(e){var t=e.stateNode;t.pendingContext?Ha(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(e,t.context,!1),wi(e,t.containerInfo)}function Vu(e,t,n,r,o){return Kn(),fi(o),t.flags|=256,Ze(e,t,n,r),t.child}var Fi={dehydrated:null,treeContext:null,retryLane:0};function zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hu(e,t,n){var r=t.pendingProps,o=Pe.current,a=!1,f=(t.flags&128)!==0,S;if((S=f)||(S=e!==null&&e.memoizedState===null?!1:(o&2)!==0),S?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ce(Pe,o&1),e===null)return di(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=r.children,e=r.fallback,a?(r=t.mode,a=t.child,f={mode:"hidden",children:f},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=f):a=ol(f,r,0,null),e=_n(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=zi(n),t.memoizedState=Fi,e):Bi(t,f));if(o=e.memoizedState,o!==null&&(S=o.dehydrated,S!==null))return np(e,t,f,r,S,o,n);if(a){a=r.fallback,f=t.mode,o=e.child,S=o.sibling;var x={mode:"hidden",children:r.children};return!(f&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=cn(o,x),r.subtreeFlags=o.subtreeFlags&14680064),S!==null?a=cn(S,a):(a=_n(a,f,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,f=e.child.memoizedState,f=f===null?zi(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},a.memoizedState=f,a.childLanes=e.childLanes&~n,t.memoizedState=Fi,r}return a=e.child,e=a.sibling,r=cn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bi(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ho(e,t,n,r){return r!==null&&fi(r),Xn(t,e.child,null,n),e=Bi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function np(e,t,n,r,o,a,f){if(n)return t.flags&256?(t.flags&=-257,r=Di(Error(l(422))),Ho(e,t,f,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=ol({mode:"visible",children:r.children},o,0,null),a=_n(a,o,f,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Xn(t,e.child,null,f),t.child.memoizedState=zi(f),t.memoizedState=Fi,a);if(!(t.mode&1))return Ho(e,t,f,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var S=r.dgst;return r=S,a=Error(l(419)),r=Di(a,r,void 0),Ho(e,t,f,r)}if(S=(f&e.childLanes)!==0,ot||S){if(r=Ge,r!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|f)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,bt(e,o),Mt(r,e,o,-1))}return ts(),r=Di(Error(l(421))),Ho(e,t,f,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=mp.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,dt=Jt(o.nextSibling),ct=t,Ne=!0,Nt=null,e!==null&&(pt[ht++]=Bt,pt[ht++]=Ut,pt[ht++]=wn,Bt=e.id,Ut=e.overflow,wn=t),t=Bi(t,r.children),t.flags|=4096,t)}function Wu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gi(e.return,t,n)}function Ui(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Qu(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ze(e,t,r.children,n),r=Pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,n,t);else if(e.tag===19)Wu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Pe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ui(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&zo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ui(t,!0,n,null,a);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rp(e,t,n){switch(t.tag){case 3:Gu(t),Kn();break;case 5:su(t);break;case 1:rt(t.type)&&_o(t);break;case 4:wi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ce(Lo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?Hu(e,t,n):(Ce(Pe,Pe.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);Ce(Pe,Pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qu(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ce(Pe,Pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Uu(e,t,n)}return Gt(e,t,n)}var qu,bi,Yu,Ku;qu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},Yu=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,xn(Dt.current);var a=null;switch(n){case"input":o=gl(e,o),r=gl(e,r),a=[];break;case"select":o=V({},o,{value:void 0}),r=V({},r,{value:void 0}),a=[];break;case"textarea":o=wl(e,o),r=wl(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=To)}El(n,r);var f;n=null;for(R in o)if(!r.hasOwnProperty(R)&&o.hasOwnProperty(R)&&o[R]!=null)if(R==="style"){var S=o[R];for(f in S)S.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(u.hasOwnProperty(R)?a||(a=[]):(a=a||[]).push(R,null));for(R in r){var x=r[R];if(S=o!=null?o[R]:void 0,r.hasOwnProperty(R)&&x!==S&&(x!=null||S!=null))if(R==="style")if(S){for(f in S)!S.hasOwnProperty(f)||x&&x.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in x)x.hasOwnProperty(f)&&S[f]!==x[f]&&(n||(n={}),n[f]=x[f])}else n||(a||(a=[]),a.push(R,n)),n=x;else R==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(a=a||[]).push(R,x)):R==="children"?typeof x!="string"&&typeof x!="number"||(a=a||[]).push(R,""+x):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(u.hasOwnProperty(R)?(x!=null&&R==="onScroll"&&ke("scroll",e),a||S===x||(a=[])):(a=a||[]).push(R,x))}n&&(a=a||[]).push("style",n);var R=a;(t.updateQueue=R)&&(t.flags|=4)}},Ku=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ur(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function op(e,t,n){var r=t.pendingProps;switch(ui(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return rt(t.type)&&Po(),Xe(t),null;case 3:return r=t.stateNode,er(),Te(nt),Te(Ye),xi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Ji(Nt),Nt=null))),bi(e,t),Xe(t),null;case 5:Si(t);var o=xn(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)Yu(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Xe(t),null}if(e=xn(Dt.current),Ao(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[At]=t,r[Mr]=a,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Pr.length;o++)ke(Pr[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Ms(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":Ds(r,a),ke("invalid",r)}El(n,a),o=null;for(var f in a)if(a.hasOwnProperty(f)){var S=a[f];f==="children"?typeof S=="string"?r.textContent!==S&&(a.suppressHydrationWarning!==!0&&ko(r.textContent,S,e),o=["children",S]):typeof S=="number"&&r.textContent!==""+S&&(a.suppressHydrationWarning!==!0&&ko(r.textContent,S,e),o=["children",""+S]):u.hasOwnProperty(f)&&S!=null&&f==="onScroll"&&ke("scroll",r)}switch(n){case"input":mn(r),As(r,a,!0);break;case"textarea":mn(r),js(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=To)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Is(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=f.createElement(n,{is:r.is}):(e=f.createElement(n),n==="select"&&(f=e,r.multiple?f.multiple=!0:r.size&&(f.size=r.size))):e=f.createElementNS(e,n),e[At]=t,e[Mr]=r,qu(e,t,!1,!1),t.stateNode=e;e:{switch(f=xl(n,r),n){case"dialog":ke("cancel",e),ke("close",e),o=r;break;case"iframe":case"object":case"embed":ke("load",e),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)ke(Pr[o],e);o=r;break;case"source":ke("error",e),o=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),o=r;break;case"details":ke("toggle",e),o=r;break;case"input":Ms(e,r),o=gl(e,r),ke("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=V({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Ds(e,r),o=wl(e,r),ke("invalid",e);break;default:o=r}El(n,o),S=o;for(a in S)if(S.hasOwnProperty(a)){var x=S[a];a==="style"?Bs(e,x):a==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Fs(e,x)):a==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&ar(e,x):typeof x=="number"&&ar(e,""+x):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(u.hasOwnProperty(a)?x!=null&&a==="onScroll"&&ke("scroll",e):x!=null&&A(e,a,x,f))}switch(n){case"input":mn(e),As(e,r,!1);break;case"textarea":mn(e),js(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ae(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?jn(e,!!r.multiple,a,!1):r.defaultValue!=null&&jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=To)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Ku(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(n=xn(jr.current),xn(Dt.current),Ao(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(a=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:ko(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ko(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Xe(t),null;case 13:if(Te(Pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&dt!==null&&t.mode&1&&!(t.flags&128))Za(),Kn(),t.flags|=98560,a=!1;else if(a=Ao(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(l(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(317));a[At]=t}else Kn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),a=!1}else Nt!==null&&(Ji(Nt),Nt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?be===0&&(be=3):ts())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return er(),bi(e,t),e===null&&_r(t.stateNode.containerInfo),Xe(t),null;case 10:return mi(t.type._context),Xe(t),null;case 17:return rt(t.type)&&Po(),Xe(t),null;case 19:if(Te(Pe),a=t.memoizedState,a===null)return Xe(t),null;if(r=(t.flags&128)!==0,f=a.rendering,f===null)if(r)Ur(a,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=zo(e),f!==null){for(t.flags|=128,Ur(a,!1),r=f.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,f=a.alternate,f===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,e=f.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Pe,Pe.current&1|2),t.child}e=e.sibling}a.tail!==null&&je()>or&&(t.flags|=128,r=!0,Ur(a,!1),t.lanes=4194304)}else{if(!r)if(e=zo(f),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ur(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!Ne)return Xe(t),null}else 2*je()-a.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,Ur(a,!1),t.lanes=4194304);a.isBackwards?(f.sibling=t.child,t.child=f):(n=a.last,n!==null?n.sibling=f:t.child=f,a.last=f)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=je(),t.sibling=null,n=Pe.current,Ce(Pe,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return es(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function lp(e,t){switch(ui(t),t.tag){case 1:return rt(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),Te(nt),Te(Ye),xi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Si(t),null;case 13:if(Te(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Pe),null;case 4:return er(),null;case 10:return mi(t.type._context),null;case 22:case 23:return es(),null;case 24:return null;default:return null}}var Qo=!1,Je=!1,ip=typeof WeakSet=="function"?WeakSet:Set,W=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function $i(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Xu=!1;function sp(e,t){if(ei=po,e=Ra(),Wl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var f=0,S=-1,x=-1,R=0,z=0,B=e,I=null;t:for(;;){for(var H;B!==n||o!==0&&B.nodeType!==3||(S=f+o),B!==a||r!==0&&B.nodeType!==3||(x=f+r),B.nodeType===3&&(f+=B.nodeValue.length),(H=B.firstChild)!==null;)I=B,B=H;for(;;){if(B===e)break t;if(I===n&&++R===o&&(S=f),I===a&&++z===r&&(x=f),(H=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=H}n=S===-1||x===-1?null:{start:S,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},po=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var Q=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var K=Q.memoizedProps,Ie=Q.memoizedState,P=t.stateNode,C=P.getSnapshotBeforeUpdate(t.elementType===t.type?K:Pt(t.type,K),Ie);P.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(U){Re(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return Q=Xu,Xu=!1,Q}function br(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&$i(t,n,a)}o=o.next}while(o!==r)}}function qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ju(e){var t=e.alternate;t!==null&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Mr],delete t[li],delete t[Gf],delete t[Vf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return e.tag===5||e.tag===3||e.tag===4}function ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=To));else if(r!==4&&(e=e.child,e!==null))for(Vi(e,t,n),e=e.sibling;e!==null;)Vi(e,t,n),e=e.sibling}function Hi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hi(e,t,n),e=e.sibling;e!==null;)Hi(e,t,n),e=e.sibling}var Qe=null,_t=!1;function on(e,t,n){for(n=n.child;n!==null;)tc(e,t,n),n=n.sibling}function tc(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(io,n)}catch{}switch(n.tag){case 5:Je||nr(n,t);case 6:var r=Qe,o=_t;Qe=null,on(e,t,n),Qe=r,_t=o,Qe!==null&&(_t?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(_t?(e=Qe,n=n.stateNode,e.nodeType===8?oi(e.parentNode,n):e.nodeType===1&&oi(e,n),wr(e)):oi(Qe,n.stateNode));break;case 4:r=Qe,o=_t,Qe=n.stateNode.containerInfo,_t=!0,on(e,t,n),Qe=r,_t=o;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,f=a.destroy;a=a.tag,f!==void 0&&(a&2||a&4)&&$i(n,t,f),o=o.next}while(o!==r)}on(e,t,n);break;case 1:if(!Je&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(S){Re(n,t,S)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,on(e,t,n),Je=r):on(e,t,n);break;default:on(e,t,n)}}function nc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ip),t.forEach(function(r){var o=gp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,f=t,S=f;e:for(;S!==null;){switch(S.tag){case 5:Qe=S.stateNode,_t=!1;break e;case 3:Qe=S.stateNode.containerInfo,_t=!0;break e;case 4:Qe=S.stateNode.containerInfo,_t=!0;break e}S=S.return}if(Qe===null)throw Error(l(160));tc(a,f,o),Qe=null,_t=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(R){Re(o,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rc(t,e),t=t.sibling}function rc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),jt(e),r&4){try{br(3,e,e.return),qo(3,e)}catch(K){Re(e,e.return,K)}try{br(5,e,e.return)}catch(K){Re(e,e.return,K)}}break;case 1:Rt(t,e),jt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(Rt(t,e),jt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var o=e.stateNode;try{ar(o,"")}catch(K){Re(e,e.return,K)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,f=n!==null?n.memoizedProps:a,S=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{S==="input"&&a.type==="radio"&&a.name!=null&&Os(o,a),xl(S,f);var R=xl(S,a);for(f=0;f<x.length;f+=2){var z=x[f],B=x[f+1];z==="style"?Bs(o,B):z==="dangerouslySetInnerHTML"?Fs(o,B):z==="children"?ar(o,B):A(o,z,B,R)}switch(S){case"input":vl(o,a);break;case"textarea":Ls(o,a);break;case"select":var I=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var H=a.value;H!=null?jn(o,!!a.multiple,H,!1):I!==!!a.multiple&&(a.defaultValue!=null?jn(o,!!a.multiple,a.defaultValue,!0):jn(o,!!a.multiple,a.multiple?[]:"",!1))}o[Mr]=a}catch(K){Re(e,e.return,K)}}break;case 6:if(Rt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(l(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(K){Re(e,e.return,K)}}break;case 3:if(Rt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(t.containerInfo)}catch(K){Re(e,e.return,K)}break;case 4:Rt(t,e),jt(e);break;case 13:Rt(t,e),jt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(qi=je())),r&4&&nc(e);break;case 22:if(z=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(R=Je)||z,Rt(t,e),Je=R):Rt(t,e),jt(e),r&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!z&&e.mode&1)for(W=e,z=e.child;z!==null;){for(B=W=z;W!==null;){switch(I=W,H=I.child,I.tag){case 0:case 11:case 14:case 15:br(4,I,I.return);break;case 1:nr(I,I.return);var Q=I.stateNode;if(typeof Q.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(K){Re(r,n,K)}}break;case 5:nr(I,I.return);break;case 22:if(I.memoizedState!==null){ic(B);continue}}H!==null?(H.return=I,W=H):ic(B)}z=z.sibling}e:for(z=null,B=e;;){if(B.tag===5){if(z===null){z=B;try{o=B.stateNode,R?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(S=B.stateNode,x=B.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=zs("display",f))}catch(K){Re(e,e.return,K)}}}else if(B.tag===6){if(z===null)try{B.stateNode.nodeValue=R?"":B.memoizedProps}catch(K){Re(e,e.return,K)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;z===B&&(z=null),B=B.return}z===B&&(z=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Rt(t,e),jt(e),r&4&&nc(e);break;case 21:break;default:Rt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zu(n)){var r=n;break e}n=n.return}throw Error(l(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ar(o,""),r.flags&=-33);var a=ec(e);Hi(e,a,o);break;case 3:case 4:var f=r.stateNode.containerInfo,S=ec(e);Vi(e,S,f);break;default:throw Error(l(161))}}catch(x){Re(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ap(e,t,n){W=e,oc(e)}function oc(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,a=o.child;if(o.tag===22&&r){var f=o.memoizedState!==null||Qo;if(!f){var S=o.alternate,x=S!==null&&S.memoizedState!==null||Je;S=Qo;var R=Je;if(Qo=f,(Je=x)&&!R)for(W=o;W!==null;)f=W,x=f.child,f.tag===22&&f.memoizedState!==null?sc(o):x!==null?(x.return=f,W=x):sc(o);for(;a!==null;)W=a,oc(a),a=a.sibling;W=o,Qo=S,Je=R}lc(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,W=a):lc(e)}}function lc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||qo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&iu(t,a,r);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iu(t,f,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var z=R.memoizedState;if(z!==null){var B=z.dehydrated;B!==null&&wr(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Je||t.flags&512&&Gi(t)}catch(I){Re(t,t.return,I)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function ic(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function sc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qo(4,t)}catch(x){Re(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(x){Re(t,o,x)}}var a=t.return;try{Gi(t)}catch(x){Re(t,a,x)}break;case 5:var f=t.return;try{Gi(t)}catch(x){Re(t,f,x)}}}catch(x){Re(t,t.return,x)}if(t===e){W=null;break}var S=t.sibling;if(S!==null){S.return=t.return,W=S;break}W=t.return}}var up=Math.ceil,Yo=j.ReactCurrentDispatcher,Wi=j.ReactCurrentOwner,vt=j.ReactCurrentBatchConfig,me=0,Ge=null,ze=null,qe=0,ft=0,rr=Zt(0),be=0,$r=null,kn=0,Ko=0,Qi=0,Gr=null,lt=null,qi=0,or=1/0,Vt=null,Xo=!1,Yi=null,ln=null,Jo=!1,sn=null,Zo=0,Vr=0,Ki=null,el=-1,tl=0;function et(){return me&6?je():el!==-1?el:el=je()}function an(e){return e.mode&1?me&2&&qe!==0?qe&-qe:Wf.transition!==null?(tl===0&&(tl=ea()),tl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:ua(e.type)),e):1}function Mt(e,t,n,r){if(50<Vr)throw Vr=0,Ki=null,Error(l(185));hr(e,n,r),(!(me&2)||e!==Ge)&&(e===Ge&&(!(me&2)&&(Ko|=n),be===4&&un(e,qe)),it(e,r),n===1&&me===0&&!(t.mode&1)&&(or=je()+500,Ro&&tn()))}function it(e,t){var n=e.callbackNode;Hd(e,t);var r=uo(e,e===Ge?qe:0);if(r===0)n!==null&&Xs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xs(n),t===1)e.tag===0?Hf(uc.bind(null,e)):qa(uc.bind(null,e)),bf(function(){!(me&6)&&tn()}),n=null;else{switch(ta(r)){case 1:n=Rl;break;case 4:n=Js;break;case 16:n=lo;break;case 536870912:n=Zs;break;default:n=lo}n=vc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(el=-1,tl=0,me&6)throw Error(l(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var r=uo(e,e===Ge?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nl(e,r);else{t=r;var o=me;me|=2;var a=dc();(Ge!==e||qe!==t)&&(Vt=null,or=je()+500,Nn(e,t));do try{fp();break}catch(S){cc(e,S)}while(!0);hi(),Yo.current=a,me=o,ze!==null?t=0:(Ge=null,qe=0,t=be)}if(t!==0){if(t===2&&(o=Ml(e),o!==0&&(r=o,t=Xi(e,o))),t===1)throw n=$r,Nn(e,0),un(e,r),it(e,je()),n;if(t===6)un(e,r);else{if(o=e.current.alternate,!(r&30)&&!cp(o)&&(t=nl(e,r),t===2&&(a=Ml(e),a!==0&&(r=a,t=Xi(e,a))),t===1))throw n=$r,Nn(e,0),un(e,r),it(e,je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(l(345));case 2:Pn(e,lt,Vt);break;case 3:if(un(e,r),(r&130023424)===r&&(t=qi+500-je(),10<t)){if(uo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ri(Pn.bind(null,e,lt,Vt),t);break}Pn(e,lt,Vt);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var f=31-kt(r);a=1<<f,f=t[f],f>o&&(o=f),r&=~a}if(r=o,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*up(r/1960))-r,10<r){e.timeoutHandle=ri(Pn.bind(null,e,lt,Vt),r);break}Pn(e,lt,Vt);break;case 5:Pn(e,lt,Vt);break;default:throw Error(l(329))}}}return it(e,je()),e.callbackNode===n?ac.bind(null,e):null}function Xi(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=nl(e,t),e!==2&&(t=lt,lt=n,t!==null&&Ji(t)),e}function Ji(e){lt===null?lt=e:lt.push.apply(lt,e)}function cp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Tt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~Qi,t&=~Ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(me&6)throw Error(l(327));lr();var t=uo(e,0);if(!(t&1))return it(e,je()),null;var n=nl(e,t);if(e.tag!==0&&n===2){var r=Ml(e);r!==0&&(t=r,n=Xi(e,r))}if(n===1)throw n=$r,Nn(e,0),un(e,t),it(e,je()),n;if(n===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,lt,Vt),it(e,je()),null}function Zi(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(or=je()+500,Ro&&tn())}}function Tn(e){sn!==null&&sn.tag===0&&!(me&6)&&lr();var t=me;me|=1;var n=vt.transition,r=Se;try{if(vt.transition=null,Se=1,e)return e()}finally{Se=r,vt.transition=n,me=t,!(me&6)&&tn()}}function es(){ft=rr.current,Te(rr)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Uf(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(ui(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:er(),Te(nt),Te(Ye),xi();break;case 5:Si(r);break;case 4:er();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:mi(r.type._context);break;case 22:case 23:es()}n=n.return}if(Ge=e,ze=e=cn(e.current,null),qe=ft=t,be=0,$r=null,Qi=Ko=kn=0,lt=Gr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var f=a.next;a.next=o,r.next=f}n.pending=r}En=null}return e}function cc(e,t){do{var n=ze;try{if(hi(),Bo.current=Go,Uo){for(var r=_e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Uo=!1}if(Cn=0,$e=Ue=_e=null,Ir=!1,Fr=0,Wi.current=null,n===null||n.return===null){be=1,$r=t,ze=null;break}e:{var a=e,f=n.return,S=n,x=t;if(t=qe,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var R=x,z=S,B=z.tag;if(!(z.mode&1)&&(B===0||B===11||B===15)){var I=z.alternate;I?(z.updateQueue=I.updateQueue,z.memoizedState=I.memoizedState,z.lanes=I.lanes):(z.updateQueue=null,z.memoizedState=null)}var H=ju(f);if(H!==null){H.flags&=-257,Iu(H,f,S,a,t),H.mode&1&&Lu(a,R,t),t=H,x=R;var Q=t.updateQueue;if(Q===null){var K=new Set;K.add(x),t.updateQueue=K}else Q.add(x);break e}else{if(!(t&1)){Lu(a,R,t),ts();break e}x=Error(l(426))}}else if(Ne&&S.mode&1){var Ie=ju(f);if(Ie!==null){!(Ie.flags&65536)&&(Ie.flags|=256),Iu(Ie,f,S,a,t),fi(tr(x,S));break e}}a=x=tr(x,S),be!==4&&(be=2),Gr===null?Gr=[a]:Gr.push(a),a=f;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var P=Au(a,x,t);lu(a,P);break e;case 1:S=x;var C=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ln===null||!ln.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var U=Du(a,S,t);lu(a,U);break e}}a=a.return}while(a!==null)}pc(n)}catch(Z){t=Z,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function dc(){var e=Yo.current;return Yo.current=Go,e===null?Go:e}function ts(){(be===0||be===3||be===2)&&(be=4),Ge===null||!(kn&268435455)&&!(Ko&268435455)||un(Ge,qe)}function nl(e,t){var n=me;me|=2;var r=dc();(Ge!==e||qe!==t)&&(Vt=null,Nn(e,t));do try{dp();break}catch(o){cc(e,o)}while(!0);if(hi(),me=n,Yo.current=r,ze!==null)throw Error(l(261));return Ge=null,qe=0,be}function dp(){for(;ze!==null;)fc(ze)}function fp(){for(;ze!==null&&!Id();)fc(ze)}function fc(e){var t=gc(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?pc(e):ze=t,Wi.current=null}function pc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lp(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ze=null;return}}else if(n=op(n,t,ft),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);be===0&&(be=5)}function Pn(e,t,n){var r=Se,o=vt.transition;try{vt.transition=null,Se=1,pp(e,t,n,r)}finally{vt.transition=o,Se=r}return null}function pp(e,t,n,r){do lr();while(sn!==null);if(me&6)throw Error(l(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Wd(e,a),e===Ge&&(ze=Ge=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,vc(lo,function(){return lr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=vt.transition,vt.transition=null;var f=Se;Se=1;var S=me;me|=4,Wi.current=null,sp(e,n),rc(n,e),Df(ti),po=!!ei,ti=ei=null,e.current=n,ap(n),Fd(),me=S,Se=f,vt.transition=a}else e.current=n;if(Jo&&(Jo=!1,sn=e,Zo=o),a=e.pendingLanes,a===0&&(ln=null),Ud(n.stateNode),it(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Xo)throw Xo=!1,e=Yi,Yi=null,e;return Zo&1&&e.tag!==0&&lr(),a=e.pendingLanes,a&1?e===Ki?Vr++:(Vr=0,Ki=e):Vr=0,tn(),null}function lr(){if(sn!==null){var e=ta(Zo),t=vt.transition,n=Se;try{if(vt.transition=null,Se=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,Zo=0,me&6)throw Error(l(331));var o=me;for(me|=4,W=e.current;W!==null;){var a=W,f=a.child;if(W.flags&16){var S=a.deletions;if(S!==null){for(var x=0;x<S.length;x++){var R=S[x];for(W=R;W!==null;){var z=W;switch(z.tag){case 0:case 11:case 15:br(8,z,a)}var B=z.child;if(B!==null)B.return=z,W=B;else for(;W!==null;){z=W;var I=z.sibling,H=z.return;if(Ju(z),z===R){W=null;break}if(I!==null){I.return=H,W=I;break}W=H}}}var Q=a.alternate;if(Q!==null){var K=Q.child;if(K!==null){Q.child=null;do{var Ie=K.sibling;K.sibling=null,K=Ie}while(K!==null)}}W=a}}if(a.subtreeFlags&2064&&f!==null)f.return=a,W=f;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:br(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,W=P;break e}W=a.return}}var C=e.current;for(W=C;W!==null;){f=W;var _=f.child;if(f.subtreeFlags&2064&&_!==null)_.return=f,W=_;else e:for(f=C;W!==null;){if(S=W,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:qo(9,S)}}catch(Z){Re(S,S.return,Z)}if(S===f){W=null;break e}var U=S.sibling;if(U!==null){U.return=S.return,W=U;break e}W=S.return}}if(me=o,tn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(io,e)}catch{}r=!0}return r}finally{Se=n,vt.transition=t}}return!1}function hc(e,t,n){t=tr(n,t),t=Au(e,t,1),e=rn(e,t,1),t=et(),e!==null&&(hr(e,1,t),it(e,t))}function Re(e,t,n){if(e.tag===3)hc(e,e,n);else for(;t!==null;){if(t.tag===3){hc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=tr(n,e),e=Du(t,e,1),t=rn(t,e,1),e=et(),t!==null&&(hr(t,1,e),it(t,e));break}}t=t.return}}function hp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(qe&n)===n&&(be===4||be===3&&(qe&130023424)===qe&&500>je()-qi?Nn(e,0):Qi|=n),it(e,t)}function mc(e,t){t===0&&(e.mode&1?(t=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):t=1);var n=et();e=bt(e,t),e!==null&&(hr(e,t,n),it(e,n))}function mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mc(e,n)}function gp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(l(314))}r!==null&&r.delete(t),mc(e,n)}var gc;gc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,rp(e,t,n);ot=!!(e.flags&131072)}else ot=!1,Ne&&t.flags&1048576&&Ya(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var o=Qn(t,Ye.current);Zn(t,n),o=Ti(null,t,r,e,o,n);var a=Ni();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(a=!0,_o(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,yi(t),o.updater=Vo,t.stateNode=o,o._reactInternals=t,Ai(t,r,e,n),t=Ii(null,t,r,!0,a,n)):(t.tag=0,Ne&&a&&ai(t),Ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=yp(r),e=Pt(r,e),o){case 0:t=ji(null,t,r,e,n);break e;case 1:t=$u(null,t,r,e,n);break e;case 11:t=Fu(null,t,r,e,n);break e;case 14:t=zu(null,t,r,Pt(r.type,e),n);break e}throw Error(l(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pt(r,o),ji(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pt(r,o),$u(e,t,r,o,n);case 3:e:{if(Gu(t),e===null)throw Error(l(387));r=t.pendingProps,a=t.memoizedState,o=a.element,ou(e,t),Fo(t,r,null,n);var f=t.memoizedState;if(r=f.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=tr(Error(l(423)),t),t=Vu(e,t,r,n,o);break e}else if(r!==o){o=tr(Error(l(424)),t),t=Vu(e,t,r,n,o);break e}else for(dt=Jt(t.stateNode.containerInfo.firstChild),ct=t,Ne=!0,Nt=null,n=nu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kn(),r===o){t=Gt(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return su(t),e===null&&di(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,f=o.children,ni(r,o)?f=null:a!==null&&ni(r,a)&&(t.flags|=32),bu(e,t),Ze(e,t,f,n),t.child;case 6:return e===null&&di(t),null;case 13:return Hu(e,t,n);case 4:return wi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xn(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pt(r,o),Fu(e,t,r,o,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,f=o.value,Ce(Lo,r._currentValue),r._currentValue=f,a!==null)if(Tt(a.value,f)){if(a.children===o.children&&!nt.current){t=Gt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var S=a.dependencies;if(S!==null){f=a.child;for(var x=S.firstContext;x!==null;){if(x.context===r){if(a.tag===1){x=$t(-1,n&-n),x.tag=2;var R=a.updateQueue;if(R!==null){R=R.shared;var z=R.pending;z===null?x.next=x:(x.next=z.next,z.next=x),R.pending=x}}a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),gi(a.return,n,t),S.lanes|=n;break}x=x.next}}else if(a.tag===10)f=a.type===t.type?null:a.child;else if(a.tag===18){if(f=a.return,f===null)throw Error(l(341));f.lanes|=n,S=f.alternate,S!==null&&(S.lanes|=n),gi(f,n,t),f=a.sibling}else f=a.child;if(f!==null)f.return=a;else for(f=a;f!==null;){if(f===t){f=null;break}if(a=f.sibling,a!==null){a.return=f.return,f=a;break}f=f.return}a=f}Ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Zn(t,n),o=mt(o),r=r(o),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,o=Pt(r,t.pendingProps),o=Pt(r.type,o),zu(e,t,r,o,n);case 15:return Bu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pt(r,o),Wo(e,t),t.tag=1,rt(r)?(e=!0,_o(t)):e=!1,Zn(t,n),Mu(t,r,o),Ai(t,r,o,n),Ii(null,t,r,!0,e,n);case 19:return Qu(e,t,n);case 22:return Uu(e,t,n)}throw Error(l(156,t.tag))};function vc(e,t){return Ks(e,t)}function vp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new vp(e,t,n,r)}function ns(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yp(e){if(typeof e=="function")return ns(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===xe)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,o,a){var f=2;if(r=e,typeof e=="function")ns(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case te:return _n(n.children,o,a,t);case $:f=8,o|=8;break;case Y:return e=yt(12,n,t,o|2),e.elementType=Y,e.lanes=a,e;case ge:return e=yt(13,n,t,o),e.elementType=ge,e.lanes=a,e;case Ee:return e=yt(19,n,t,o),e.elementType=Ee,e.lanes=a,e;case we:return ol(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:f=10;break e;case de:f=9;break e;case ye:f=11;break e;case xe:f=14;break e;case Be:f=16,r=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=yt(f,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function _n(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function ol(e,t,n,r){return e=yt(22,e,r,t),e.elementType=we,e.lanes=n,e.stateNode={isHidden:!1},e}function rs(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function os(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ls(e,t,n,r,o,a,f,S,x){return e=new wp(e,t,n,S,x),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yi(a),e}function Sp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yc(e){if(!e)return en;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var n=e.type;if(rt(n))return Wa(e,n,t)}return t}function wc(e,t,n,r,o,a,f,S,x){return e=ls(n,r,!0,e,o,a,f,S,x),e.context=yc(null),n=e.current,r=et(),o=an(n),a=$t(r,o),a.callback=t??null,rn(n,a,o),e.current.lanes=o,hr(e,o,r),it(e,r),e}function ll(e,t,n,r){var o=t.current,a=et(),f=an(o);return n=yc(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(a,f),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(o,t,f),e!==null&&(Mt(e,o,f,a),Io(e,o,f)),f}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function is(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}var Ec=typeof reportError=="function"?reportError:function(e){console.error(e)};function ss(e){this._internalRoot=e}sl.prototype.render=ss.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));ll(e,t,null,null)},sl.prototype.unmount=ss.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){ll(null,e,null,null)}),t[Ft]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=oa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&sa(e)}};function as(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xc(){}function Ep(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var R=il(f);a.call(R)}}var f=wc(t,r,e,0,null,!1,!1,"",xc);return e._reactRootContainer=f,e[Ft]=f.current,_r(e.nodeType===8?e.parentNode:e),Tn(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var S=r;r=function(){var R=il(x);S.call(R)}}var x=ls(e,0,!1,null,null,!1,!1,"",xc);return e._reactRootContainer=x,e[Ft]=x.current,_r(e.nodeType===8?e.parentNode:e),Tn(function(){ll(t,x,n,r)}),x}function ul(e,t,n,r,o){var a=n._reactRootContainer;if(a){var f=a;if(typeof o=="function"){var S=o;o=function(){var x=il(f);S.call(x)}}ll(t,f,e,o)}else f=Ep(n,t,e,o,r);return il(f)}na=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pr(t.pendingLanes);n!==0&&(Al(t,n|1),it(t,je()),!(me&6)&&(or=je()+500,tn()))}break;case 13:Tn(function(){var r=bt(e,1);if(r!==null){var o=et();Mt(r,e,1,o)}}),is(e,1)}},Dl=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=et();Mt(t,e,134217728,n)}is(e,134217728)}},ra=function(e){if(e.tag===13){var t=an(e),n=bt(e,t);if(n!==null){var r=et();Mt(n,e,t,r)}is(e,t)}},oa=function(){return Se},la=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}},Tl=function(e,t,n){switch(t){case"input":if(vl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=No(r);if(!o)throw Error(l(90));eo(r),vl(r,o)}}}break;case"textarea":Ls(e,n);break;case"select":t=n.value,t!=null&&jn(e,!!n.multiple,t,!1)}},Gs=Zi,Vs=Tn;var xp={usingClientEntryPoint:!1,Events:[Or,Hn,No,bs,$s,Zi]},Hr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cp={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qs(e),e===null?null:e.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{io=cl.inject(Cp),Ot=cl}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xp,st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!as(t))throw Error(l(200));return Sp(e,t,null,n)},st.createRoot=function(e,t){if(!as(e))throw Error(l(299));var n=!1,r="",o=Ec;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ls(e,1,!1,null,null,n,!1,r,o),e[Ft]=t.current,_r(e.nodeType===8?e.parentNode:e),new ss(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=qs(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return Tn(e)},st.hydrate=function(e,t,n){if(!al(t))throw Error(l(200));return ul(null,e,t,!0,n)},st.hydrateRoot=function(e,t,n){if(!as(e))throw Error(l(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",f=Ec;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=wc(t,null,e,1,n??null,o,!1,a,f),e[Ft]=t.current,_r(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new sl(t)},st.render=function(e,t,n){if(!al(t))throw Error(l(200));return ul(null,e,t,!1,n)},st.unmountComponentAtNode=function(e){if(!al(e))throw Error(l(40));return e._reactRootContainer?(Tn(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1},st.unstable_batchedUpdates=Zi,st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!al(n))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return ul(e,t,n,!1,r)},st.version="18.3.1-next-f1338f8080-20240426",st}var Oc;function Uc(){if(Oc)return ds.exports;Oc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),ds.exports=Dp(),ds.exports}var Ac;function Lp(){if(Ac)return dl;Ac=1;var s=Uc();return dl.createRoot=s.createRoot,dl.hydrateRoot=s.hydrateRoot,dl}var jp=Lp(),Ss=Uc(),Ip=Object.defineProperty,fl=Object.getOwnPropertySymbols,bc=Object.prototype.hasOwnProperty,$c=Object.prototype.propertyIsEnumerable,Dc=(s,i,l)=>i in s?Ip(s,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[i]=l,ms=(s,i)=>{for(var l in i||(i={}))bc.call(i,l)&&Dc(s,l,i[l]);if(fl)for(var l of fl(i))$c.call(i,l)&&Dc(s,l,i[l]);return s},gs=(s,i)=>{var l={};for(var d in s)bc.call(s,d)&&i.indexOf(d)<0&&(l[d]=s[d]);if(s!=null&&fl)for(var d of fl(s))i.indexOf(d)<0&&$c.call(s,d)&&(l[d]=s[d]);return l};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var An;(s=>{const i=class fe{constructor(h,y,m,g){if(this.version=h,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],h<fe.MIN_VERSION||h>fe.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let E=[];for(let T=0;T<this.size;T++)E.push(!1);for(let T=0;T<this.size;T++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();const N=this.addEccAndInterleave(m);if(this.drawCodewords(N),g==-1){let T=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const O=this.getPenaltyScore();O<T&&(g=M,T=O),this.applyMask(M)}}u(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(h,y){const m=s.QrSegment.makeSegments(h);return fe.encodeSegments(m,y)}static encodeBinary(h,y){const m=s.QrSegment.makeBytes(h);return fe.encodeSegments([m],y)}static encodeSegments(h,y,m=1,g=40,E=-1,N=!0){if(!(fe.MIN_VERSION<=m&&m<=g&&g<=fe.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");let T,M;for(T=m;;T++){const A=fe.getNumDataCodewords(T,y)*8,j=p.getTotalBits(h,T);if(j<=A){M=j;break}if(T>=g)throw new RangeError("Data too long")}for(const A of[fe.Ecc.MEDIUM,fe.Ecc.QUARTILE,fe.Ecc.HIGH])N&&M<=fe.getNumDataCodewords(T,A)*8&&(y=A);let O=[];for(const A of h){l(A.mode.modeBits,4,O),l(A.numChars,A.mode.numCharCountBits(T),O);for(const j of A.getData())O.push(j)}u(O.length==M);const G=fe.getNumDataCodewords(T,y)*8;u(O.length<=G),l(0,Math.min(4,G-O.length),O),l(0,(8-O.length%8)%8,O),u(O.length%8==0);for(let A=236;O.length<G;A^=253)l(A,8,O);let F=[];for(;F.length*8<O.length;)F.push(0);return O.forEach((A,j)=>F[j>>>3]|=A<<7-(j&7)),new fe(T,y,F,E)}getModule(h,y){return 0<=h&&h<this.size&&0<=y&&y<this.size&&this.modules[y][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),y=h.length;for(let m=0;m<y;m++)for(let g=0;g<y;g++)m==0&&g==0||m==0&&g==y-1||m==y-1&&g==0||this.drawAlignmentPattern(h[m],h[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const y=this.errorCorrectionLevel.formatBits<<3|h;let m=y;for(let E=0;E<10;E++)m=m<<1^(m>>>9)*1335;const g=(y<<10|m)^21522;u(g>>>15==0);for(let E=0;E<=5;E++)this.setFunctionModule(8,E,d(g,E));this.setFunctionModule(8,7,d(g,6)),this.setFunctionModule(8,8,d(g,7)),this.setFunctionModule(7,8,d(g,8));for(let E=9;E<15;E++)this.setFunctionModule(14-E,8,d(g,E));for(let E=0;E<8;E++)this.setFunctionModule(this.size-1-E,8,d(g,E));for(let E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,d(g,E));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let m=0;m<12;m++)h=h<<1^(h>>>11)*7973;const y=this.version<<12|h;u(y>>>18==0);for(let m=0;m<18;m++){const g=d(y,m),E=this.size-11+m%3,N=Math.floor(m/3);this.setFunctionModule(E,N,g),this.setFunctionModule(N,E,g)}}drawFinderPattern(h,y){for(let m=-4;m<=4;m++)for(let g=-4;g<=4;g++){const E=Math.max(Math.abs(g),Math.abs(m)),N=h+g,T=y+m;0<=N&&N<this.size&&0<=T&&T<this.size&&this.setFunctionModule(N,T,E!=2&&E!=4)}}drawAlignmentPattern(h,y){for(let m=-2;m<=2;m++)for(let g=-2;g<=2;g++)this.setFunctionModule(h+g,y+m,Math.max(Math.abs(g),Math.abs(m))!=1)}setFunctionModule(h,y,m){this.modules[y][h]=m,this.isFunction[y][h]=!0}addEccAndInterleave(h){const y=this.version,m=this.errorCorrectionLevel;if(h.length!=fe.getNumDataCodewords(y,m))throw new RangeError("Invalid argument");const g=fe.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][y],E=fe.ECC_CODEWORDS_PER_BLOCK[m.ordinal][y],N=Math.floor(fe.getNumRawDataModules(y)/8),T=g-N%g,M=Math.floor(N/g);let O=[];const G=fe.reedSolomonComputeDivisor(E);for(let A=0,j=0;A<g;A++){let X=h.slice(j,j+M-E+(A<T?0:1));j+=X.length;const q=fe.reedSolomonComputeRemainder(X,G);A<T&&X.push(0),O.push(X.concat(q))}let F=[];for(let A=0;A<O[0].length;A++)O.forEach((j,X)=>{(A!=M-E||X>=T)&&F.push(j[A])});return u(F.length==N),F}drawCodewords(h){if(h.length!=Math.floor(fe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let g=0;g<this.size;g++)for(let E=0;E<2;E++){const N=m-E,M=(m+1&2)==0?this.size-1-g:g;!this.isFunction[M][N]&&y<h.length*8&&(this.modules[M][N]=d(h[y>>>3],7-(y&7)),y++)}}u(y==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let m=0;m<this.size;m++){let g;switch(h){case 0:g=(m+y)%2==0;break;case 1:g=y%2==0;break;case 2:g=m%3==0;break;case 3:g=(m+y)%3==0;break;case 4:g=(Math.floor(m/3)+Math.floor(y/2))%2==0;break;case 5:g=m*y%2+m*y%3==0;break;case 6:g=(m*y%2+m*y%3)%2==0;break;case 7:g=((m+y)%2+m*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][m]&&g&&(this.modules[y][m]=!this.modules[y][m])}}getPenaltyScore(){let h=0;for(let E=0;E<this.size;E++){let N=!1,T=0,M=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[E][O]==N?(T++,T==5?h+=fe.PENALTY_N1:T>5&&h++):(this.finderPenaltyAddHistory(T,M),N||(h+=this.finderPenaltyCountPatterns(M)*fe.PENALTY_N3),N=this.modules[E][O],T=1);h+=this.finderPenaltyTerminateAndCount(N,T,M)*fe.PENALTY_N3}for(let E=0;E<this.size;E++){let N=!1,T=0,M=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[O][E]==N?(T++,T==5?h+=fe.PENALTY_N1:T>5&&h++):(this.finderPenaltyAddHistory(T,M),N||(h+=this.finderPenaltyCountPatterns(M)*fe.PENALTY_N3),N=this.modules[O][E],T=1);h+=this.finderPenaltyTerminateAndCount(N,T,M)*fe.PENALTY_N3}for(let E=0;E<this.size-1;E++)for(let N=0;N<this.size-1;N++){const T=this.modules[E][N];T==this.modules[E][N+1]&&T==this.modules[E+1][N]&&T==this.modules[E+1][N+1]&&(h+=fe.PENALTY_N2)}let y=0;for(const E of this.modules)y=E.reduce((N,T)=>N+(T?1:0),y);const m=this.size*this.size,g=Math.ceil(Math.abs(y*20-m*10)/m)-1;return u(0<=g&&g<=9),h+=g*fe.PENALTY_N4,u(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let m=[6];for(let g=this.size-7;m.length<h;g-=y)m.splice(1,0,g);return m}}static getNumRawDataModules(h){if(h<fe.MIN_VERSION||h>fe.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*h+128)*h+64;if(h>=2){const m=Math.floor(h/7)+2;y-=(25*m-10)*m-55,h>=7&&(y-=36)}return u(208<=y&&y<=29648),y}static getNumDataCodewords(h,y){return Math.floor(fe.getNumRawDataModules(h)/8)-fe.ECC_CODEWORDS_PER_BLOCK[y.ordinal][h]*fe.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let y=[];for(let g=0;g<h-1;g++)y.push(0);y.push(1);let m=1;for(let g=0;g<h;g++){for(let E=0;E<y.length;E++)y[E]=fe.reedSolomonMultiply(y[E],m),E+1<y.length&&(y[E]^=y[E+1]);m=fe.reedSolomonMultiply(m,2)}return y}static reedSolomonComputeRemainder(h,y){let m=y.map(g=>0);for(const g of h){const E=g^m.shift();m.push(0),y.forEach((N,T)=>m[T]^=fe.reedSolomonMultiply(N,E))}return m}static reedSolomonMultiply(h,y){if(h>>>8||y>>>8)throw new RangeError("Byte out of range");let m=0;for(let g=7;g>=0;g--)m=m<<1^(m>>>7)*285,m^=(y>>>g&1)*h;return u(m>>>8==0),m}finderPenaltyCountPatterns(h){const y=h[1];u(y<=this.size*3);const m=y>0&&h[2]==y&&h[3]==y*3&&h[4]==y&&h[5]==y;return(m&&h[0]>=y*4&&h[6]>=y?1:0)+(m&&h[6]>=y*4&&h[0]>=y?1:0)}finderPenaltyTerminateAndCount(h,y,m){return h&&(this.finderPenaltyAddHistory(y,m),y=0),y+=this.size,this.finderPenaltyAddHistory(y,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(h,y){y[0]==0&&(h+=this.size),y.pop(),y.unshift(h)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=i;function l(v,h,y){if(h<0||h>31||v>>>h)throw new RangeError("Value out of range");for(let m=h-1;m>=0;m--)y.push(v>>>m&1)}function d(v,h){return(v>>>h&1)!=0}function u(v){if(!v)throw new Error("Assertion error")}const c=class Me{constructor(h,y,m){if(this.mode=h,this.numChars=y,this.bitData=m,y<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(h){let y=[];for(const m of h)l(m,8,y);return new Me(Me.Mode.BYTE,h.length,y)}static makeNumeric(h){if(!Me.isNumeric(h))throw new RangeError("String contains non-numeric characters");let y=[];for(let m=0;m<h.length;){const g=Math.min(h.length-m,3);l(parseInt(h.substring(m,m+g),10),g*3+1,y),m+=g}return new Me(Me.Mode.NUMERIC,h.length,y)}static makeAlphanumeric(h){if(!Me.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],m;for(m=0;m+2<=h.length;m+=2){let g=Me.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m))*45;g+=Me.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m+1)),l(g,11,y)}return m<h.length&&l(Me.ALPHANUMERIC_CHARSET.indexOf(h.charAt(m)),6,y),new Me(Me.Mode.ALPHANUMERIC,h.length,y)}static makeSegments(h){return h==""?[]:Me.isNumeric(h)?[Me.makeNumeric(h)]:Me.isAlphanumeric(h)?[Me.makeAlphanumeric(h)]:[Me.makeBytes(Me.toUtf8ByteArray(h))]}static makeEci(h){let y=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)l(h,8,y);else if(h<16384)l(2,2,y),l(h,14,y);else if(h<1e6)l(6,3,y),l(h,21,y);else throw new RangeError("ECI assignment value out of range");return new Me(Me.Mode.ECI,0,y)}static isNumeric(h){return Me.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return Me.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,y){let m=0;for(const g of h){const E=g.mode.numCharCountBits(y);if(g.numChars>=1<<E)return 1/0;m+=4+E+g.bitData.length}return m}static toUtf8ByteArray(h){h=encodeURI(h);let y=[];for(let m=0;m<h.length;m++)h.charAt(m)!="%"?y.push(h.charCodeAt(m)):(y.push(parseInt(h.substring(m+1,m+3),16)),m+=2);return y}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=c;s.QrSegment=c})(An||(An={}));(s=>{(i=>{const l=class{constructor(u,c){this.ordinal=u,this.formatBits=c}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),i.Ecc=l})(s.QrCode||(s.QrCode={}))})(An||(An={}));(s=>{(i=>{const l=class{constructor(u,c){this.modeBits=u,this.numBitsCharCount=c}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),i.Mode=l})(s.QrSegment||(s.QrSegment={}))})(An||(An={}));var ir=An;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Fp={L:ir.QrCode.Ecc.LOW,M:ir.QrCode.Ecc.MEDIUM,Q:ir.QrCode.Ecc.QUARTILE,H:ir.QrCode.Ecc.HIGH},Gc=128,Vc="L",Hc="#FFFFFF",Wc="#000000",Qc=!1,qc=1,zp=4,Bp=0,Up=.1;function Yc(s,i=0){const l=[];return s.forEach(function(d,u){let c=null;d.forEach(function(p,v){if(!p&&c!==null){l.push(`M${c+i} ${u+i}h${v-c}v1H${c+i}z`),c=null;return}if(v===d.length-1){if(!p)return;c===null?l.push(`M${v+i},${u+i} h1v1H${v+i}z`):l.push(`M${c+i},${u+i} h${v+1-c}v1H${c+i}z`);return}p&&c===null&&(c=v)})}),l.join("")}function Kc(s,i){return s.slice().map((l,d)=>d<i.y||d>=i.y+i.h?l:l.map((u,c)=>c<i.x||c>=i.x+i.w?u:!1))}function bp(s,i,l,d){if(d==null)return null;const u=s.length+l*2,c=Math.floor(i*Up),p=u/i,v=(d.width||c)*p,h=(d.height||c)*p,y=d.x==null?s.length/2-v/2:d.x*p,m=d.y==null?s.length/2-h/2:d.y*p,g=d.opacity==null?1:d.opacity;let E=null;if(d.excavate){let T=Math.floor(y),M=Math.floor(m),O=Math.ceil(v+y-T),G=Math.ceil(h+m-M);E={x:T,y:M,w:O,h:G}}const N=d.crossOrigin;return{x:y,y:m,h,w:v,excavation:E,opacity:g,crossOrigin:N}}function $p(s,i){return i!=null?Math.max(Math.floor(i),0):s?zp:Bp}function Xc({value:s,level:i,minVersion:l,includeMargin:d,marginSize:u,imageSettings:c,size:p,boostLevel:v}){let h=Oe.useMemo(()=>{const T=(Array.isArray(s)?s:[s]).reduce((M,O)=>(M.push(...ir.QrSegment.makeSegments(O)),M),[]);return ir.QrCode.encodeSegments(T,Fp[i],l,void 0,void 0,v)},[s,i,l,v]);const{cells:y,margin:m,numCells:g,calculatedImageSettings:E}=Oe.useMemo(()=>{let N=h.getModules();const T=$p(d,u),M=N.length+T*2,O=bp(N,p,T,c);return{cells:N,margin:T,numCells:M,calculatedImageSettings:O}},[h,p,c,d,u]);return{qrcode:h,margin:m,cells:y,numCells:g,calculatedImageSettings:E}}var Gp=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Vp=Oe.forwardRef(function(i,l){const d=i,{value:u,size:c=Gc,level:p=Vc,bgColor:v=Hc,fgColor:h=Wc,includeMargin:y=Qc,minVersion:m=qc,boostLevel:g,marginSize:E,imageSettings:N}=d,M=gs(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:O}=M,G=gs(M,["style"]),F=N==null?void 0:N.src,A=Oe.useRef(null),j=Oe.useRef(null),X=Oe.useCallback(Ee=>{A.current=Ee,typeof l=="function"?l(Ee):l&&(l.current=Ee)},[l]),[q,te]=Oe.useState(!1),{margin:$,cells:Y,numCells:pe,calculatedImageSettings:de}=Xc({value:u,level:p,minVersion:m,boostLevel:g,includeMargin:y,marginSize:E,imageSettings:N,size:c});Oe.useEffect(()=>{if(A.current!=null){const Ee=A.current,xe=Ee.getContext("2d");if(!xe)return;let Be=Y;const we=j.current,b=de!=null&&we!==null&&we.complete&&we.naturalHeight!==0&&we.naturalWidth!==0;b&&de.excavation!=null&&(Be=Kc(Y,de.excavation));const ne=window.devicePixelRatio||1;Ee.height=Ee.width=c*ne;const V=c/pe*ne;xe.scale(V,V),xe.fillStyle=v,xe.fillRect(0,0,pe,pe),xe.fillStyle=h,Gp?xe.fill(new Path2D(Yc(Be,$))):Y.forEach(function(k,L){k.forEach(function(se,J){se&&xe.fillRect(J+$,L+$,1,1)})}),de&&(xe.globalAlpha=de.opacity),b&&xe.drawImage(we,de.x+$,de.y+$,de.w,de.h)}}),Oe.useEffect(()=>{te(!1)},[F]);const ye=ms({height:c,width:c},O);let ge=null;return F!=null&&(ge=Oe.createElement("img",{src:F,key:F,style:{display:"none"},onLoad:()=>{te(!0)},ref:j,crossOrigin:de==null?void 0:de.crossOrigin})),Oe.createElement(Oe.Fragment,null,Oe.createElement("canvas",ms({style:ye,height:c,width:c,ref:X,role:"img"},G)),ge)});Vp.displayName="QRCodeCanvas";var Jc=Oe.forwardRef(function(i,l){const d=i,{value:u,size:c=Gc,level:p=Vc,bgColor:v=Hc,fgColor:h=Wc,includeMargin:y=Qc,minVersion:m=qc,boostLevel:g,title:E,marginSize:N,imageSettings:T}=d,M=gs(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:O,cells:G,numCells:F,calculatedImageSettings:A}=Xc({value:u,level:p,minVersion:m,boostLevel:g,includeMargin:y,marginSize:N,imageSettings:T,size:c});let j=G,X=null;T!=null&&A!=null&&(A.excavation!=null&&(j=Kc(G,A.excavation)),X=Oe.createElement("image",{href:T.src,height:A.h,width:A.w,x:A.x+O,y:A.y+O,preserveAspectRatio:"none",opacity:A.opacity,crossOrigin:A.crossOrigin}));const q=Yc(j,O);return Oe.createElement("svg",ms({height:c,width:c,viewBox:`0 0 ${F} ${F}`,ref:l,role:"img"},M),!!E&&Oe.createElement("title",null,E),Oe.createElement("path",{fill:v,d:`M0,0 h${F}v${F}H0z`,shapeRendering:"crispEdges"}),Oe.createElement("path",{fill:h,d:q,shapeRendering:"crispEdges"}),X)});Jc.displayName="QRCodeSVG";const Fe={total:0,colors:{}},Yr={shapesPlaced:{...Fe},linesCleared:{...Fe},rowsCleared:{...Fe},doubleRows:{...Fe},tripleRows:{...Fe},quadrupleRows:{...Fe},doubleRowsWithSingleColumns:{...Fe},tripleRowsWithSingleColumns:{...Fe},tripleRowsWithDoubleColumns:{...Fe},quadrupleRowsWithSingleColumns:{...Fe},columnsCleared:{...Fe},doubleColumns:{...Fe},tripleColumns:{...Fe},quadrupleColumns:{...Fe},doubleColumnsWithSingleRows:{...Fe},tripleColumnsWithDoubleRows:{...Fe},tripleColumnsWithSingleRows:{...Fe},quadrupleColumnsWithSingleRows:{...Fe},singleColumnBySingleRow:{...Fe},doubleColumnByDoubleRow:{...Fe},quadrupleRowByQuadrupleColumn:{...Fe}},Hp={allTime:JSON.parse(JSON.stringify(Yr)),highScore:JSON.parse(JSON.stringify(Yr)),current:JSON.parse(JSON.stringify(Yr)),lastUpdated:Date.now()},Zc="TetrixGameDB",Wp=3,It="gameState",wt="score",St="tiles",Et="shapes",Ae="settings",xt="modifiers",Ct="stats";function Qp(){return typeof indexedDB<"u"}async function qp(){const s=indexedDB.deleteDatabase(Zc);return new Promise((i,l)=>{s.onsuccess=()=>{setTimeout(()=>{ed().then(i).catch(l)},100)},s.onerror=()=>{console.error("Failed to delete corrupted database"),l(new Error("Database schema mismatch and failed to recreate"))}})}function ed(){return new Promise((s,i)=>{const l=indexedDB.open(Zc,Wp);l.onerror=()=>{console.error("Failed to open IndexedDB:",l.error),i(new Error(`Failed to open IndexedDB: ${l.error}`))},l.onsuccess=async()=>{const d=l.result,c=[It,wt,St,Et,Ae,xt,Ct].filter(p=>!d.objectStoreNames.contains(p));if(c.length>0){console.warn("Missing object stores:",c,"Recreating database..."),d.close();try{const p=await qp();s(p)}catch(p){i(p)}return}s(d)},l.onupgradeneeded=d=>{const u=d.target.result;console.log("Upgrading database from version",d.oldVersion,"to",d.newVersion),u.objectStoreNames.contains(It)||(console.log("Creating",It,"store"),u.createObjectStore(It)),u.objectStoreNames.contains(wt)||(console.log("Creating",wt,"store"),u.createObjectStore(wt)),u.objectStoreNames.contains(St)||(console.log("Creating",St,"store"),u.createObjectStore(St)),u.objectStoreNames.contains(Et)||(console.log("Creating",Et,"store"),u.createObjectStore(Et)),u.objectStoreNames.contains(Ae)||(console.log("Creating",Ae,"store"),u.createObjectStore(Ae)),u.objectStoreNames.contains(xt)||(console.log("Creating",xt,"store"),u.createObjectStore(xt)),u.objectStoreNames.contains(Ct)||(console.log("Creating",Ct,"store"),u.createObjectStore(Ct))}})}function De(){return Qp()?ed():Promise.reject(new Error("IndexedDB not available in this environment"))}async function td(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([It],"readonly").objectStore(It).get("current");c.onsuccess=()=>{const p=c.result;if(p!=null&&p.tiles&&Array.isArray(p.tiles)){const v={score:p.score||0,tiles:p.tiles||[],nextShapes:p.nextShapes||[],savedShape:p.savedShape||null};i(v)}else i(null)},c.onerror=()=>{console.error("Failed to load game state:",c.error),l(new Error(`Failed to load game state: ${c.error}`))}})}catch(s){return console.error("Error loading game state:",s),null}}async function nd(s){try{const i=await De(),l={score:s,lastUpdated:Date.now()};return new Promise((d,u)=>{try{const c=i.transaction([wt],"readwrite");c.onerror=()=>{console.error("Transaction failed for score save:",c.error),u(new Error(`Transaction failed: ${c.error}`))};const v=c.objectStore(wt).put(l,"current");v.onsuccess=()=>{console.log("Score saved successfully:",s),d()},v.onerror=()=>{console.error("Failed to save score:",v.error),u(new Error(`Failed to save score: ${v.error}`))}}catch(c){console.error("Failed to create transaction for score save:",c),u(new Error(`Transaction creation failed: ${c}`))}})}catch(i){throw console.error("Error saving score:",i),i}}async function rd(s){try{const i=await De(),l={tiles:s,lastUpdated:Date.now()};return new Promise((d,u)=>{const v=i.transaction([St],"readwrite").objectStore(St).put(l,"current");v.onsuccess=()=>{console.log("Tiles saved successfully"),d()},v.onerror=()=>{console.error("Failed to save tiles:",v.error),u(new Error(`Failed to save tiles: ${v.error}`))}})}catch(i){throw console.error("Error saving tiles:",i),i}}async function od(s,i){try{const l=await De(),d={nextShapes:s,savedShape:i,lastUpdated:Date.now()};return new Promise((u,c)=>{const h=l.transaction([Et],"readwrite").objectStore(Et).put(d,"current");h.onsuccess=()=>{console.log("Shapes saved successfully"),u()},h.onerror=()=>{console.error("Failed to save shapes:",h.error),c(new Error(`Failed to save shapes: ${h.error}`))}})}catch(l){throw console.error("Error saving shapes:",l),l}}async function ld(s){try{const i=await De();let l={isMuted:!1,lastUpdated:Date.now()},d=!1;try{const p=await Xr();l=(p==null?void 0:p.soundEffects)||l,d=(p==null?void 0:p.debugUnlocked)||!1}catch{}const c={music:{isMuted:s,lastUpdated:Date.now()},soundEffects:l,debugUnlocked:d,lastUpdated:Date.now()};return new Promise((p,v)=>{const m=i.transaction([Ae],"readwrite").objectStore(Ae).put(c,"current");m.onsuccess=()=>{console.log("Music settings saved successfully:",s),p()},m.onerror=()=>{console.error("Failed to save music settings:",m.error),v(new Error(`Failed to save music settings: ${m.error}`))}})}catch(i){throw console.error("Error saving music settings:",i),i}}async function id(s){try{const i=await De();let l={isMuted:!1,lastUpdated:Date.now()},d=!1;try{const p=await Xr();l=(p==null?void 0:p.music)||l,d=(p==null?void 0:p.debugUnlocked)||!1}catch{}const u={isMuted:s,lastUpdated:Date.now()},c={music:l,soundEffects:u,debugUnlocked:d,lastUpdated:Date.now()};return new Promise((p,v)=>{const m=i.transaction([Ae],"readwrite").objectStore(Ae).put(c,"current");m.onsuccess=()=>{console.log("Sound effects settings saved successfully:",s),p()},m.onerror=()=>{console.error("Failed to save sound effects settings:",m.error),v(new Error(`Failed to save sound effects settings: ${m.error}`))}})}catch(i){throw console.error("Error saving sound effects settings:",i),i}}async function sd(s){try{const i=await De(),l={...s,lastUpdated:Date.now()};return new Promise((d,u)=>{const v=i.transaction([Ct],"readwrite").objectStore(Ct).put(l,"current");v.onsuccess=()=>{d()},v.onerror=()=>{console.error("Failed to save stats:",v.error),u(new Error(`Failed to save stats: ${v.error}`))}})}catch(i){throw console.error("Error saving stats:",i),i}}async function ad(s){try{const i=await De();let l={isMuted:!1,lastUpdated:Date.now()},d={isMuted:!1,lastUpdated:Date.now()};try{const c=await Xr();l=(c==null?void 0:c.music)||l,d=(c==null?void 0:c.soundEffects)||d}catch{}const u={music:l,soundEffects:d,debugUnlocked:s,lastUpdated:Date.now()};return new Promise((c,p)=>{const y=i.transaction([Ae],"readwrite").objectStore(Ae).put(u,"current");y.onsuccess=()=>{console.log("Debug settings saved successfully:",s),c()},y.onerror=()=>{console.error("Failed to save debug settings:",y.error),p(new Error(`Failed to save debug settings: ${y.error}`))}})}catch(i){throw console.error("Error saving debug settings:",i),i}}async function ud(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([Ae],"readonly").objectStore(Ae).get("current");c.onsuccess=()=>{const p=c.result;i((p==null?void 0:p.debugUnlocked)??!1)},c.onerror=()=>{console.error("Failed to load debug settings:",c.error),l(new Error(`Failed to load debug settings: ${c.error}`))}})}catch(s){return console.error("Error loading debug settings:",s),!1}}async function cd(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([wt],"readonly").objectStore(wt).get("current");c.onsuccess=()=>{const p=c.result;i((p==null?void 0:p.score)??0)},c.onerror=()=>{console.error("Failed to load score:",c.error),l(new Error(`Failed to load score: ${c.error}`))}})}catch(s){return console.error("Error loading score:",s),0}}async function dd(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([St],"readonly").objectStore(St).get("current");c.onsuccess=()=>{const p=c.result;p!=null&&p.tiles&&Array.isArray(p.tiles)?i(p.tiles):i(null)},c.onerror=()=>{console.error("Failed to load tiles:",c.error),l(new Error(`Failed to load tiles: ${c.error}`))}})}catch(s){return console.error("Error loading tiles:",s),null}}async function Es(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([Et],"readonly").objectStore(Et).get("current");c.onsuccess=()=>{const p=c.result;i(p?{nextShapes:p.nextShapes||[],savedShape:p.savedShape||null}:null)},c.onerror=()=>{console.error("Failed to load shapes:",c.error),l(new Error(`Failed to load shapes: ${c.error}`))}})}catch(s){return console.error("Error loading shapes:",s),null}}async function fd(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([Ae],"readonly").objectStore(Ae).get("current");c.onsuccess=()=>{var v;const p=c.result;i(((v=p==null?void 0:p.music)==null?void 0:v.isMuted)??!1)},c.onerror=()=>{console.error("Failed to load music settings:",c.error),l(new Error(`Failed to load music settings: ${c.error}`))}})}catch(s){return console.error("Error loading music settings:",s),!1}}async function pd(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([Ae],"readonly").objectStore(Ae).get("current");c.onsuccess=()=>{var v;const p=c.result;i(((v=p==null?void 0:p.soundEffects)==null?void 0:v.isMuted)??!1)},c.onerror=()=>{console.error("Failed to load sound effects settings:",c.error),l(new Error(`Failed to load sound effects settings: ${c.error}`))}})}catch(s){return console.error("Error loading sound effects settings:",s),!1}}async function xs(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([Ct],"readonly").objectStore(Ct).get("current");c.onsuccess=()=>{const p=c.result;i(p||null)},c.onerror=()=>{console.error("Failed to load stats:",c.error),l(new Error(`Failed to load stats: ${c.error}`))}})}catch(s){return console.error("Error loading stats:",s),null}}async function hd(s){try{const i=await De(),l={unlockedModifiers:Array.from(s),lastUpdated:Date.now()};return new Promise((d,u)=>{const v=i.transaction([xt],"readwrite").objectStore(xt).put(l,"current");v.onsuccess=()=>{console.log("Modifiers saved successfully:",l.unlockedModifiers),d()},v.onerror=()=>{console.error("Failed to save modifiers:",v.error),u(new Error(`Failed to save modifiers: ${v.error}`))}})}catch(i){throw console.error("Error saving modifiers:",i),i}}async function md(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([xt],"readonly").objectStore(xt).get("current");c.onsuccess=()=>{const p=c.result;p!=null&&p.unlockedModifiers&&Array.isArray(p.unlockedModifiers)?i(new Set(p.unlockedModifiers)):i(new Set)},c.onerror=()=>{console.error("Failed to load modifiers:",c.error),l(new Error(`Failed to load modifiers: ${c.error}`))}})}catch(s){return console.error("Error loading modifiers:",s),new Set}}async function Xr(){try{const s=await De();return new Promise((i,l)=>{const c=s.transaction([Ae],"readonly").objectStore(Ae).get("current");c.onsuccess=()=>{const p=c.result;i(p||null)},c.onerror=()=>{console.error("Failed to load game settings:",c.error),l(new Error(`Failed to load game settings: ${c.error}`))}})}catch(s){return console.error("Error loading game settings:",s),null}}async function Yp(s){try{const i=await De(),l=await Xr(),d={...l,music:(l==null?void 0:l.music)||{isMuted:!1,lastUpdated:Date.now()},soundEffects:(l==null?void 0:l.soundEffects)||{isMuted:!1,lastUpdated:Date.now()},theme:s,lastUpdated:Date.now()};return new Promise((u,c)=>{const h=i.transaction([Ae],"readwrite").objectStore(Ae).put(d,"current");h.onsuccess=()=>{console.log("Theme saved successfully:",s),u()},h.onerror=()=>{console.error("Failed to save theme:",h.error),c(new Error(`Failed to save theme: ${h.error}`))}})}catch(i){throw console.error("Error saving theme:",i),i}}async function gd(){try{const s=await Xr();return(s==null?void 0:s.theme)||null}catch(s){return console.error("Error loading theme:",s),null}}async function vd(){var s;try{const[i,l,d]=await Promise.all([cd(),dd(),Es()]);let u=[];if(l&&Array.isArray(l)&&(l.length>0&&"key"in l[0]&&"data"in l[0]?u=l.map(p=>{const v=p.key.match(/R(\d+)C(\d+)/);if(!v)throw new Error(`Invalid tile key: ${p.key}`);const h=parseInt(v[1],10),y=parseInt(v[2],10);return{id:`(row: ${h}, column: ${y})`,location:{row:h,column:y},block:{isFilled:p.data.isFilled,color:p.data.color}}}):u=l),u.length===100)return console.log("Loaded game state from granular stores"),{score:i,tiles:u,nextShapes:(d==null?void 0:d.nextShapes)??[],savedShape:(d==null?void 0:d.savedShape)??null};console.log("Granular stores empty, trying legacy store...");const c=await td();if(((s=c==null?void 0:c.tiles)==null?void 0:s.length)===100){console.log("Loaded game state from legacy store");const p=c.tiles.map(v=>({key:`R${v.location.row}C${v.location.column}`,data:{isFilled:v.block.isFilled,color:v.block.color}}));return We(c.score,p,c.nextShapes,c.savedShape).catch(v=>{console.error("Failed to migrate legacy data to granular stores:",v)}),c}return console.log("No saved game state found in either granular or legacy stores"),null}catch(i){return console.error("Error loading complete game state:",i),null}}async function We(s,i,l,d,u){const c=[];s!==void 0&&c.push(nd(s).catch(p=>{console.warn("Failed to save score, continuing without persistence:",p.message)})),i&&c.push(rd(i).catch(p=>{console.warn("Failed to save tiles, continuing without persistence:",p.message)})),(l!==void 0||d!==void 0)&&c.push((async()=>{try{const p=await Es();await od(l??(p==null?void 0:p.nextShapes)??[],d??(p==null?void 0:p.savedShape)??null)}catch(p){console.warn("Failed to save shapes, continuing without persistence:",p instanceof Error?p.message:"Unknown error")}})()),u&&c.push(sd(u).catch(p=>{console.warn("Failed to save stats, continuing without persistence:",p.message)})),await Promise.all(c)}async function yd(){try{let s=null;try{s=await xs()}catch(l){console.warn("Failed to load stats during clear:",l)}const i=await De();return new Promise((l,d)=>{const u=i.transaction([It,wt,St,Et,xt,Ct],"readwrite"),c=u.objectStore(It),p=u.objectStore(wt),v=u.objectStore(St),h=u.objectStore(Et),y=u.objectStore(xt),m=u.objectStore(Ct);if(c.delete("current"),p.delete("current"),v.delete("current"),h.delete("current"),y.delete("current"),s){const g={...s,current:JSON.parse(JSON.stringify(Yr)),lastUpdated:Date.now()};m.put(g,"current"),console.log("Game stats reset (history preserved)")}else m.delete("current");u.oncomplete=()=>{console.log("Game data cleared successfully (settings preserved)"),l()},u.onerror=()=>{console.error("Failed to clear game data:",u.error),d(new Error(`Failed to clear game data: ${u.error}`))}})}catch(s){throw console.error("Error clearing game data:",s),s}}async function wd(){try{const s=await De();await new Promise((i,l)=>{const d=s.transaction([It,wt,St,Et,Ae,xt,Ct],"readwrite"),u=d.objectStore(It),c=d.objectStore(wt),p=d.objectStore(St),v=d.objectStore(Et),h=d.objectStore(Ae),y=d.objectStore(xt),m=d.objectStore(Ct);u.delete("current"),c.delete("current"),p.delete("current"),v.delete("current"),h.delete("current"),y.delete("current"),m.delete("current"),d.oncomplete=()=>{console.log("All data (including settings) cleared successfully"),i()},d.onerror=()=>{console.error("Failed to clear all data:",d.error),l(new Error(`Failed to clear all data: ${d.error}`))}});try{localStorage.clear(),console.log("localStorage cleared")}catch(i){console.warn("Failed to clear localStorage:",i)}if("caches"in globalThis)try{const i=await caches.keys();await Promise.all(i.map(l=>caches.delete(l))),console.log("Service worker caches cleared")}catch(i){console.warn("Failed to clear caches:",i)}if("serviceWorker"in navigator)try{const i=await navigator.serviceWorker.getRegistrations();await Promise.all(i.map(l=>l.unregister())),console.log("Service workers unregistered")}catch(i){console.warn("Failed to unregister service workers:",i)}console.log("Reloading page from server..."),globalThis.location.reload()}catch(s){console.error("Error during full data clear:",s),globalThis.location.reload()}}const Kp=Object.freeze(Object.defineProperty({__proto__:null,clearAllDataAndReload:wd,clearAllSavedData:yd,initializeDatabase:De,loadCompleteGameState:vd,loadDebugSettings:ud,loadGameState:td,loadModifiers:md,loadMusicSettings:fd,loadScore:cd,loadShapes:Es,loadSoundEffectsSettings:pd,loadStats:xs,loadTheme:gd,loadTiles:dd,safeBatchSave:We,saveDebugSettings:ad,saveModifiers:hd,saveMusicSettings:ld,saveScore:nd,saveShapes:od,saveSoundEffectsSettings:id,saveStats:sd,saveTheme:Yp,saveTiles:rd},Symbol.toStringTag,{value:"Module"})),Sd=D.createContext(null),hl=()=>{const s=D.useContext(Sd);if(!s)throw new Error("useMusicControl must be used within a MusicControlContext.Provider");return s},Xp=({children:s})=>{const[i,l]=D.useState(!1),[d,u]=D.useState(!1),[c,p]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const g=await fd();l(g)}catch(g){console.error("Failed to load music settings:",g);try{const E=localStorage.getItem("tetrix-music-muted");l(E?JSON.parse(E):!1)}catch{l(!1)}}finally{p(!1)}})()},[]);const v=D.useCallback(()=>{const m=!i;l(m),m||u(!0),ld(m).catch(g=>{console.error("Failed to save music settings to IndexedDB:",g);try{localStorage.setItem("tetrix-music-muted",JSON.stringify(m))}catch(E){console.error("Failed to save music mute preference to localStorage:",E)}})},[i]),h=D.useCallback(()=>{u(!0)},[]),y={isMuted:i||c,toggleMute:v,shouldPlayMusic:d,triggerAutoplay:h};return w.jsx(Sd.Provider,{value:y,children:s})},Ed=D.createContext(null),Jp=()=>{const s=D.useContext(Ed);if(!s)throw new Error("useSoundEffectsControl must be used within a SoundEffectsControlContext.Provider");return s},xd=D.createContext(null),Cd=D.createContext(null);function tt(){const s=D.useContext(xd);if(!s)throw new Error("useTetrixStateContext must be used within a TetrixStateProvider");return s}function at(){const s=D.useContext(Cd);if(!s)throw new Error("useTetrixDispatchContext must be used within a TetrixDispatchProvider");return s}const kd=D.createContext(null),Qr=["add-block","fill-row","fill-column","remove","clear-all"];function Zp({children:s}){const[i,l]=D.useState({isEditorOpen:!1,currentTool:"none",selectedColor:"blue",showInstructions:!0,hasShownInstructions:!1,showGridDots:!0}),d=()=>{l(g=>({...g,isEditorOpen:!0,currentTool:g.currentTool==="none"?"add-block":g.currentTool,showInstructions:!g.hasShownInstructions,hasShownInstructions:!0}))},u=()=>{l(g=>({...g,isEditorOpen:!1,currentTool:"none"}))},c=()=>{l(g=>({...g,showInstructions:!1}))},p=()=>{l(g=>({...g,showGridDots:!g.showGridDots}))},v=g=>{l(E=>({...E,currentTool:g}))},h=g=>{l(E=>({...E,selectedColor:g}))},y=g=>{l(E=>{const N=Qr.indexOf(E.currentTool);let T;return g==="forward"?T=(N+1)%Qr.length:T=(N-1+Qr.length)%Qr.length,{...E,currentTool:Qr[T]}})},m=D.useMemo(()=>({state:i,openEditor:d,closeEditor:u,setTool:v,setColor:h,cycleTool:y,hideInstructions:c,toggleGridDots:p}),[i]);return w.jsx(kd.Provider,{value:m,children:s})}function ml(){const s=D.useContext(kd);if(!s)throw new Error("useDebugEditor must be used within a DebugEditorProvider");return s}function Cs(s){var c;let i=s.length,l=-1,d=((c=s[0])==null?void 0:c.length)??0,u=-1;for(let p=0;p<s.length;p++)for(let v=0;v<s[p].length;v++)s[p][v].isFilled&&(i=Math.min(i,p),l=Math.max(l,p),d=Math.min(d,v),u=Math.max(u,v));return{minRow:i,maxRow:l,minCol:d,maxCol:u,width:u-d+1,height:l-i+1}}function vs(s,i){const l=[];for(let d=0;d<4;d++)for(let u=0;u<4;u++){const c=s[d][u];c.isFilled&&l.push({location:{row:i.row+d,column:i.column+u},block:c})}return l}function eh(s,i,l){const d=Cs(s),u=d.minCol+(d.width-1)/2,c=d.minRow+(d.height-1)/2,p=1.5,v=(u-p)*(i+l),h=(c-p)*(i+l);return{offsetX:v,offsetY:h}}function Lc(s,i,l,d,u=0,c,p){const v=l.getBoundingClientRect();if(c&&!p)return console.error("mousePositionToGridLocation called with shape but no precomputedOffsets - this is a logic error"),null;const h=(p==null?void 0:p.gridGap)??2,y=(p==null?void 0:p.tileSize)??(v.width-h*9)/d.columns,m=y+h,g=s,E=i-u;let N=g,T=E;c&&p&&(N=g+p.gridOffsetX,T=E+p.gridOffsetY);const M=y*3.5;if(N<v.left-M||N>v.right+M||T<v.top-M||T>v.bottom+M)return null;const O=N-v.left,G=T-v.top,F=O/m,A=G/m,j=Math.floor(F+.5)+1;return{row:Math.floor(A+.5)+1,column:j}}function On(s){const i=s.length,l=new Array(i).fill(null).map(()=>new Array(i).fill(null).map(()=>({...s[0][0],isFilled:!1})));for(let d=0;d<i;d++)for(let u=0;u<i;u++)l[u][i-1-d]=s[d][u];return l}function ks(s){return s.map(i=>i.map(l=>({...l})))}function Kr(s=7){const i=["grey","red","orange","yellow","green","blue","purple"],l=Math.max(1,Math.min(7,s)),d=i.slice(0,l),u=Math.floor(Math.random()*d.length);return d[u]}function Ts(s,i){return`R${s}C${i}`}function ys(s,i,l){if(i===null)return!1;for(let d=0;d<4;d++)for(let u=0;u<4;u++)if(s[d][u].isFilled){const p=i.row+d,v=i.column+u;if(p<1||p>10||v<1||v>10)return!1;const h=Ts(p,v),y=l.get(h);if(y!=null&&y.isFilled)return!1}return!0}function th(s,i,l){const d=[];if(i===null)return d;for(let u=0;u<4;u++)for(let c=0;c<4;c++)if(s[u][c].isFilled){const v=i.row+u,h=i.column+c,y=v<1||v>10||h<1||h>10;let m=!1;if(!y){const g=Ts(v,h),E=l.get(g);m=(E==null?void 0:E.isFilled)??!1}(y||m)&&d.push({shapeRow:u,shapeCol:c})}return d}function Dn(){return{color:Kr(),isFilled:!1}}function Ln(s){return{color:s,isFilled:!0}}function nh(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[i(),i(),i(),i()],[l(),l(),l(),l()],[i(),i(),i(),i()]]}function rh(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[i(),l(),l(),i()],[i(),l(),l(),i()],[i(),i(),i(),i()]]}function oh(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[i(),l(),i(),i()],[l(),l(),l(),i()],[i(),i(),i(),i()]]}function lh(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[i(),l(),l(),i()],[l(),l(),i(),i()],[i(),i(),i(),i()]]}function ih(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[l(),l(),i(),i()],[i(),l(),l(),i()],[i(),i(),i(),i()]]}function sh(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[l(),i(),i(),i()],[l(),l(),l(),i()],[i(),i(),i(),i()]]}function ah(s){const i=Dn,l=()=>Ln(s);return[[i(),i(),i(),i()],[l(),l(),l(),i()],[l(),i(),i(),i()],[i(),i(),i(),i()]]}function uh(){const s=Kr(),i=()=>({color:Kr(),isFilled:!1}),l=()=>({color:s,isFilled:!0}),d=[[l(),i(),i(),i()],[i(),l(),i(),i()],[i(),i(),l(),i()],[i(),i(),i(),l()]],u=Math.floor(Math.random()*2);let c=ks(d);for(let p=0;p<u;p++)c=On(c);return c}function Ns(){const s=Kr(),i=()=>({color:Kr(),isFilled:!1}),l=()=>({color:s,isFilled:!0}),d=[{template:[[i(),i(),i(),i()],[i(),i(),i(),i()],[l(),l(),l(),l()],[i(),i(),i(),i()]],rotations:2},{template:[[i(),i(),i(),i()],[i(),l(),l(),i()],[i(),l(),l(),i()],[i(),i(),i(),i()]],rotations:1},{template:[[i(),i(),i(),i()],[i(),l(),i(),i()],[l(),l(),l(),i()],[i(),i(),i(),i()]],rotations:4},{template:[[i(),i(),i(),i()],[i(),l(),l(),i()],[l(),l(),i(),i()],[i(),i(),i(),i()]],rotations:2},{template:[[i(),i(),i(),i()],[l(),l(),i(),i()],[i(),l(),l(),i()],[i(),i(),i(),i()]],rotations:2},{template:[[i(),i(),i(),i()],[l(),i(),i(),i()],[l(),l(),l(),i()],[i(),i(),i(),i()]],rotations:4},{template:[[i(),i(),i(),i()],[l(),l(),l(),i()],[l(),i(),i(),i()],[i(),i(),i(),i()]],rotations:4}],{template:u,rotations:c}=d[Math.floor(Math.random()*d.length)],p=Math.floor(Math.random()*c);let v=ks(u);for(let h=0;h<p;h++)v=On(v);return v}function ch(s){const i=new Array(11).fill(null).map(()=>new Array(11).fill(!1));for(let l=1;l<=10;l++)for(let d=1;d<=10;d++){const u=s.get(Ts(l,d));u!=null&&u.isFilled&&(i[l][d]=!0)}for(let l=1;l<=7;l++)for(let d=1;d<=7;d++)if(dh(i,l,d))return!0;return!1}function dh(s,i,l){const d=jc(s,i,l,!0),u=Ic(s,i,l,!0);if(d&&u)return!0;const c=jc(s,i,l,!1),p=Ic(s,i,l,!1);return c&&p}function jc(s,i,l,d){for(let u=0;u<4;u++){const c=i+u,p=d?l+u:l+(3-u);if(!fh(s,c,p))return!1}return!0}function Ic(s,i,l,d){for(let u=0;u<4;u++){const c=l+u,p=d?i+u:i+(3-u);if(!ph(s,c,p))return!1}return!0}function fh(s,i,l){let d=0,u=!1;for(let c=1;c<=10;c++)s[i][c]?d++:c===l&&(u=!0);return d===9&&u}function ph(s,i,l){let d=0,u=!1;for(let c=1;c<=10;c++)s[c][i]?d++:c===l&&(u=!0);return d===9&&u}const hh=["grey","red","orange","yellow","green","blue","purple"],mh=()=>{const{state:s,closeEditor:i,setTool:l,setColor:d,cycleTool:u,hideInstructions:c,toggleGridDots:p}=ml(),v=at(),h=D.useCallback(y=>{const m=s.selectedColor;let g;switch(y){case"I":g=nh(m);break;case"O":g=rh(m);break;case"T":g=oh(m);break;case"S":g=lh(m);break;case"Z":g=ih(m);break;case"J":g=sh(m);break;case"L":g=ah(m);break;default:return}v({type:"DEBUG_REPLACE_FIRST_SHAPE",value:{shape:g}})},[s.selectedColor,v]);return D.useEffect(()=>{if(!s.isEditorOpen)return;const y=m=>{m.preventDefault();const g=m.deltaY>0?"forward":"backward";u(g)};return globalThis.addEventListener("wheel",y,{passive:!1}),()=>{globalThis.removeEventListener("wheel",y)}},[s.isEditorOpen,u]),D.useEffect(()=>{if(!s.isEditorOpen)return;const y=m=>{m.key==="Escape"&&i()};return globalThis.addEventListener("keydown",y),()=>{globalThis.removeEventListener("keydown",y)}},[s.isEditorOpen,i]),s.isEditorOpen?Ss.createPortal(w.jsxs(w.Fragment,{children:[s.showInstructions&&w.jsx("div",{className:"debug-editor-overlay",children:w.jsxs("div",{className:"debug-editor-container",children:[w.jsxs("div",{className:"debug-editor-header",children:[w.jsx("h2",{className:"debug-editor-title",children:"Debug Editor"}),w.jsx("button",{className:"debug-close-button",onClick:i,children:"Close"})]}),w.jsxs("div",{className:"debug-editor-content",children:[w.jsxs("div",{className:"debug-instructions",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Add Block Tool:"})," Click any tile to add a block with the selected color."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fill Row Tool:"})," Click any tile to fill all tiles in that row (except the clicked tile) with the selected color."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fill Column Tool:"})," Click any tile to fill all tiles in that column (except the clicked tile) with the selected color."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Remove Tool:"})," Click any tile to remove its block."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Clear All Tool:"})," Click any tile to remove all blocks from the entire grid."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Mouse Wheel:"})," Scroll to cycle between tools."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Color Picker:"})," Select the color for blocks placed by add and fill tools."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Shape Picker:"})," Click a shape button to remove the first shape and add that shape type (in the selected color) to the end of the queue."]})]}),w.jsx("div",{className:"debug-instructions-actions",children:w.jsx("button",{className:"debug-continue-button",onClick:c,children:"Continue"})})]})]})}),w.jsxs("div",{className:"debug-tool-palette",children:[w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"Tools"}),w.jsxs("div",{className:"debug-tools-grid",children:[w.jsx("button",{className:`debug-tool-button ${s.currentTool==="add-block"?"active":""}`,onClick:()=>l("add-block"),title:"Add Block",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="fill-row"?"active":""}`,onClick:()=>l("fill-row"),title:"Fill Row (except clicked tile)",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="fill-column"?"active":""}`,onClick:()=>l("fill-column"),title:"Fill Column (except clicked tile)",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="remove"?"active":""}`,onClick:()=>l("remove"),title:"Remove Block",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="clear-all"?"active":""}`,onClick:()=>l("clear-all"),title:"Clear All Blocks",children:""})]})]}),w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"Color"}),w.jsx("div",{className:"color-picker-grid",children:hh.map(y=>w.jsx("button",{className:`color-picker-button color-${y} ${s.selectedColor===y?"active":""}`,onClick:()=>d(y),title:y},y))})]}),w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"Shape Picker"}),w.jsxs("div",{className:"shape-picker-grid",children:[w.jsx("button",{className:"shape-picker-button",onClick:()=>h("I"),title:"I-Piece (4-block line)",children:"I"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>h("O"),title:"O-Piece (2x2 square)",children:"O"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>h("T"),title:"T-Piece",children:"T"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>h("S"),title:"S-Piece",children:"S"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>h("Z"),title:"Z-Piece",children:"Z"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>h("J"),title:"J-Piece",children:"J"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>h("L"),title:"L-Piece",children:"L"})]})]}),w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"View Options"}),w.jsx("div",{className:"debug-tools-grid",children:w.jsx("button",{className:`debug-tool-button ${s.showGridDots?"active":""}`,onClick:p,title:"Toggle Dragging Shape Grid Dots",children:""})})]}),w.jsx("div",{className:"debug-tool-section",children:w.jsx("button",{className:"debug-close-editor-button",onClick:i,children:"Close Editor"})})]})]}),document.body):null},gh={dark:{name:"dark",displayName:"Dark Mode",colors:{background:"rgb(25, 25, 25)",gameBackground:"rgb(25, 25, 25)",gridBackground:"rgb(40, 40, 40)",text:"rgb(255, 255, 255)",textSecondary:"rgb(200, 200, 200)",border:"rgb(60, 60, 60)",buttonBg:"rgb(50, 50, 50)",buttonText:"rgb(255, 255, 255)",buttonHover:"rgb(70, 70, 70)",overlayBg:"rgba(0, 0, 0, 0.85)",overlayText:"rgb(255, 255, 255)",tileEmpty:"rgb(30, 30, 30)",tileBorder:"rgb(50, 50, 50)"}},light:{name:"light",displayName:"Light Mode",colors:{background:"rgb(245, 245, 245)",gameBackground:"rgb(255, 255, 255)",gridBackground:"rgb(250, 250, 250)",text:"rgb(20, 20, 20)",textSecondary:"rgb(80, 80, 80)",border:"rgb(200, 200, 200)",buttonBg:"rgb(230, 230, 230)",buttonText:"rgb(20, 20, 20)",buttonHover:"rgb(210, 210, 210)",overlayBg:"rgba(255, 255, 255, 0.95)",overlayText:"rgb(20, 20, 20)",tileEmpty:"rgb(255, 255, 255)",tileBorder:"rgb(220, 220, 220)"}},"block-blast":{name:"block-blast",displayName:"Having A Blast",colors:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gameBackground:"rgba(255, 255, 255, 0.1)",gridBackground:"rgba(255, 255, 255, 0.15)",text:"rgb(255, 255, 255)",textSecondary:"rgba(255, 255, 255, 0.8)",border:"rgba(255, 255, 255, 0.3)",buttonBg:"rgba(255, 255, 255, 0.2)",buttonText:"rgb(255, 255, 255)",buttonHover:"rgba(255, 255, 255, 0.3)",overlayBg:"rgba(102, 126, 234, 0.95)",overlayText:"rgb(255, 255, 255)",tileEmpty:"rgba(255, 255, 255, 0.05)",tileBorder:"rgba(255, 255, 255, 0.2)"}}},vh=()=>{const{currentTheme:s}=tt(),i=at(),l=d=>{i({type:"SET_THEME",value:{theme:d}})};return w.jsxs("div",{className:"menu-item theme-selector",children:[w.jsx("span",{className:"menu-label",children:"Theme"}),w.jsx("div",{className:"theme-buttons",children:Object.values(gh).map(d=>w.jsx("button",{className:`theme-button ${s===d.name?"active":""}`,onClick:()=>l(d.name),title:d.displayName,children:d.displayName},d.name))})]})},yh=({onShowTutorial:s})=>{const[i,l]=D.useState(!1),[d,u]=D.useState(!1),c=D.useRef(null),p=D.useRef(null),{isMuted:v,toggleMute:h}=hl(),{isMuted:y,toggleMute:m}=Jp(),g=at(),{openEditor:E}=ml(),[N,T]=D.useState(!1),[M,O]=D.useState(0);D.useEffect(()=>{ud().then(T)},[]),D.useEffect(()=>{i||O(0);const $=Y=>{i&&Y.key==="Escape"&&l(!1)};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[i]);const G=$=>{const Y=M+1;O(Y),Y>=20&&(T(!0),ad(!0),g({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:20},mousePosition:{x:$.clientX,y:$.clientY}}}))},F=()=>{l(!i)},A=()=>{u(!d)},j=async()=>{try{await yd(),g({type:"RESET_GAME"}),globalThis.location.reload()}catch($){console.error("Failed to reset game:",$),g({type:"RESET_GAME"})}},X=()=>{globalThis.confirm(` WARNING: This will delete ALL data including your settings, clear the cache, and reload the app from the server.

This is only needed if the app is in a bad state.

Are you sure you want to continue?`)&&(localStorage.removeItem("hasSeenTutorial"),wd().catch(Y=>{console.error("Failed to clear all data:",Y),alert("Failed to clear data completely. Reloading anyway..."),globalThis.location.reload()}))},q=$=>{const Y={x:$.clientX,y:$.clientY};g({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:1e3},mousePosition:Y}})},te=$=>{$.target===$.currentTarget&&l(!1)};return D.useEffect(()=>{const $=Y=>{Y.key==="Escape"&&l(!1)};return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[]),w.jsxs("div",{className:"menu-dropdown",ref:c,children:[w.jsx("button",{ref:p,className:"hamburger-button",onClick:F,title:"Menu","aria-label":"Open menu","aria-expanded":i,children:w.jsxs("div",{className:"hamburger-lines",children:[w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{})]})}),i&&Ss.createPortal(w.jsx("div",{className:"dropdown-overlay",onClick:te,children:w.jsxs("div",{className:"dropdown-content",children:[w.jsxs("div",{className:"menu-item",children:[w.jsxs("label",{className:"toggle-switch",title:v?"Turn on music":"Turn off music",children:[w.jsx("input",{type:"checkbox",checked:!v,onChange:h,className:"toggle-input","aria-label":v?"Turn on background music":"Turn off background music"}),w.jsx("span",{className:"toggle-slider"})]}),w.jsx("span",{className:"menu-label",children:"Music"})]}),w.jsxs("div",{className:"menu-item",children:[w.jsxs("label",{className:"toggle-switch",title:y?"Turn on sound effects":"Turn off sound effects",children:[w.jsx("input",{type:"checkbox",checked:!y,onChange:m,className:"toggle-input","aria-label":y?"Turn on sound effects":"Turn off sound effects"}),w.jsx("span",{className:"toggle-slider"})]}),w.jsx("span",{className:"menu-label",children:"Sound Effects"})]}),w.jsx(vh,{}),s&&w.jsx("div",{className:"menu-item",children:w.jsx("button",{className:"menu-action-button",onClick:()=>{s(),l(!1)},title:"Show the tutorial overlay",children:"Tutorial"})}),w.jsx("div",{className:"menu-item",children:w.jsx("button",{className:"menu-action-button",onClick:j,title:"Reset the game and clear all saved data (preserves settings)",children:"New Game"})}),w.jsx("div",{className:"menu-item",children:w.jsx("a",{className:"menu-action-button menu-link-button",href:"/strategy-guide.html",title:"Read the Tetrix strategy guide",children:"Strategy Guide"})}),w.jsx("div",{className:"menu-item debug-submenu",children:N?w.jsxs("button",{className:"debug-toggle",onClick:A,"aria-expanded":d,children:[w.jsx("span",{className:"menu-label",children:"Debug"}),w.jsx("span",{className:`debug-arrow ${d?"open":""}`,children:""})]}):w.jsx("button",{className:"debug-toggle hidden-debug-trigger",onClick:G,style:{opacity:0,cursor:"default"},"aria-hidden":"true",children:w.jsx("span",{className:"menu-label",children:"Debug"})})}),d&&w.jsxs("div",{className:"debug-submenu-content",children:[w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button",onClick:q,title:"Inject points to test the gem shower system! Try 100, 1000, or 999999 points.",children:"Inject Points"})}),w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button",onClick:()=>{E(),l(!1)},title:"Open the debug editor to manually edit the game grid",children:"Debug Editor"})}),w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button",onClick:()=>{g({type:"OPEN_MAP"}),l(!1)},title:"Open the Level Map overlay (dev only)",children:"Open Level Map"})}),w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button danger",onClick:X,title:" Nuclear option: Clear ALL data including settings and reload fresh from server",children:"Clear All Data"})})]}),w.jsxs("div",{className:"menu-qr-code",children:[w.jsx("p",{className:"qr-label",children:"Share this game"}),w.jsx("div",{className:"qr-code-wrapper",children:w.jsx(Jc,{value:"https://tetrix-game.github.io",size:128,bgColor:"#023f80",fgColor:"#ffffff"})})]})]})}),document.body)]})},wh=()=>{const{gameState:s}=tt(),i=at(),l=d=>{if(d.shiftKey){i(s==="playing"?{type:"OPEN_MAP"}:{type:"CLOSE_MAP"});return}if(s==="playing"){const u=new CustomEvent("tetrix-show-toast",{detail:{message:"Level Map Coming Soon!"}});window.dispatchEvent(u)}else i({type:"CLOSE_MAP"})};return w.jsx("button",{className:"location-button",onClick:l,"aria-label":"Toggle Level Map",children:w.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),w.jsx("path",{d:"M12 6.5l1.09 2.21 2.44.36-1.77 1.72.42 2.44L12 11.77l-2.18 1.46.42-2.44-1.77-1.72 2.44-.36L12 6.5z",fill:"currentColor"})]})})},Sh=()=>{const s=D.useRef(null),{hasPlacedFirstShape:i}=tt(),{isMuted:l,shouldPlayMusic:d,triggerAutoplay:u}=hl(),c=D.useRef(!1),p=Oe.useMemo(()=>["/sound/bgm/Jazz2_KEY_C_in_C.mp3","/sound/bgm/Jazz3_KEY_Ab_in_C.mp3","/sound/bgm/Jazz4_KEY_C_in_C.mp3"],[]);return D.useEffect(()=>{if(i&&!c.current){const v=setTimeout(()=>{c.current=!0,u()},1e3);return()=>clearTimeout(v)}else!i&&c.current&&(c.current=!1)},[i,u]),D.useEffect(()=>{const v=s.current;if(!v)return;const h=()=>{const g=Math.floor(Math.random()*p.length);return p[g]},y=async()=>{if(d&&!l){v.src=h(),v.loop=!1,v.volume=.3;try{await v.play()}catch(g){console.log("Auto-play was prevented by browser policy:",g)}}},m=()=>{d&&!l&&y()};return v.addEventListener("ended",m),d&&!l?v.paused&&y():v.pause(),()=>{v.removeEventListener("ended",m)}},[d,l,p]),w.jsx("div",{className:"background-music",children:w.jsx("audio",{ref:s,preload:"auto",children:w.jsx("track",{kind:"captions"})})})};function Eh(s,i){const l=Math.pow(s,2),d=Math.pow(i,2),u=s>0&&i>0?s*i*2:0,p=(l+d+u)*5;return{rowsCleared:s,columnsCleared:i,pointsEarned:p}}function xh(s){if(s<1e3)return s.toString();const i=[{value:1e18,suffix:"Q"},{value:1e15,suffix:"q"},{value:1e12,suffix:"t"},{value:1e9,suffix:"b"},{value:1e6,suffix:"m"},{value:1e3,suffix:"k"}];for(const{value:l,suffix:d}of i)if(s>=l){const u=s/l;return u>=100?Math.round(u)+d:(Math.round(u*10)/10).toFixed(1)+d}return s.toString()}const Td=({size:s,className:i=""})=>{const l=s?{width:s,height:s}:{};return w.jsxs("svg",{...l,viewBox:"0 0 24 24",className:`blue-gem-icon ${i}`,xmlns:"http://www.w3.org/2000/svg",children:[w.jsxs("defs",{children:[w.jsxs("linearGradient",{id:"blueGemGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[w.jsx("stop",{offset:"0%",stopColor:"#87CEEB"}),w.jsx("stop",{offset:"30%",stopColor:"#4169E1"}),w.jsx("stop",{offset:"70%",stopColor:"#1E3A8A"}),w.jsx("stop",{offset:"100%",stopColor:"#0F1629"})]}),w.jsxs("linearGradient",{id:"blueGemGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"#B0E0E6"}),w.jsx("stop",{offset:"50%",stopColor:"#4682B4"}),w.jsx("stop",{offset:"100%",stopColor:"#2E3A59"})]}),w.jsxs("linearGradient",{id:"blueGemHighlight",x1:"0%",y1:"0%",x2:"70%",y2:"30%",children:[w.jsx("stop",{offset:"0%",stopColor:"#E0F6FF",stopOpacity:"0.8"}),w.jsx("stop",{offset:"100%",stopColor:"#87CEEB",stopOpacity:"0.3"})]}),w.jsxs("filter",{id:"gemGlow",children:[w.jsx("feGaussianBlur",{stdDeviation:"0.5"}),w.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.25 0 0 0 0 0.41 0 0 0 0 0.88 0 0 0 0.8 0"})]})]}),w.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"url(#blueGemGradient1)",stroke:"#1E40AF",strokeWidth:"0.5"}),w.jsx("path",{d:"M12 2 L18 8 L12 10 L6 8 Z",fill:"url(#blueGemGradient2)",stroke:"#2563EB",strokeWidth:"0.3"}),w.jsx("path",{d:"M6 8 L12 10 L12 22 Z",fill:"url(#blueGemGradient1)",opacity:"0.7"}),w.jsx("path",{d:"M12 10 L18 8 L12 22 Z",fill:"#1E3A8A",opacity:"0.6"}),w.jsx("path",{d:"M12 2 L15 6 L12 8 L9 6 Z",fill:"url(#blueGemHighlight)"}),w.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"none",stroke:"#4169E1",strokeWidth:"0.5",filter:"url(#gemGlow)",opacity:"0.6"})]})},Ch=[{title:"General",categories:["shapesPlaced","linesCleared"],className:"stats-group-general"},{title:"Rows",categories:["rowsCleared","doubleRows","tripleRows","quadrupleRows","doubleRowsWithSingleColumns","tripleRowsWithSingleColumns","tripleRowsWithDoubleColumns","quadrupleRowsWithSingleColumns"]},{title:"Columns",categories:["columnsCleared","doubleColumns","tripleColumns","quadrupleColumns","doubleColumnsWithSingleRows","tripleColumnsWithDoubleRows","tripleColumnsWithSingleRows","quadrupleColumnsWithSingleRows"]},{title:"Squares",categories:["singleColumnBySingleRow","doubleColumnByDoubleRow"]},{title:"Legendary",categories:["quadrupleRowByQuadrupleColumn"],className:"stats-group-legendary"}],kh={shapesPlaced:"Shapes Placed",linesCleared:"Lines Cleared",rowsCleared:"Rows Cleared",doubleRows:"2R",tripleRows:"3R",quadrupleRows:"4R",doubleRowsWithSingleColumns:"2R x 1C",tripleRowsWithSingleColumns:"3R x 1C",tripleRowsWithDoubleColumns:"3R x 2C",quadrupleRowsWithSingleColumns:"4R x 1C",columnsCleared:"Columns Cleared",doubleColumns:"2C",tripleColumns:"3C",quadrupleColumns:"4C",doubleColumnsWithSingleRows:"2C x 1R",tripleColumnsWithDoubleRows:"3C x 2R",tripleColumnsWithSingleRows:"3C x 1R",quadrupleColumnsWithSingleRows:"4C x 1R",singleColumnBySingleRow:"1R x 1C",doubleColumnByDoubleRow:"2R x 2C",quadrupleRowByQuadrupleColumn:"4R x 4C"},Th=["blue","green","red","yellow","purple","orange"],Nh=({onClose:s})=>{const{stats:i,gameState:l}=tt(),d=at(),u=()=>{d({type:"RESET_GAME"}),s()},c=p=>{const v=i.allTime[p],h=i.highScore[p],y=i.current[p];if(v.total===0)return null;const m=y.total>0&&y.total>=h.total;return w.jsxs("div",{className:"stat-row-container",children:[w.jsxs("div",{className:"stat-row main-stat",children:[w.jsx("div",{className:"stat-label",children:kh[p]}),w.jsx("div",{className:"stat-value",children:v.total}),w.jsx("div",{className:"stat-value",children:h.total}),w.jsxs("div",{className:`stat-value ${m?"highlight":""}`,children:[y.total,m&&y.total>0&&w.jsx("span",{className:"streak-indicator",children:""})]})]}),Th.map(g=>{const E=v.colors[g]||0;if(E===0)return null;const N=y.colors[g]||0,T=h.colors[g]||0,M=N>0&&N>=T;return w.jsxs("div",{className:"stat-row color-stat",style:{"--stat-color":`var(--color-${g})`},children:[w.jsxs("div",{className:"stat-label",style:{color:`var(--color-${g})`},children:[" ",g.charAt(0).toUpperCase()+g.slice(1)]}),w.jsx("div",{className:"stat-value",children:E}),w.jsx("div",{className:"stat-value",children:T}),w.jsx("div",{className:`stat-value ${M?"highlight":""}`,children:N})]},`${p}-${g}`)})]},p)};return w.jsx("div",{className:"stats-overlay-backdrop",onClick:s,children:w.jsxs("div",{className:"stats-overlay-content",onClick:p=>p.stopPropagation(),children:[w.jsxs("div",{className:"stats-header",children:[w.jsx("h2",{children:"Statistics"}),w.jsx("button",{className:"close-button",onClick:s,children:""})]}),w.jsxs("div",{className:"stats-table-header",children:[w.jsx("div",{className:"header-label",children:"Category"}),w.jsx("div",{className:"header-value",children:"All Time"}),w.jsx("div",{className:"header-value",children:"Best"}),w.jsx("div",{className:"header-value",children:"Current"})]}),w.jsx("div",{className:"stats-scroll-container",children:Ch.map((p,v)=>{const h=p.categories.map(c).filter(Boolean);return h.length===0?null:w.jsxs("div",{className:`stats-group ${p.className||""}`,children:[v>0&&w.jsx("div",{className:`group-divider ${p.className==="stats-group-legendary"?"legendary-divider":""}`}),h]},p.title)})}),l==="gameover"&&w.jsx("div",{className:"stats-footer",children:w.jsx("button",{className:"new-game-button",onClick:u,children:"New Game"})})]})})},Ph=({targetPosition:s,isVisible:i,message:l,arrowLength:d=100,offsetFromTarget:u=60})=>{const c=D.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]);if(!i||!s)return null;const p={x:s.x-c.x,y:s.y-c.y},h=Math.atan2(p.y,p.x)*(180/Math.PI),y=Math.sqrt(p.x*p.x+p.y*p.y),m={x:p.x/y,y:p.y/y},g={x:s.x-m.x*u,y:s.y-m.y*u};return w.jsxs("div",{className:"attention-arrow-container",style:{left:g.x,top:g.y,transform:`translate(-50%, -50%) rotate(${h}deg)`,"--arrow-length":`${d}px`},children:[w.jsxs("div",{className:"attention-arrow-body",children:[w.jsx("div",{className:"attention-arrow-shaft"}),w.jsx("div",{className:"attention-arrow-head"})]}),l&&w.jsx("div",{className:"attention-arrow-message",style:{transform:`rotate(${-h}deg)`},children:l})]})},Fc=(s,i=1200)=>{const[l,d]=D.useState(!1);return D.useEffect(()=>{if(s){d(!0);const u=setTimeout(()=>d(!1),i);return()=>clearTimeout(u)}},[s,i]),l},_h=()=>{const{score:s,gameState:i,isStatsOpen:l,insufficientFundsError:d,gemIconPosition:u}=tt(),c=at(),p=D.useRef(null),v=Fc(d),h=Fc(d,2500);D.useEffect(()=>{if(p.current){const g=()=>{var N;const E=(N=p.current)==null?void 0:N.getBoundingClientRect();if(E){const T={x:E.left+E.width/2,y:E.top+E.height/2};c({type:"UPDATE_GEM_ICON_POSITION",value:T})}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)}},[c]);const y=()=>{c({type:"OPEN_STATS"})},m=()=>{c({type:"CLOSE_STATS"})};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`score-display ${i==="gameover"?"score-display-pulsing":""} ${v?"error-pulse":""}`,onClick:y,style:{cursor:"pointer"},title:"Click to view stats",children:[w.jsx("div",{ref:p,children:w.jsx(Td,{})}),w.jsx("span",{className:"score-display-value",children:xh(s)})]}),w.jsx(Ph,{targetPosition:u,isVisible:h,message:"Need points to turn shapes!",offsetFromTarget:50}),l&&w.jsx(Nh,{onClose:m})]})};let pl=null;function Rn(s,i){pl?pl(s,i):console.warn("SoundEffectsProvider not initialized yet")}const Nd=D.createContext(void 0),Rh=({children:s})=>{const[i,l]=D.useState(!1),d=D.useRef(new Map),u=D.useRef(null),c=D.useRef(!1);D.useEffect(()=>{(async()=>{const g=window.AudioContext||window.webkitAudioContext;if(!g)return;const E=new g;u.current=E;const N={click_into_place:"/sound/soundEffects/click_into_place.mp3",game_over:"/sound/soundEffects/game_over.mp3",pickup_shape:"/sound/soundEffects/pickup_shape.mp3",invalid_placement:"/sound/soundEffects/Invalid_Placement.mp3",clear_combo_1:"/sound/soundEffects/clear-combo-1.mp3",clear_combo_2:"/sound/soundEffects/clear-combo-2.mp3",clear_combo_3:"/sound/soundEffects/clear-combo-3.mp3",clear_combo_4:"/sound/soundEffects/clear-combo-4.mp3"};for(const[T,M]of Object.entries(N))try{const G=await(await fetch(M)).arrayBuffer(),F=await E.decodeAudioData(G);d.current.set(T,F),console.log(`Loaded sound: ${T}`)}catch(O){console.error(`Failed to load sound ${T}:`,O)}})()},[]),D.useEffect(()=>{const m=()=>{var g;c.current=!0,((g=u.current)==null?void 0:g.state)==="suspended"&&u.current.resume(),document.removeEventListener("click",m),document.removeEventListener("keydown",m)};return document.addEventListener("click",m,{once:!0}),document.addEventListener("keydown",m,{once:!0}),()=>{document.removeEventListener("click",m),document.removeEventListener("keydown",m)}},[]),D.useEffect(()=>{(async()=>{try{const g=await pd();l(g)}catch{try{const g=localStorage.getItem("tetrix-soundeffects-muted");l(g?JSON.parse(g):!1)}catch{l(!1)}}})()},[]);const p=D.useCallback(m=>{const g=u.current;if(!g)return;const E=g.createOscillator(),N=g.createGain();E.connect(N),N.connect(g.destination),E.type="sine",E.frequency.setValueAtTime(60,m),E.frequency.exponentialRampToValueAtTime(40,m+.1),N.gain.setValueAtTime(0,m),N.gain.linearRampToValueAtTime(.3,m+.02),N.gain.exponentialRampToValueAtTime(.001,m+.2),E.start(m),E.stop(m+.25);const T=m+.25,M=g.createOscillator(),O=g.createGain();M.connect(O),O.connect(g.destination),M.type="sine",M.frequency.setValueAtTime(60,T),M.frequency.exponentialRampToValueAtTime(40,T+.1),O.gain.setValueAtTime(0,T),O.gain.linearRampToValueAtTime(.25,T+.02),O.gain.exponentialRampToValueAtTime(.001,T+.2),M.start(T),M.stop(T+.25)},[]),v=D.useCallback((m,g)=>{if(!c.current||i)return;if(m==="heartbeat"){const T=u.current;if(T){const M=performance.now(),O=(g??M)-M,G=T.currentTime+Math.max(0,O/1e3);p(G)}return}const E=u.current,N=d.current.get(m);if(E&&N){const T=E.createBufferSource();T.buffer=N;const M=E.createGain();M.gain.value=.2,T.connect(M),M.connect(E.destination);const O=performance.now(),G=(g??O)-O,F=E.currentTime+Math.max(0,G/1e3);T.start(F),console.log(`Playing sound: ${m} at ${F}`)}else console.warn(`Sound effect '${m}' not found or context not ready`)},[i,p]);D.useEffect(()=>(pl=v,()=>{pl=null}),[v]);const h=D.useCallback(m=>{l(m),id(m).catch(g=>{console.error("Failed to save sound effects mute state:",g);try{localStorage.setItem("tetrix-soundeffects-muted",JSON.stringify(m))}catch(E){console.error("Failed to save to localStorage:",E)}})},[]),y={playSound:v,setMuted:h,isMuted:i};return w.jsx(Nd.Provider,{value:y,children:s})},Ps=()=>{const s=D.useContext(Nd);if(!s)throw new Error("useSoundEffects must be used within a SoundEffectsProvider");return s},Mh=({onShowTutorial:s})=>{const{isMuted:i,setMuted:l}=Ps();hl();const d=D.useCallback(()=>{l(!i)},[i,l]),u=D.useMemo(()=>({isMuted:i,toggleMute:d}),[i,d]);return w.jsx(Ed.Provider,{value:u,children:w.jsxs("div",{className:"header",children:[w.jsx(Sh,{}),w.jsx(yh,{onShowTutorial:s}),w.jsx("div",{className:"header-center",children:w.jsx(_h,{})}),w.jsx(wh,{})]})})};function _s({block:s,size:i}){if(!s.isFilled)return w.jsx(w.Fragment,{});const l={};return i!==void 0&&(l["--block-border-width"]=`${i*.2}px`,l["--block-shadow-inset"]=`${i*.5}px`),w.jsx("div",{className:`block-visual block-color-${s.color}`,style:l})}const Oh=({tile:s,isHovered:i=!1,hoveredBlock:l,onClick:d,size:u})=>{const{dragState:c,tiles:p}=tt(),[,v]=D.useState(0);D.useEffect(()=>{const F=`R${s.location.row}C${s.location.column}`,A=p.get(F);if(!(A!=null&&A.activeAnimations)||A.activeAnimations.length===0)return;let j;const X=()=>{v(q=>q+1),j=requestAnimationFrame(X)};return j=requestAnimationFrame(X),()=>cancelAnimationFrame(j)},[p,s.location.row,s.location.column]);const h=`R${s.location.row}C${s.location.column}`,y=p.get(h),m=(y==null?void 0:y.activeAnimations)||[],g=performance.now(),E=m.filter(F=>g>=F.startTime&&g<F.startTime+F.duration),N=s.block,T=i&&l,O=`tile-visual ${(s.location.row+s.location.column)%2===0?"tile-visual-dark":"tile-visual-light"}`;let G=0;return T&&(G=c.isValidPlacement?.7:.4),w.jsxs("div",{className:O,style:{gridColumn:s.location.column,gridRow:s.location.row},onClick:d,children:[w.jsx(_s,{block:N,size:u}),T&&w.jsx("div",{className:"tile-visual-shadow",style:{"--shadow-opacity":G}}),E.map(F=>{const A=g-F.startTime,j=Math.min(A/F.duration,1),X=Math.max(0,F.startTime-g),q={"--animation-progress":j,"--animation-duration":`${F.duration}ms`,"--animation-delay":`${X}ms`};if(F.color&&(q["--animation-color"]=F.color),F.type==="row-quad"||F.type==="column-quad"){const te=F.beatCount??3,$=F.finishDuration??0,Y=(F.duration-$)/te;q["--beat-count"]=te,q["--animation-duration"]=`${Y}ms`,q["--finish-duration"]=`${$}ms`}return w.jsx("div",{className:`tile-visual-clearing ${F.type}`,style:q},F.id)})]})},Ah=Oe.memo(Oh),Jr=()=>{const[s,i]=D.useState({width:window.innerWidth,height:window.innerHeight});return D.useEffect(()=>{const d=()=>{i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),D.useMemo(()=>{const{width:d,height:u}=s,c=d>=u,p=u*.9,v=d,h=20,y=40;let m,g,E;if(c){const G=v-h-y,F=p-y,j=G*(1-.35);m=Math.min(j,F),E=Math.min(G-m,m*.6);const X=m+h+E;if(X>v-y){const q=(v-y)/X;m*=q,E*=q}g=m}else{const G=p-h-y,F=v-y,j=G*(1-.35);m=Math.min(j,F),E=Math.min(G-m,m*.6);const X=m+h+E;if(X>p-y){const q=(p-y)/X;m*=q,E*=q}g=m}const N=2,T=N*9,M=(m-T)/10,O=E*.9;return{gridSize:m,gridCellSize:M,gridGap:N,gameControlsLength:g,gameControlsWidth:E,buttonSize:O}},[s])};function Dh(){const{state:s}=ml(),i=at(),l=D.useCallback(d=>{if(s.isEditorOpen)switch(s.currentTool){case"add-block":i({type:"DEBUG_ADD_BLOCK",value:{location:d,color:s.selectedColor}});break;case"fill-row":i({type:"DEBUG_FILL_ROW",value:{row:d.row,excludeColumn:d.column,color:s.selectedColor}});break;case"fill-column":i({type:"DEBUG_FILL_COLUMN",value:{column:d.column,excludeRow:d.row,color:s.selectedColor}});break;case"remove":i({type:"DEBUG_REMOVE_BLOCK",value:{location:d}});break;case"clear-all":i({type:"DEBUG_CLEAR_ALL"});break}},[s.isEditorOpen,s.currentTool,s.selectedColor,i]);return{isDebugMode:s.isEditorOpen,handleDebugClick:l}}const Rs={PICKUP_DURATION:300,PLACING_DURATION:300,RETURN_DURATION:300,PLACEMENT_SOUND_DURATION:97,REMOVAL_DURATION:300,INVALID_BLOCK_ANIMATION_DURATION:200};function Lh(s,i){var l,d;switch(i.type){case"SELECT_SHAPE":{const{shapeIndex:u}=i.value,c=s.nextShapes[u],p=s.shapeOptionBounds[u];if(!c||!p)return s;const v=document.querySelector(".grid");if(!v)return{...s,dragState:{phase:"picking-up",selectedShape:c,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:p.left,y:p.top,width:p.width,height:p.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:null}};const h=v.getBoundingClientRect(),y=2,m=9*y,g=(h.width-m)/10,{offsetX:E,offsetY:N}=eh(c,g,y),T=4*g+3*y,M=4*g+3*y,O=-T/2-E,G=-M/2-N,A="ontouchstart"in globalThis||navigator.maxTouchPoints>0?g*2.5:0;return{...s,dragState:{phase:"picking-up",selectedShape:c,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:p.left,y:p.top,width:p.width,height:p.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:{visualOffsetX:E,visualOffsetY:N,gridOffsetX:O,gridOffsetY:G,touchOffset:A,tileSize:g,gridGap:y}}}}case"UPDATE_MOUSE_LOCATION":{const{location:u,position:c,tileSize:p,gridBounds:v,isValid:h,invalidBlocks:y}=i.value;if(s.dragState.phase==="placing"||s.dragState.phase==="returning")return{...s,mouseGridLocation:u,mousePosition:c??s.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:p??s.gridTileSize??null,gridBounds:v??s.gridBounds??null,dragState:s.dragState};const m=s.dragState.selectedShape&&u?vs(s.dragState.selectedShape,u):[],g=y??[],N=s.dragState.phase==="picking-up"&&s.dragState.startTime&&performance.now()-s.dragState.startTime>Rs.PICKUP_DURATION?{...s.dragState,phase:"dragging",hoveredBlockPositions:m,invalidBlockPositions:g,isValidPlacement:h??!1}:{...s.dragState,hoveredBlockPositions:m,invalidBlockPositions:g,isValidPlacement:h??!1};return{...s,mouseGridLocation:u,mousePosition:c??s.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:p??s.gridTileSize??null,gridBounds:v??s.gridBounds??null,dragState:N}}case"PLACE_SHAPE":{const{location:u,mousePosition:c}=i.value;if(!s.dragState.selectedShape||s.dragState.selectedShapeIndex===null||!s.gridTileSize||!s.gridBounds)return s;const p=c||s.mousePosition;if(!p)return s;const v=((l=s.dragState.dragOffsets)==null?void 0:l.tileSize)??s.gridTileSize,h=((d=s.dragState.dragOffsets)==null?void 0:d.gridGap)??2;if(!v||!s.gridBounds)return s;const y=v+h,m=vs(s.dragState.selectedShape,u);let g=1/0,E=-1/0,N=1/0,T=-1/0;m.forEach(j=>{g=Math.min(g,j.location.row),E=Math.max(E,j.location.row),N=Math.min(N,j.location.column),T=Math.max(T,j.location.column)});const M=(g+E)/2,O=(N+T)/2,G=s.gridBounds.left+(O-1)*y+v/2,F=s.gridBounds.top+(M-1)*y+v/2,A=s.mousePosition?{x:s.mousePosition.x,y:s.mousePosition.y}:p;return{...s,dragState:{...s.dragState,phase:"placing",targetPosition:{x:G,y:F},placementLocation:u,placementStartPosition:A,hoveredBlockPositions:m,startTime:performance.now()},mouseGridLocation:u,mousePosition:p}}case"COMPLETE_RETURN":return{...s,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};case"RETURN_SHAPE_TO_SELECTOR":{if(s.dragState.selectedShape&&s.dragState.selectedShapeIndex!==null){const u=s.shapeOptionBounds[s.dragState.selectedShapeIndex];if(u&&(s.dragState.phase==="dragging"||s.dragState.phase==="picking-up"))return{...s,dragState:{...s.dragState,phase:"returning",sourcePosition:{x:u.left,y:u.top,width:u.width,height:u.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now()}}}return{...s,mouseGridLocation:null,mousePosition:s.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}}}case"CLEAR_SELECTION":return{...s,mouseGridLocation:null,mousePosition:s.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};default:return s}}function jh(s,i){switch(i.type){case"SET_AVAILABLE_SHAPES":{const{shapes:l}=i.value,d=[...l],u={...s,nextShapes:d,openRotationMenus:new Array(d.length).fill(!1),shapeOptionBounds:new Array(d.length).fill(null),newShapeAnimationStates:new Array(d.length).fill("none")};return We(void 0,void 0,d,u.savedShape).catch(c=>{console.error("Failed to save shapes state:",c)}),u}case"ROTATE_SHAPE":{const{shapeIndex:l,clockwise:d}=i.value;if(l<0||l>=s.nextShapes.length)return s;const u=[...s.nextShapes];let c=ks(u[l]);d?c=On(c):c=On(On(On(c))),u[l]=c;const p=s.dragState.selectedShapeIndex===l?{...s.dragState,selectedShape:c}:s.dragState,v={...s,nextShapes:u,dragState:p};return We(void 0,void 0,u,v.savedShape).catch(h=>{console.error("Failed to save shapes state:",h)}),v}case"ADD_SHAPE_OPTION":{const l=Ns(),d=[...s.nextShapes,l],u={...s,nextShapes:d,openRotationMenus:[...s.openRotationMenus,!1],shapeOptionBounds:[...s.shapeOptionBounds,null],newShapeAnimationStates:[...s.newShapeAnimationStates,"none"]};return We(void 0,void 0,d,u.savedShape).catch(c=>{console.error("Failed to save shapes state:",c)}),u}case"REMOVE_SHAPE_OPTION":{if(s.nextShapes.length<=1)return s;const l=s.nextShapes.slice(0,-1),d=s.openRotationMenus.slice(0,-1),u=s.shapeOptionBounds.slice(0,-1),c=s.newShapeAnimationStates.slice(0,-1),v=s.dragState.selectedShapeIndex===s.nextShapes.length-1?{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}:s.dragState,h={...s,nextShapes:l,openRotationMenus:d,shapeOptionBounds:u,newShapeAnimationStates:c,dragState:v};return We(void 0,void 0,l,h.savedShape).catch(y=>{console.error("Failed to save shapes state:",y)}),h}case"SET_SHAPE_OPTION_BOUNDS":{const{index:l,bounds:d}=i.value,u=[...s.shapeOptionBounds];return u[l]=d,{...s,shapeOptionBounds:u}}case"START_SHAPE_REMOVAL":{const{shapeIndex:l}=i.value;return{...s,removingShapeIndex:l,shapeRemovalAnimationState:"removing"}}case"COMPLETE_SHAPE_REMOVAL":{if(s.removingShapeIndex===null)return s;const l=s.removingShapeIndex,d=s.nextShapes.filter((p,v)=>v!==l),u=s.openRotationMenus.filter((p,v)=>v!==l),c=s.newShapeAnimationStates.filter((p,v)=>v!==l);return{...s,nextShapes:d,openRotationMenus:u,newShapeAnimationStates:c,shapeOptionBounds:new Array(d.length).fill(null),removingShapeIndex:null,shapeRemovalAnimationState:"none",shapesUsed:s.shapesUsed+1}}default:return s}}const Ht=10;function Zr(s,i){return`R${s}C${i}`}function Ih(s,i){for(let l=1;l<=Ht;l++){const d=s.get(Zr(i,l));if(!d||!d.isFilled)return!1}return!0}function Fh(s,i){for(let l=1;l<=Ht;l++){const d=s.get(Zr(l,i));if(!d||!d.isFilled)return!1}return!0}function zh(s){const i=[];for(let l=1;l<=Ht;l++)Ih(s,l)&&i.push(l);return i}function Bh(s){const i=[];for(let l=1;l<=Ht;l++)Fh(s,l)&&i.push(l);return i}function Uh(s,i){if(i.length===0)return s;const l=new Map(s),d=new Set(i);for(let u=1;u<=Ht;u++)if(d.has(u))for(let c=1;c<=Ht;c++)l.set(Zr(u,c),{isFilled:!1,color:"grey"});return l}function bh(s,i){if(i.length===0)return s;const l=new Map(s),d=new Set(i);for(let u=1;u<=Ht;u++)if(d.has(u))for(let c=1;c<=Ht;c++)l.set(Zr(c,u),{isFilled:!1,color:"grey"});return l}function zc(s,i,l){let d;for(let u=1;u<=Ht;u++){const c=l?i:u,p=l?u:i,v=s.get(Zr(c,p));if(!v||!v.isFilled)return;if(!d)d=v.color;else if(v.color!==d)return}return d}function $h(s){const i=zh(s),l=Bh(s),d=i.map(p=>({index:p,color:zc(s,p,!0)})),u=l.map(p=>({index:p,color:zc(s,p,!1)}));let c=Uh(s,i);return c=bh(c,l),{tiles:c,clearedRows:d,clearedColumns:u,totalLinesCleared:i.length+l.length}}const fn={rows:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}},columns:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}}};let Gh=0;function pn(){return`anim-${Date.now()}-${Gh++}`}function hn(s,i){return s*i}function Vh(s,i,l,d={}){var m,g,E,N,T,M,O,G;const u={rows:{single:{...fn.rows.single,...(m=d.rows)==null?void 0:m.single},double:{...fn.rows.double,...(g=d.rows)==null?void 0:g.double},triple:{...fn.rows.triple,...(E=d.rows)==null?void 0:E.triple},quad:{...fn.rows.quad,...(N=d.rows)==null?void 0:N.quad}},columns:{single:{...fn.columns.single,...(T=d.columns)==null?void 0:T.single},double:{...fn.columns.double,...(M=d.columns)==null?void 0:M.double},triple:{...fn.columns.triple,...(O=d.columns)==null?void 0:O.triple},quad:{...fn.columns.quad,...(G=d.columns)==null?void 0:G.quad}},baseStartTime:d.baseStartTime},c=u.baseStartTime??performance.now(),p=new Map(s),v=(F,A)=>`R${F}C${A}`,h=i.length,y=l.length;for(const{index:F,color:A}of i)for(let j=1;j<=10;j++){const X=v(F,j),q=p.get(X);if(!q)continue;const te=[],$=hn(j-1,u.rows.single.waveDelay);if(te.push({id:pn(),type:"row-cw",startTime:c+u.rows.single.startDelay+$,duration:u.rows.single.duration,color:A}),h>=2){const Y=hn(j-1,u.rows.double.waveDelay);te.push({id:pn(),type:"row-double",startTime:c+u.rows.double.startDelay+Y,duration:u.rows.double.duration,color:A})}if(h>=3){const Y=hn(j-1,u.rows.triple.waveDelay);te.push({id:pn(),type:"row-triple",startTime:c+u.rows.triple.startDelay+Y,duration:u.rows.triple.duration,color:A})}if(h>=4){const Y=hn(j-1,u.rows.quad.waveDelay);te.push({id:pn(),type:"row-quad",startTime:c+u.rows.quad.startDelay+Y,duration:u.rows.quad.duration,beatCount:u.rows.quad.beatCount,finishDuration:u.rows.quad.finishDuration,color:A})}p.set(X,{...q,activeAnimations:[...q.activeAnimations||[],...te]})}for(const{index:F,color:A}of l)for(let j=1;j<=10;j++){const X=v(j,F),q=p.get(X);if(!q)continue;const te=[],$=hn(j-1,u.columns.single.waveDelay);if(te.push({id:pn(),type:"column-ccw",startTime:c+u.columns.single.startDelay+$,duration:u.columns.single.duration,color:A}),y>=2){const Y=hn(j-1,u.columns.double.waveDelay);te.push({id:pn(),type:"column-double",startTime:c+u.columns.double.startDelay+Y,duration:u.columns.double.duration,color:A})}if(y>=3){const Y=hn(j-1,u.columns.triple.waveDelay);te.push({id:pn(),type:"column-triple",startTime:c+u.columns.triple.startDelay+Y,duration:u.columns.triple.duration,color:A})}if(y>=4){const Y=hn(j-1,u.columns.quad.waveDelay);te.push({id:pn(),type:"column-quad",startTime:c+u.columns.quad.startDelay+Y,duration:u.columns.quad.duration,beatCount:u.columns.quad.beatCount,finishDuration:u.columns.quad.finishDuration,color:A})}p.set(X,{...q,activeAnimations:[...q.activeAnimations||[],...te]})}return p}function Hh(s,i=performance.now()){const l=new Map(s);let d=!1;for(const[u,c]of l.entries()){if(!c.activeAnimations||c.activeAnimations.length===0)continue;const p=c.activeAnimations.filter(v=>i<v.startTime+v.duration);p.length!==c.activeAnimations.length&&(d=!0,l.set(u,{...c,activeAnimations:p.length>0?p:void 0}))}return d?l:s}function He(s,i,l){const d=JSON.parse(JSON.stringify(s)),u=Date.now();d.lastUpdated=u;const c=(g,E,N=1)=>{if(d.current[g].total+=N,E){const T=E;d.current[g].colors[T]=(d.current[g].colors[T]||0)+N}if(d.allTime[g].total+=N,E){const T=E;d.allTime[g].colors[T]=(d.allTime[g].colors[T]||0)+N}if(d.current[g].total>d.highScore[g].total&&(d.highScore[g].total=d.current[g].total),E){const T=E,M=d.current[g].colors[T]||0,O=d.highScore[g].colors[T]||0;M>O&&(d.highScore[g].colors[T]=M)}};c("shapesPlaced");const p=i.length+l.length;p>0&&(c("linesCleared",void 0,p),i.forEach(g=>{g.color&&c("linesCleared",g.color)}),l.forEach(g=>{g.color&&c("linesCleared",g.color)})),i.length>0&&(c("rowsCleared",void 0,i.length),i.forEach(g=>{g.color&&c("rowsCleared",g.color)})),l.length>0&&(c("columnsCleared",void 0,l.length),l.forEach(g=>{g.color&&c("columnsCleared",g.color)}));const v=i.length,h=l.length,m=((g,E)=>{const N=[...g,...E];if(N.length===0)return;const T=N[0].color;if(T){for(const M of N)if(M.color!==T)return;return T}})(i,l);return v===2&&h===0&&c("doubleRows",m),v===3&&h===0&&c("tripleRows",m),v===4&&h===0&&c("quadrupleRows",m),h===2&&v===0&&c("doubleColumns",m),h===3&&v===0&&c("tripleColumns",m),h===4&&v===0&&c("quadrupleColumns",m),v===2&&h===1&&c("doubleRowsWithSingleColumns",m),v===3&&h===1&&c("tripleRowsWithSingleColumns",m),v===3&&h===2&&c("tripleRowsWithDoubleColumns",m),v===4&&h===1&&c("quadrupleRowsWithSingleColumns",m),h===2&&v===1&&c("doubleColumnsWithSingleRows",m),h===3&&v===2&&c("tripleColumnsWithDoubleRows",m),h===3&&v===1&&c("tripleColumnsWithSingleRows",m),h===4&&v===1&&c("quadrupleColumnsWithSingleRows",m),v===1&&h===1&&c("singleColumnBySingleRow",m),v===2&&h===2&&c("doubleColumnByDoubleRow",m),v===4&&h===4&&c("quadrupleRowByQuadrupleColumn",m),d}function Wh(s,i,l,d){if(i.length===0)return!1;for(let u=0;u<i.length;u++){const c=i[u],v=d[u]||l>0?4:1;let h=c;for(let y=0;y<v;y++){for(let m=-3;m<=10;m++)for(let g=-3;g<=10;g++)if(ys(h,{row:m,column:g},s))return!1;y<v-1&&(h=On(h))}}return!0}function Mn(s,i){return`R${s}C${i}`}function Qh(s){const i=s.match(/R(\d+)C(\d+)/);if(!i)throw new Error(`Invalid tile key: ${s}`);return{row:parseInt(i[1],10),column:parseInt(i[2],10)}}const qr={rows:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}},columns:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}}};function qh(s,i,l){const d=(u,c)=>{if(u>=1&&Rn("clear_combo_1",l+qr[c].single.startDelay),u>=2&&Rn("clear_combo_2",l+qr[c].double.startDelay),u>=3&&Rn("clear_combo_3",l+qr[c].triple.startDelay),u>=4){const p=l+qr[c].quad.startDelay;Rn("clear_combo_4",p);const v=800;Rn("heartbeat",p+100),Rn("heartbeat",p+100+v),Rn("heartbeat",p+100+v*2)}};d(s.length,"rows"),d(i.length,"columns")}function Yh(s,i){switch(i.type){case"COMPLETE_PLACEMENT":{if(!s.dragState.selectedShape||s.dragState.selectedShapeIndex===null)return s;const l=s.dragState.placementLocation||s.mouseGridLocation;if(!l)return s;const d=vs(s.dragState.selectedShape,l),u=new Map(s.tiles);for(const $ of d)if($.block.isFilled){const Y=Mn($.location.row,$.location.column);u.set(Y,{isFilled:!0,color:$.block.color})}const{tiles:c,clearedRows:p,clearedColumns:v}=$h(u),h=p.map($=>$.index),y=v.map($=>$.index),m=performance.now(),g=Vh(c,p,v,{...qr,baseStartTime:m});qh(h,y,m);const E=Eh(h.length,y.length),N=s.score+E.pointsEarned,T=s.totalLinesCleared+h.length+y.length,M=He(s.stats,p,v),O=Array.from(g.entries()).map(([$,Y])=>({key:$,data:Y}));(E.pointsEarned>0||Array.from(g.values()).some($=>$.isFilled))&&We(N,O,s.nextShapes,s.savedShape,M).catch($=>{console.error("Failed to save game state:",$)});const G=s.dragState.selectedShapeIndex,F=ch(g),A=[...s.nextShapes];if(s.queueSize===-1||s.shapesUsed<s.queueSize){const $=F?uh():Ns();A.push($)}const j=[...s.openRotationMenus];A.length>j.length&&j.push(!1);const X=[...s.newShapeAnimationStates];A.length>X.length&&X.push("none");const q=Wh(g,A,N,j);return{...s,gameState:q?"gameover":s.gameState,tiles:g,score:N,totalLinesCleared:T,stats:M,nextShapes:A,shapesUsed:s.shapesUsed,openRotationMenus:j,newShapeAnimationStates:X,shapeOptionBounds:new Array(A.length).fill(null),mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},hasPlacedFirstShape:!0,removingShapeIndex:G,shapeRemovalAnimationState:"removing"}}case"CLEANUP_ANIMATIONS":{const l=Hh(s.tiles);return l===s.tiles?s:{...s,tiles:l}}case"DEBUG_FILL_ROW":{const{row:l,excludeColumn:d,color:u}=i.value,c=new Map(s.tiles);for(let v=1;v<=10;v++)if(v!==d){const h=Mn(l,v);c.set(h,{color:u,isFilled:!0})}const p=Array.from(c.entries()).map(([v,h])=>({key:v,data:h}));return We(void 0,p).catch(v=>{console.error("Failed to save tiles after debug fill row:",v)}),{...s,tiles:c}}case"DEBUG_FILL_COLUMN":{const{column:l,excludeRow:d,color:u}=i.value,c=new Map(s.tiles);for(let v=1;v<=10;v++)if(v!==d){const h=Mn(v,l);c.set(h,{color:u,isFilled:!0})}const p=Array.from(c.entries()).map(([v,h])=>({key:v,data:h}));return We(void 0,p).catch(v=>{console.error("Failed to save tiles after debug fill column:",v)}),{...s,tiles:c}}case"DEBUG_REMOVE_BLOCK":{const{location:l}=i.value,d=new Map(s.tiles),u=Mn(l.row,l.column),c=d.get(u);c&&d.set(u,{...c,isFilled:!1});const p=Array.from(d.entries()).map(([v,h])=>({key:v,data:h}));return We(void 0,p).catch(v=>{console.error("Failed to save tiles after debug remove block:",v)}),{...s,tiles:d}}case"DEBUG_ADD_BLOCK":{const{location:l,color:d}=i.value,u=new Map(s.tiles),c=Mn(l.row,l.column);u.set(c,{color:d,isFilled:!0});const p=Array.from(u.entries()).map(([v,h])=>({key:v,data:h}));return We(void 0,p).catch(v=>{console.error("Failed to save tiles after debug add block:",v)}),{...s,tiles:u}}case"DEBUG_CLEAR_ALL":{const l=new Map;for(let u=1;u<=10;u++)for(let c=1;c<=10;c++){const p=Mn(u,c);l.set(p,{isFilled:!1,color:"grey"})}const d=Array.from(l.entries()).map(([u,c])=>({key:u,data:c}));return We(void 0,d).catch(u=>{console.error("Failed to save tiles after debug clear all:",u)}),{...s,tiles:l}}case"GENERATE_SUPER_COMBO_PATTERN":{const l=new Map(s.tiles),d=Math.random()>.5;for(let c=1;c<=10;c++)for(let p=1;p<=10;p++){const v=Mn(c,p),h=c>=4&&c<=7,y=p>=4&&p<=7,m=h&&y&&c-4===p-4,g=h&&y&&c+p===11,E=d?m:g;(h||y)&&!E?l.set(v,{color:"blue",isFilled:!0}):E&&l.set(v,{color:"grey",isFilled:!1})}const u=Array.from(l.entries()).map(([c,p])=>({key:c,data:p}));return We(void 0,u).catch(c=>{console.error("Failed to save tiles after generating super combo pattern:",c)}),{...s,tiles:l}}case"DEBUG_REPLACE_FIRST_SHAPE":{const{shape:l}=i.value;if(s.nextShapes.length===0){const u=[l];return We(void 0,void 0,u,s.savedShape).catch(c=>{console.error("Failed to save shapes after debug replace:",c)}),{...s,nextShapes:u,openRotationMenus:[!1],shapeOptionBounds:[null],newShapeAnimationStates:["none"]}}const d=[...s.nextShapes.slice(1),l];return We(void 0,void 0,d,s.savedShape).catch(u=>{console.error("Failed to save shapes after debug replace:",u)}),{...s,nextShapes:d,openRotationMenus:[...s.openRotationMenus.slice(1),!1],shapeOptionBounds:[...s.shapeOptionBounds.slice(1),null],newShapeAnimationStates:[...s.newShapeAnimationStates.slice(1),"none"]}}default:return s}}function Kh(s,i){switch(i.type){case"ADD_SCORE":{const{scoreData:l,mousePosition:d}=i.value,u=s.score+l.pointsEarned;return We(u).catch(c=>{console.error("Failed to save score:",c)}),{...s,score:u,mousePosition:d||s.mousePosition}}case"SHOW_COIN_DISPLAY":return{...s,showCoinDisplay:!0};case"HIDE_COIN_DISPLAY":return{...s,showCoinDisplay:!1};case"SPEND_COIN":{const{shapeIndex:l,mousePosition:d}=i.value;if(s.score<=0)return{...s,insufficientFundsError:Date.now()};if(l<0||l>=s.nextShapes.length)return s;const u=Math.max(0,s.score-1),c=[...s.openRotationMenus];return c[l]=!0,We(u).catch(p=>{console.error("Failed to save score:",p)}),{...s,score:u,openRotationMenus:c,mousePosition:d||s.mousePosition}}case"UPDATE_GEM_ICON_POSITION":return console.log("UPDATE_GEM_ICON_POSITION: new position =",i.value),{...s,gemIconPosition:i.value};default:return s}}const Xh="modulepreload",Jh=function(s){return"/"+s},Bc={},Zh=function(i,l,d){let u=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));u=Promise.allSettled(l.map(h=>{if(h=Jh(h),h in Bc)return;Bc[h]=!0;const y=h.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=y?"stylesheet":Xh,y||(g.as="script"),g.crossOrigin="",g.href=h,v&&g.setAttribute("nonce",v),document.head.appendChild(g),y)return new Promise((E,N)=>{g.addEventListener("load",E),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(p){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=p,window.dispatchEvent(v),!v.defaultPrevented)throw p}return u.then(p=>{for(const v of p||[])v.status==="rejected"&&c(v.reason);return i().catch(c)})};function Pd(s,i){return`R${s}C${i}`}const em=()=>{const s=new Map;for(let i=1;i<=10;i++)for(let l=1;l<=10;l++)s.set(Pd(i,l),{isFilled:!1,color:"grey"});return s},_d={gameState:"playing",currentLevel:0,isMapUnlocked:!1,mousePosition:{x:window.innerWidth/2,y:window.innerHeight/2},gemIconPosition:{x:100,y:50},gridTileSize:null,gridBounds:null,tiles:em(),nextShapes:[],savedShape:null,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},removingShapeIndex:null,shapeRemovalAnimationState:"none",newShapeAnimationStates:[],shapeOptionBounds:[],score:0,totalLinesCleared:0,showCoinDisplay:!1,queueSize:-1,shapesUsed:0,openRotationMenus:[],hasPlacedFirstShape:!1,isTurningModeActive:!1,turningDirection:null,isDoubleTurnModeActive:!1,unlockedModifiers:new Set,hasLoadedPersistedState:!1,clearingAnimations:[],stats:Hp,isStatsOpen:!1,insufficientFundsError:null,currentTheme:"dark"};function tm(s,i){switch(i.type){case"SET_LEVEL":{const{levelIndex:l}=i.value;return{...s,currentLevel:l}}case"OPEN_MAP":return{...s,gameState:"map"};case"CLOSE_MAP":return{...s,gameState:"playing"};case"UNLOCK_MAP":return{...s,isMapUnlocked:!0};case"UNLOCK_MODIFIER":{const{primeId:l}=i.value,d=new Set(s.unlockedModifiers);return d.add(l),hd(d).catch(u=>{console.error("Failed to save unlocked modifiers:",u)}),{...s,unlockedModifiers:d}}case"LOAD_MODIFIERS":{const{unlockedModifiers:l}=i.value;return{...s,unlockedModifiers:l}}case"LOAD_STATS":{const{stats:l}=i.value;return{...s,stats:l}}case"TRIGGER_BACKGROUND_MUSIC":return s;case"ACTIVATE_TURNING_MODE":{const{direction:l}=i.value;return s.score<2?{...s,insufficientFundsError:Date.now()}:{...s,isTurningModeActive:!0,turningDirection:l,isDoubleTurnModeActive:!1}}case"DEACTIVATE_TURNING_MODE":return{...s,isTurningModeActive:!1,turningDirection:null};case"ACTIVATE_DOUBLE_TURN_MODE":return s.score<3?{...s,insufficientFundsError:Date.now()}:{...s,isDoubleTurnModeActive:!0,isTurningModeActive:!1,turningDirection:null};case"DEACTIVATE_DOUBLE_TURN_MODE":return{...s,isDoubleTurnModeActive:!1};case"LOAD_GAME_STATE":{const{gameData:l}=i.value,d=new Map;let u=!1;Array.isArray(l.tiles)&&l.tiles.forEach(p=>{p.block.isFilled&&(u=!0),d.set(Pd(p.location.row,p.location.column),{isFilled:p.block.isFilled,color:p.block.color})});const c=l.score>0||u;return{...s,score:l.score,tiles:d,nextShapes:l.nextShapes||s.nextShapes,savedShape:l.savedShape||s.savedShape,hasLoadedPersistedState:!0,hasPlacedFirstShape:c||s.hasPlacedFirstShape}}case"RESET_GAME":return{..._d,stats:{...s.stats,current:JSON.parse(JSON.stringify(Yr))},unlockedModifiers:s.unlockedModifiers,isMapUnlocked:s.isMapUnlocked,isStatsOpen:!1};case"OPEN_STATS":return{...s,isStatsOpen:!0};case"CLOSE_STATS":return{...s,isStatsOpen:!1};case"INITIALIZATION_COMPLETE":return{...s,hasLoadedPersistedState:!0};case"SET_THEME":{const{theme:l}=i.value;return Zh(async()=>{const{saveTheme:d}=await Promise.resolve().then(()=>Kp);return{saveTheme:d}},void 0).then(({saveTheme:d})=>{d(l).catch(u=>{console.error("Failed to save theme:",u)})}),{...s,currentTheme:l}}case"CLEANUP_ANIMATIONS":return s;case"DEBUG_INCREMENT_STATS":{let l=JSON.parse(JSON.stringify(s.stats));return["blue","green","red","yellow","purple","orange"].forEach(u=>{l=He(l,[{index:1,color:u}],[]),l=He(l,[{index:1,color:u},{index:2,color:u}],[]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[]),l=He(l,[],[{index:1,color:u}]),l=He(l,[],[{index:1,color:u},{index:2,color:u}]),l=He(l,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),l=He(l,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u},{index:2,color:u}]),l=He(l,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),l=He(l,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),l=He(l,[{index:1,color:u}],[{index:1,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}])}),We(void 0,void 0,void 0,void 0,l).catch(u=>{console.error("Failed to save stats after debug increment:",u)}),{...s,stats:l}}default:return s}}const nm=_d;function rm(s,i){let l=s;return l=Yh(l,i),l=Lh(l,i),l=jh(l,i),l=Kh(l,i),l=tm(l,i),l}function om(){const{tiles:s,dragState:i}=tt(),l=at(),d=D.useRef(null),{gridSize:u,gridGap:c,gridCellSize:p}=Jr(),{isDebugMode:v,handleDebugClick:h}=Dh();D.useEffect(()=>{const g=setInterval(()=>{l({type:"CLEANUP_ANIMATIONS"})},1e3);return()=>clearInterval(g)},[l]),D.useEffect(()=>{const g=E=>{E.key==="Escape"&&i.selectedShape&&!v&&l({type:"RETURN_SHAPE_TO_SELECTOR"})};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[i.selectedShape,l,v]);const y=D.useMemo(()=>{const g=[];return s.forEach((E,N)=>{const{row:T,column:M}=Qh(N);g.push({id:`(row: ${T}, column: ${M})`,location:{row:T,column:M},block:{isFilled:E.isFilled,color:E.color}})}),g.sort((E,N)=>E.location.row!==N.location.row?E.location.row-N.location.row:E.location.column-N.location.column),g},[s]),m=new Map(i.hoveredBlockPositions.map(g=>[`${g.location.row},${g.location.column}`,g.block]));return w.jsx("div",{ref:d,className:`grid ${i.selectedShape?"grid-dragging":""}`,style:{"--grid-gap":`${c}px`,"--grid-size":`${u}px`},children:y.map(g=>{const E=`${g.location.row},${g.location.column}`,N=m.get(E),T=(N==null?void 0:N.isFilled)??!1;return w.jsx(Ah,{tile:g,isHovered:T,hoveredBlock:N,onClick:v?()=>h(g.location):void 0,size:p},g.id)})})}const lm=({shape:s,shapeIndex:i,shapeOptionFullSize:l})=>{const d=at(),{dragState:u,isTurningModeActive:c,turningDirection:p,isDoubleTurnModeActive:v,removingShapeIndex:h,shapeRemovalAnimationState:y,shapeOptionBounds:m,score:g}=tt(),E=D.useRef(null),N=h===i&&y==="removing",T=m[i]===null||m[i]===void 0,M=4,O=1,G=O*3,A=(l-M*2-G)/4,j=D.useMemo(()=>Cs(s),[s]),X=D.useMemo(()=>{const pe=A+O,de=j.minCol+(j.width-1)/2,ye=j.minRow+(j.height-1)/2,ge=1.5,Ee=(ge-de)*pe,xe=(ge-ye)*pe;return{x:Ee,y:xe}},[j,A,O]);D.useEffect(()=>{if(E.current&&T){const pe=E.current.getBoundingClientRect();d({type:"SET_SHAPE_OPTION_BOUNDS",value:{index:i,bounds:{top:pe.top,left:pe.left,width:pe.width,height:pe.height}}})}},[d,i,s,T]),D.useEffect(()=>{if(h===i&&y==="removing"){const pe=setTimeout(()=>{d({type:"COMPLETE_SHAPE_REMOVAL"})},Rs.REMOVAL_DURATION);return()=>clearTimeout(pe)}},[h,i,y,d]);const q=D.useCallback(pe=>{if(pe.preventDefault(),!N){if(c){g>=2?(d({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-2}}}),d({type:"ROTATE_SHAPE",value:{shapeIndex:i,clockwise:p==="cw"}}),d({type:"DEACTIVATE_TURNING_MODE"})):d({type:"DEACTIVATE_TURNING_MODE"});return}if(v){g>=3?(d({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-3}}}),d({type:"ROTATE_SHAPE",value:{shapeIndex:i,clockwise:!0}}),d({type:"ROTATE_SHAPE",value:{shapeIndex:i,clockwise:!0}}),d({type:"DEACTIVATE_DOUBLE_TURN_MODE"})):d({type:"DEACTIVATE_DOUBLE_TURN_MODE"});return}u.selectedShapeIndex!==i&&d({type:"SELECT_SHAPE",value:{shapeIndex:i}})}},[d,i,u.selectedShapeIndex,c,p,v,N,g]),te=u.selectedShapeIndex===i,$=N?s.map(pe=>pe.map(de=>({...de,isFilled:!1}))):s,Y=te?0:1;return w.jsx("div",{ref:E,className:`shape-container${te?" selected":""}`,style:{"--shape-cell-size":`${A}px`,"--shape-cell-gap":`${O}px`,"--centering-offset-x":`${X.x}px`,"--centering-offset-y":`${X.y}px`,opacity:Y,transition:"opacity 0.15s ease-out"},onPointerDown:q,children:$.map((pe,de)=>pe.map((ye,ge)=>w.jsx("div",{className:"shape-tile-visual",children:w.jsx(_s,{block:ye,size:A})},`${de}-${ge}`)))})},hs=new WeakMap;let im=0;const sm=s=>(hs.has(s)||hs.set(s,`shape-${++im}`),hs.get(s)),am=()=>{const s=at(),{nextShapes:i,removingShapeIndex:l,shapeRemovalAnimationState:d}=tt(),u=D.useMemo(()=>{const F=[];for(let j=0;j<3;j++)F.push(Ns());return F},[]);D.useEffect(()=>{i.length===0&&s({type:"SET_AVAILABLE_SHAPES",value:{shapes:u}})},[s,u,i.length]);const c=i,{gameControlsLength:p}=Jr(),v=window.innerWidth>=window.innerHeight,h=32,y=12,m=h*2,g=y*2,T=(p-m-g)/(3*1.05)*1.05,M=p,O=3*T+2*h,G=Math.max(0,(M-g-O)/2);return w.jsx("div",{className:"shape-selector",style:{"--shape-selector-width":v?"auto":`${M}px`,"--shape-selector-height":v?`${M}px`:"auto",paddingLeft:v?`${y}px`:`${y+G}px`,paddingTop:v?`${y+G}px`:`${y}px`,"--wrapper-gap":`${h}px`},children:w.jsx("div",{className:`shape-selector-shapes-container ${v?"shape-selector-shapes-container-landscape":"shape-selector-shapes-container-portrait"}`,style:{},children:c.map((F,A)=>{const j=l===A&&d==="removing";return w.jsx("div",{className:`shape-selector-shape-wrapper${j?" removing":""}`,"data-landscape":v?"1":"0",style:{"--shape-wrapper-size":`${T}px`,"--is-landscape":v?"1":"0"},children:w.jsx(lm,{shape:F,shapeIndex:A,shapeOptionFullSize:T})},sm(F))})})})},um=()=>{const s=at(),i=tt(),{gameControlsWidth:l}=Jr(),d=()=>{i.gameState==="playing"&&(i.isTurningModeActive&&i.turningDirection==="cw"?s({type:"DEACTIVATE_TURNING_MODE"}):s({type:"ACTIVATE_TURNING_MODE",value:{direction:"cw"}}))},u=()=>{i.gameState==="playing"&&(i.isTurningModeActive&&i.turningDirection==="ccw"?s({type:"DEACTIVATE_TURNING_MODE"}):s({type:"ACTIVATE_TURNING_MODE",value:{direction:"ccw"}}))},c=()=>{i.gameState==="playing"&&(i.isDoubleTurnModeActive?s({type:"DEACTIVATE_DOUBLE_TURN_MODE"}):s({type:"ACTIVATE_DOUBLE_TURN_MODE"}))},p=i.score<2&&!i.isTurningModeActive||i.gameState!=="playing",v=i.score<2&&!i.isTurningModeActive||i.gameState!=="playing",h=i.score<3&&!i.isDoubleTurnModeActive||i.gameState!=="playing",y=i.isTurningModeActive&&i.turningDirection==="cw",m=i.isTurningModeActive&&i.turningDirection==="ccw",g=i.isDoubleTurnModeActive,E=12,T=12*2,M=E*2,G=(l-T-M)/3;return w.jsxs("div",{className:"purchases-container",style:{"--button-size":`${G}px`},children:[w.jsxs("button",{className:`purchases-container-button purchases-container-button-clockwise ${y?"active":""} ${p?"disabled":""}`,onClick:d,title:p?"Need 2 points to buy clockwise turn":"Buy clockwise turn (2 points)",children:[w.jsx("div",{className:"purchases-container-icon",children:""}),w.jsx("div",{className:"purchases-container-cost",children:"-2"})]}),w.jsxs("button",{className:`purchases-container-button purchases-container-button-double-turn ${g?"active":""} ${h?"disabled":""}`,onClick:c,title:h?"Need 3 points to buy double turn":"Buy double turn (3 points)",children:[w.jsx("div",{className:"purchases-container-icon",children:""}),w.jsx("div",{className:"purchases-container-cost",children:"-3"})]}),w.jsxs("button",{className:`purchases-container-button purchases-container-button-counter-clockwise ${m?"active":""} ${v?"disabled":""}`,onClick:u,title:v?"Need 2 points to buy counter-clockwise turn":"Buy counter-clockwise turn (2 points)",children:[w.jsx("div",{className:"purchases-container-icon",children:""}),w.jsx("div",{className:"purchases-container-cost",children:"-2"})]})]})},cm=()=>{const{gameControlsLength:s,gameControlsWidth:i}=Jr(),l=window.innerWidth>=window.innerHeight;return w.jsxs("div",{className:"game-controls-panel",style:{"--controls-height":l?`${s}px`:`${i}px`,"--controls-width":l?`${i}px`:`${s}px`},children:[w.jsx(am,{}),w.jsx(um,{})]})},dm=({startPosition:s,velocity:i,onComplete:l,delay:d=0,size:u=40})=>{const[c,p]=D.useState(s),[v,h]=D.useState(0),y=D.useRef(),m=D.useRef(),g=D.useRef({startPosition:s,velocity:i,onComplete:l,delay:d}),E=1500,N=450,T=100,M=.7;return D.useEffect(()=>{const{startPosition:O,velocity:G,onComplete:F,delay:A}=g.current,j=setTimeout(()=>{m.current=performance.now();const X=q=>{if(!m.current)return;const te=(q-m.current)/1e3,$=te*1e3;if($>=E){F();return}const Y=O.x+G.x*te,pe=O.y+G.y*te+.5*N*te*te,de=$/E;let ye=1;if($<T)ye=$/T;else if(de>=M){const ge=(de-M)/(1-M);ye=Math.max(0,1-ge)}p({x:Y,y:pe}),h(ye),y.current=requestAnimationFrame(X)};y.current=requestAnimationFrame(X)},A);return()=>{clearTimeout(j),y.current&&cancelAnimationFrame(y.current)}},[]),w.jsx("div",{className:"gem-particle",style:{"--particle-x":`${c.x}px`,"--particle-y":`${c.y}px`,"--particle-opacity":v},children:w.jsx(Td,{size:u})})},fm=()=>{const{score:s,gemIconPosition:i,hasLoadedPersistedState:l}=tt(),[d,u]=D.useState([]),c=D.useRef(null),p=D.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]),v=D.useMemo(()=>i,[i]);D.useEffect(()=>{if(!l)return;if(c.current===null){c.current=s;return}if(s===c.current)return;const m=s-c.current,g=Math.abs(m),E=m>0;if(g===0){c.current=s;return}const N=E?p:v,T=g>=10,M=T?Math.min(Math.floor(g/10),10):g;console.log(`GemShower: score change=${m}, pointsForEffect=${g}, gemsToShow=${M}, useLargeGems=${T}`);const O=h(M,N,E,T);console.log(`GemShower: generated ${O.length} gems`),u(G=>[...G,...O]),c.current=s},[s,p,v,l]);const h=(m,g,E,N=!1)=>{const T=[];let O=0;for(let G=0;G<m;G++){let F,A;if(E){const j=(60+Math.random()*60)*(Math.PI/180),X=100+Math.random()*200,q=Math.random()>.5?1:-1,te=.3+Math.random()*.7;F=X*Math.cos(j)*q*te,A=-X*Math.sin(j)}else F=(Math.random()*3-1.5)*60,A=0;T.push({id:`gem-${G}-${Date.now()}-${Math.random()}`,startPosition:{...g},velocity:{x:F,y:A},delay:O,size:N?80:40}),O+=10}return T},y=m=>{u(g=>g.filter(E=>E.id!==m))};return w.jsx("div",{className:"gem-shower-container",children:d.map(m=>w.jsx(dm,{startPosition:m.startPosition,velocity:m.velocity,delay:m.delay,size:m.size,onComplete:()=>y(m.id)},m.id))})},pm=()=>w.jsx("div",{className:"game-over-overlay",children:w.jsxs("div",{className:"game-over-content",children:[w.jsx("h1",{className:"game-over-title",children:"Game Over"}),w.jsx("p",{className:"game-over-subtitle",children:"Check your stats to see how you did!"})]})}),hm=()=>{const{gameState:s,isStatsOpen:i}=tt();return s!=="playing"&&s!=="gameover"?null:w.jsxs("div",{className:"tetrix",children:[w.jsx(om,{}),w.jsx(cm,{}),w.jsx(fm,{}),s==="gameover"&&!i&&w.jsx(pm,{})]})},mm=()=>{const{currentLevel:s}=tt(),i=at(),[l,d]=D.useState(s.toString()),u=p=>{p.preventDefault();const v=Number.parseInt(l,10);!Number.isNaN(v)&&v>=0&&(i({type:"SET_LEVEL",value:{levelIndex:v}}),i({type:"CLOSE_MAP"}))},c=()=>{i({type:"CLOSE_MAP"})};return w.jsx("div",{className:"game-map-overlay",children:w.jsxs("div",{className:"game-map",children:[w.jsxs("div",{className:"game-map-header",children:[w.jsx("h1",{children:"Level Map"}),w.jsx("button",{className:"close-button",onClick:c,type:"button",children:""})]}),w.jsxs("div",{className:"map-content",children:[w.jsxs("div",{className:"current-level-display",children:[w.jsx("span",{className:"current-level-label",children:"Current Level:"}),w.jsx("span",{className:"current-level-value",children:s})]}),w.jsxs("form",{onSubmit:u,className:"level-selector-form",children:[w.jsx("label",{htmlFor:"level-input",className:"level-input-label",children:"Enter Level Index:"}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{id:"level-input",type:"number",value:l,onChange:p=>d(p.target.value),min:"0",max:"999",className:"level-input",placeholder:"0",autoFocus:!0}),w.jsx("button",{type:"submit",className:"level-submit-button",children:"Go to Level"})]})]}),w.jsxs("div",{className:"map-placeholder",children:[w.jsx("p",{className:"placeholder-text",children:" Full level map coming soon!"}),w.jsx("p",{className:"placeholder-description",children:"This will show a visual grid of levels with different challenges, modifiers, and progression paths."})]})]})]})})};function gm(){const[s,i]=D.useState(!1),l=()=>{const d=document.documentElement;d.requestFullscreen&&!s&&(d.requestFullscreen(),i(!0))};return D.useEffect(()=>{const d=()=>{document.fullscreenElement?i(!0):i(!1)};return document.addEventListener("fullscreenchange",d),()=>{document.removeEventListener("fullscreenchange",d)}}),s?null:w.jsx("button",{className:"full-screen-button",onClick:l,"aria-label":"Enter Full Screen",children:w.jsx("span",{children:"+"})})}const vm=({onClose:s,onStartPlaying:i})=>{const[l,d]=D.useState(0),u=D.useCallback(()=>{localStorage.setItem("hasSeenTutorial","true"),i(),s()},[s,i]),c=[{title:"Drag & Drop",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/DragAndDrop.gif",alt:"Drag and drop demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Drag shapes from the queue and place them on the 10x10 grid."})]})},{title:"Clear Lines",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/Get10InARow.gif",alt:"Clear lines demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Fill an entire row or column to clear it and earn points."})]})},{title:"Combo Bonuses",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/ClearUpTo4LinesInARow.gif",alt:"Combo bonus demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Clear multiple lines at once to earn massive point bonuses!"})]})},{title:"Rotate Shapes",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/TurnShapes.gif",alt:"Rotate shapes demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Spend your hard-earned points to rotate shapes that don't fit."})]})}],p=D.useCallback(()=>{l<c.length-1&&d(l+1)},[l,c.length]),v=D.useCallback(()=>{l>0&&d(l-1)},[l]),h=D.useCallback(y=>{d(y)},[]);return Oe.useEffect(()=>{const y=m=>{m.key==="Escape"&&u()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[u]),Ss.createPortal(w.jsx("div",{className:"tutorial-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:w.jsxs("div",{className:"tutorial-content",children:[w.jsx("button",{className:"tutorial-close-x",onClick:u,"aria-label":"Close tutorial",title:"Close tutorial",children:""}),w.jsxs("div",{className:"tutorial-slide",children:[w.jsx("h2",{id:"tutorial-title",className:"tutorial-title",children:c[l].title}),w.jsx("div",{className:"tutorial-body",children:c[l].content})]}),w.jsxs("div",{className:"tutorial-navigation",children:[w.jsx("button",{className:"tutorial-nav-button",onClick:v,disabled:l===0,"aria-label":"Previous slide",children:" Previous"}),w.jsx("div",{className:"tutorial-dots",children:c.map((y,m)=>w.jsx("button",{className:`tutorial-dot ${m===l?"active":""}`,onClick:()=>h(m),"aria-label":`Go to slide ${m+1}`},`slide-${m}-${y.title}`))}),l<c.length-1?w.jsx("button",{className:"tutorial-nav-button",onClick:p,"aria-label":"Next slide",children:"Next "}):w.jsx("button",{className:"tutorial-nav-button tutorial-close-button",onClick:u,"aria-label":"Close tutorial",children:"Start Playing"})]})]})}),document.body)};function ym(){var se;const{dragState:s,mousePosition:i}=tt(),l=at(),{playSound:d}=Ps(),[u,c]=D.useState(0),[p,v]=D.useState(0),[h,y]=D.useState(0),{state:m}=ml(),{gridSize:g,gridGap:E}=Jr(),{PICKUP_DURATION:N,PLACING_DURATION:T,RETURN_DURATION:M,PLACEMENT_SOUND_DURATION:O,INVALID_BLOCK_ANIMATION_DURATION:G}=Rs,F=4,A=1,j=E,X=9*j,q=(g-X)/10,te=((se=s.dragOffsets)==null?void 0:se.touchOffset)??0;if(D.useEffect(()=>{s.phase==="picking-up"&&s.startTime&&d("pickup_shape")},[s.phase,s.startTime,d]),D.useEffect(()=>{if(s.phase!=="picking-up"||!s.sourcePosition){c(s.phase==="dragging"?1:0);return}const J=performance.now(),ee=le=>{const ue=le-J,ae=Math.min(ue/N,1),he=1-Math.pow(1-ae,3);c(he),ae<1?requestAnimationFrame(ee):c(1)};requestAnimationFrame(ee)},[s.phase,s.sourcePosition,N]),D.useEffect(()=>{if(s.phase!=="placing"||!s.targetPosition){v(0);return}const ee=T-O,le=performance.now();let ue=!1;const ae=he=>{const Le=he-le,mn=Math.min(Le/T,1);!ue&&Le>=ee&&(ue=!0,d("click_into_place"));const eo=Math.pow(mn,3);v(eo),mn>=1?l({type:"COMPLETE_PLACEMENT"}):requestAnimationFrame(ae)};requestAnimationFrame(ae)},[s.phase,s.targetPosition,l,d,T]),D.useEffect(()=>{if(s.phase!=="returning"||!s.sourcePosition){y(0);return}const J=performance.now(),ee=le=>{const ue=le-J,ae=Math.min(ue/M,1),he=1-Math.pow(1-ae,3);y(he),ae>=1?l({type:"COMPLETE_RETURN"}):requestAnimationFrame(ee)};requestAnimationFrame(ee)},[s.phase,s.sourcePosition,l,M]),!s.selectedShape||s.selectedShapeIndex===null||s.phase==="none")return null;const $=s.selectedShape,Y=s.sourcePosition;let pe=q,de={x:0,y:0};if(Y){const J=Y.width-F*2,ee=A*3;pe=(J-ee)/4,de={x:Y.x+Y.width/2,y:Y.y+Y.height/2}}let ye=q,ge=j,Ee={x:0,y:0},xe=1;const Be=(J,ee)=>{const le=Cs($),ue=J+ee,ae=le.minCol+(le.width-1)/2,he=le.minRow+(le.height-1)/2,Le=1.5;return{x:(Le-ae)*ue,y:(Le-he)*ue}};if(s.phase==="picking-up"&&Y){ye=pe+(q-pe)*u,ge=A+(j-A)*u;const J=i.x,ee=i.y-te;Ee={x:de.x+(J-de.x)*u,y:de.y+(ee-de.y)*u}}else if(s.phase==="dragging")ye=q,ge=j,Ee={x:i.x,y:i.y-te};else if(s.phase==="placing"&&s.targetPosition){ye=q,ge=j;const J=s.placementStartPosition??i,ee=J.x,le=J.y-te,ue=s.targetPosition.x,ae=s.targetPosition.y;Ee={x:ee+(ue-ee)*p,y:le+(ae-le)*p},xe=1-.05*Math.sin(p*Math.PI)}else if(s.phase==="returning"&&Y){ye=q+(pe-q)*h,ge=j+(A-j)*h;const J=i.x,ee=i.y-te;Ee={x:J+(de.x-J)*h,y:ee+(de.y-ee)*h},xe=1-.2*h}const we=Be(ye,ge),b=4*ye+3*ge,ne=4*ye+3*ge,V=Ee.x-b/2,k=Ee.y-ne/2;if(!Number.isFinite(k)||!Number.isFinite(V))return null;const L=new Set(s.invalidBlockPositions.map(J=>`${J.shapeRow},${J.shapeCol}`));return w.jsx("div",{className:`dragging-shape-container ${s.phase==="dragging"?"dragging-phase":""}`,style:{"--container-top":`${k}px`,"--container-left":`${V}px`,"--tile-size":`${ye}px`,"--grid-gap":`${ge}px`,"--scale":xe,"--centering-offset-x":`${we.x}px`,"--centering-offset-y":`${we.y}px`,"--invalid-anim-duration":`${G}ms`},children:$.map((J,ee)=>J.map((le,ue)=>{const ae=`${ee},${ue}`,he=L.has(ae),Le=(ee*4+ue)*50;return w.jsx("div",{className:`dragging-shape-cell ${he?"invalid-cell":""}`,style:{transform:"translate(var(--centering-offset-x), var(--centering-offset-y))"},children:w.jsxs("div",{className:"wiggle-wrapper",style:{"--wiggle-delay":`${Le}ms`},children:[le.isFilled&&w.jsx(_s,{block:le,size:he?ye*.5:ye}),!le.isFilled&&m.isEditorOpen&&m.showGridDots&&w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"white",opacity:.6,pointerEvents:"none"}})]})},`${ee}-${ue}`)}))})}const wm=()=>{const[s,i]=D.useState([]);return D.useEffect(()=>{const l=d=>{const u={id:Date.now(),text:d.detail.message};i(c=>[...c,u]),setTimeout(()=>{i(c=>c.filter(p=>p.id!==u.id))},3e3)};return window.addEventListener("tetrix-show-toast",l),()=>{window.removeEventListener("tetrix-show-toast",l)}},[]),w.jsx("div",{className:"toast-overlay-container",children:s.map(l=>w.jsx("div",{className:"toast-message",children:l.text},l.id))})},Sm=()=>{const{gameState:s,dragState:i,gridTileSize:l,gridBounds:d,tiles:u,currentTheme:c}=tt(),p=at(),{triggerAutoplay:v}=hl(),{playSound:h}=Ps(),[y,m]=D.useState(!1),g=D.useRef(null);D.useEffect(()=>{localStorage.getItem("hasSeenTutorial")||m(!0)},[]),D.useEffect(()=>{const M=O=>{const G={x:O.clientX,y:O.clientY};if(i.phase==="placing"||i.phase==="returning"){p({type:"UPDATE_MOUSE_LOCATION",value:{location:null,position:G,tileSize:l,gridBounds:d,isValid:!1,invalidBlocks:[]}});return}let F=null,A=l,j=d,X=!1,q=[];if(i.selectedShape&&(g.current||(g.current=document.querySelector(".grid")),g.current)){const te=g.current,$=te.getBoundingClientRect();j||(j={top:$.top,left:$.left,width:$.width,height:$.height});const Y=i.dragOffsets;if(!Y){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE");return}A=Y.tileSize,F=Lc(O.clientX,O.clientY,te,{rows:10,columns:10},Y.touchOffset,i.selectedShape,{gridOffsetX:Y.gridOffsetX,gridOffsetY:Y.gridOffsetY,tileSize:Y.tileSize,gridGap:Y.gridGap}),F&&(X=ys(i.selectedShape,F,u),q=th(i.selectedShape,F,u))}p({type:"UPDATE_MOUSE_LOCATION",value:{location:F,position:G,tileSize:A,gridBounds:j,isValid:X,invalidBlocks:q}})};return document.addEventListener("pointermove",M),()=>{document.removeEventListener("pointermove",M),g.current=null}},[p,i.selectedShape,i.dragOffsets,i.hoveredBlockPositions,i.isValidPlacement,i.invalidBlockPositions,i.phase,l,d,u]),D.useEffect(()=>{const M=O=>{if(!i.selectedShape)return;g.current||(g.current=document.querySelector(".grid"));const G=g.current;if(!G){p({type:"RETURN_SHAPE_TO_SELECTOR"});return}const F=i.dragOffsets;if(!F){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE"),p({type:"RETURN_SHAPE_TO_SELECTOR"});return}const A=Lc(O.clientX,O.clientY,G,{rows:10,columns:10},F.touchOffset,i.selectedShape,{gridOffsetX:F.gridOffsetX,gridOffsetY:F.gridOffsetY,tileSize:F.tileSize,gridGap:F.gridGap});if(A===null||!ys(i.selectedShape,A,u)){h("invalid_placement"),p({type:"RETURN_SHAPE_TO_SELECTOR"});return}p({type:"PLACE_SHAPE",value:{location:A,mousePosition:{x:O.clientX,y:O.clientY}}})};return document.addEventListener("pointerup",M),()=>{document.removeEventListener("pointerup",M)}},[p,i.selectedShape,i.dragOffsets,u,h]);const N={dark:{background:"rgb(25, 25, 25)",gameBackground:"rgb(25, 25, 25)",text:"rgb(255, 255, 255)",textSecondary:"rgb(180, 180, 180)",gridBg:"rgb(10, 10, 10)",tileBg:"rgb(30, 30, 30)",tileBorder:"rgb(50, 50, 50)",headerBg:"rgb(25, 25, 25)",headerBorder:"rgba(255, 255, 255, 0.1)",shapeSelectorBg:"linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 50%, rgba(240, 147, 251, 0.2) 100%)",shapeSelectorBorder:"rgba(255, 255, 255, 0.3)",overlayBg:"rgba(0, 0, 0, 0.85)",buttonBg:"rgba(255, 255, 255, 0.1)",buttonHover:"rgba(255, 255, 255, 0.2)"},light:{background:"rgb(245, 245, 245)",gameBackground:"rgb(235, 235, 235)",text:"rgb(20, 20, 20)",textSecondary:"rgb(100, 100, 100)",gridBg:"rgb(220, 220, 220)",tileBg:"rgb(255, 255, 255)",tileBorder:"rgb(200, 200, 200)",headerBg:"rgb(255, 255, 255)",headerBorder:"rgba(0, 0, 0, 0.1)",shapeSelectorBg:"linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 50%, rgba(240, 147, 251, 0.15) 100%)",shapeSelectorBorder:"rgba(0, 0, 0, 0.2)",overlayBg:"rgba(255, 255, 255, 0.95)",buttonBg:"rgba(0, 0, 0, 0.05)",buttonHover:"rgba(0, 0, 0, 0.1)"},"block-blast":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gameBackground:"rgba(0, 0, 0, 0.15)",text:"rgb(255, 255, 255)",textSecondary:"rgba(255, 255, 255, 0.8)",gridBg:"rgba(255, 255, 255, 0.1)",tileBg:"rgba(255, 255, 255, 0.05)",tileBorder:"rgba(255, 255, 255, 0.2)",headerBg:"rgba(255, 255, 255, 0.1)",headerBorder:"rgba(255, 255, 255, 0.2)",shapeSelectorBg:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.1) 100%)",shapeSelectorBorder:"rgba(255, 255, 255, 0.4)",overlayBg:"rgba(102, 126, 234, 0.95)",buttonBg:"rgba(255, 255, 255, 0.15)",buttonHover:"rgba(255, 255, 255, 0.25)"}}[c],T={background:N.background,color:N.text,"--theme-text":N.text,"--theme-text-secondary":N.textSecondary,"--theme-game-bg":N.gameBackground,"--theme-grid-bg":N.gridBg,"--theme-tile-bg":N.tileBg,"--theme-tile-border":N.tileBorder,"--theme-header-bg":N.headerBg,"--theme-header-border":N.headerBorder,"--theme-shape-selector-bg":N.shapeSelectorBg,"--theme-shape-selector-border":N.shapeSelectorBorder,"--theme-overlay-bg":N.overlayBg,"--theme-button-bg":N.buttonBg,"--theme-button-hover":N.buttonHover};return w.jsxs("div",{className:"App",style:T,children:[w.jsx(Mh,{onShowTutorial:()=>m(!0)}),w.jsx("div",{className:"game-container",children:s==="playing"?w.jsx(hm,{}):w.jsx(mm,{})}),w.jsx(gm,{}),y&&w.jsx(vm,{onClose:()=>m(!1),onStartPlaying:v}),w.jsx(mh,{}),w.jsx(ym,{}),w.jsx(wm,{})]})};function Em({children:s}){const[i,l]=D.useReducer(rm,nm),[d,u]=D.useState(!1);return D.useEffect(()=>{(async()=>{var p;try{console.log("TetrixProvider: Attempting to load saved game state...");const[v,h,y,m]=await Promise.all([vd(),md(),xs(),gd()]);m&&(m==="dark"||m==="light"||m==="block-blast")&&l({type:"SET_THEME",value:{theme:m}}),l({type:"LOAD_MODIFIERS",value:{unlockedModifiers:h}}),y&&l({type:"LOAD_STATS",value:{stats:y}}),(v==null?void 0:v.tiles.length)===100?(console.log("TetrixProvider: Found valid saved game state, restoring...",{score:v.score,tilesCount:v.tiles.length,shapesCount:v.nextShapes.length,hasSavedShape:!!v.savedShape}),l({type:"LOAD_GAME_STATE",value:{gameData:v}})):console.log("TetrixProvider: No valid saved game state found (tiles count:",((p=v==null?void 0:v.tiles)==null?void 0:p.length)??"undefined",")")}catch(v){console.error("Failed to load saved game state:",v)}finally{l({type:"INITIALIZATION_COMPLETE"}),u(!0)}})()},[]),d?w.jsx(xd.Provider,{value:i,children:w.jsx(Cd.Provider,{value:l,children:s})}):null}class xm extends D.Component{constructor(){super(...arguments);Cc(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(l){return console.log("Error boundary caught error:",l),{hasError:!0,error:l,errorInfo:null}}componentDidCatch(l,d){console.error("Uncaught error:",l,d),console.log("Error boundary activated!"),this.setState({error:l,errorInfo:d})}render(){var l;return this.state.hasError?w.jsx("div",{className:"rant-error-boundary-container",children:w.jsxs("div",{className:"rant-error-boundary-content",children:[w.jsx("h1",{className:"rant-error-boundary-title",children:"Application Error"}),w.jsxs("div",{className:"rant-error-boundary-details",children:[w.jsx("strong",{children:"Error Details:"}),w.jsx("br",{}),((l=this.state.error)==null?void 0:l.message)||"Unknown error occurred"]}),w.jsx("p",{className:"rant-error-boundary-message",children:"The application has encountered an error and cannot continue. Please refresh the page to restart the application."}),w.jsx("button",{onClick:()=>globalThis.location.reload(),className:"rant-error-boundary-button",children:"Refresh Page"}),w.jsx("div",{className:"rant-error-boundary-footer",children:"If this problem persists, maybe try not clicking that button so much next time."})]})}):this.props.children}}jp.createRoot(document.getElementById("root")).render(w.jsx(D.StrictMode,{children:w.jsx(xm,{children:w.jsx(Rh,{children:w.jsx(Xp,{children:w.jsx(Em,{children:w.jsx(Zp,{children:w.jsx(Sm,{})})})})})})}));

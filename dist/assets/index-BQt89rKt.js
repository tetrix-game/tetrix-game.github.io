var Mp=Object.defineProperty;var Ap=(s,o,l)=>o in s?Mp(s,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[o]=l;var Pc=(s,o,l)=>Ap(s,typeof o!="symbol"?o+"":o,l);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();function jp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hi={exports:{}},Wr={},mi={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function Dp(){if(_c)return fe;_c=1;var s=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=g&&T[g]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function A(T,b,ae){this.props=T,this.context=b,this.refs=j,this.updater=ae||k}A.prototype.isReactComponent={},A.prototype.setState=function(T,b){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,b,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function R(){}R.prototype=A.prototype;function I(T,b,ae){this.props=T,this.context=b,this.refs=j,this.updater=ae||k}var M=I.prototype=new R;M.constructor=I,N(M,A.prototype),M.isPureReactComponent=!0;var L=Array.isArray,Y=Object.prototype.hasOwnProperty,q={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function te(T,b,ae){var Q,ee={},re=null,ce=null;if(b!=null)for(Q in b.ref!==void 0&&(ce=b.ref),b.key!==void 0&&(re=""+b.key),b)Y.call(b,Q)&&!se.hasOwnProperty(Q)&&(ee[Q]=b[Q]);var de=arguments.length-2;if(de===1)ee.children=ae;else if(1<de){for(var ge=Array(de),Le=0;Le<de;Le++)ge[Le]=arguments[Le+2];ee.children=ge}if(T&&T.defaultProps)for(Q in de=T.defaultProps,de)ee[Q]===void 0&&(ee[Q]=de[Q]);return{$$typeof:s,type:T,key:re,ref:ce,props:ee,_owner:q.current}}function ie(T,b){return{$$typeof:s,type:T.type,key:b,ref:T.ref,props:T.props,_owner:T._owner}}function H(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function ne(T){var b={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ae){return b[ae]})}var Se=/\/+/g;function ve(T,b){return typeof T=="object"&&T!==null&&T.key!=null?ne(""+T.key):b.toString(36)}function pe(T,b,ae,Q,ee){var re=typeof T;(re==="undefined"||re==="boolean")&&(T=null);var ce=!1;if(T===null)ce=!0;else switch(re){case"string":case"number":ce=!0;break;case"object":switch(T.$$typeof){case s:case o:ce=!0}}if(ce)return ce=T,ee=ee(ce),T=Q===""?"."+ve(ce,0):Q,L(ee)?(ae="",T!=null&&(ae=T.replace(Se,"$&/")+"/"),pe(ee,b,ae,"",function(Le){return Le})):ee!=null&&(H(ee)&&(ee=ie(ee,ae+(!ee.key||ce&&ce.key===ee.key?"":(""+ee.key).replace(Se,"$&/")+"/")+T)),b.push(ee)),1;if(ce=0,Q=Q===""?".":Q+":",L(T))for(var de=0;de<T.length;de++){re=T[de];var ge=Q+ve(re,de);ce+=pe(re,b,ae,ge,ee)}else if(ge=x(T),typeof ge=="function")for(T=ge.call(T),de=0;!(re=T.next()).done;)re=re.value,ge=Q+ve(re,de++),ce+=pe(re,b,ae,ge,ee);else if(re==="object")throw b=String(T),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return ce}function xe(T,b,ae){if(T==null)return T;var Q=[],ee=0;return pe(T,Q,"","",function(re){return b.call(ae,re,ee++)}),Q}function Pe(T){if(T._status===-1){var b=T._result;b=b(),b.then(function(ae){(T._status===0||T._status===-1)&&(T._status=1,T._result=ae)},function(ae){(T._status===0||T._status===-1)&&(T._status=2,T._result=ae)}),T._status===-1&&(T._status=0,T._result=b)}if(T._status===1)return T._result.default;throw T._result}var he={current:null},$={transition:null},Z={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:$,ReactCurrentOwner:q};function G(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:xe,forEach:function(T,b,ae){xe(T,function(){b.apply(this,arguments)},ae)},count:function(T){var b=0;return xe(T,function(){b++}),b},toArray:function(T){return xe(T,function(b){return b})||[]},only:function(T){if(!H(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},fe.Component=A,fe.Fragment=l,fe.Profiler=u,fe.PureComponent=I,fe.StrictMode=c,fe.Suspense=h,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,fe.act=G,fe.cloneElement=function(T,b,ae){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Q=N({},T.props),ee=T.key,re=T.ref,ce=T._owner;if(b!=null){if(b.ref!==void 0&&(re=b.ref,ce=q.current),b.key!==void 0&&(ee=""+b.key),T.type&&T.type.defaultProps)var de=T.type.defaultProps;for(ge in b)Y.call(b,ge)&&!se.hasOwnProperty(ge)&&(Q[ge]=b[ge]===void 0&&de!==void 0?de[ge]:b[ge])}var ge=arguments.length-2;if(ge===1)Q.children=ae;else if(1<ge){de=Array(ge);for(var Le=0;Le<ge;Le++)de[Le]=arguments[Le+2];Q.children=de}return{$$typeof:s,type:T.type,key:ee,ref:re,props:Q,_owner:ce}},fe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:d,_context:T},T.Consumer=T},fe.createElement=te,fe.createFactory=function(T){var b=te.bind(null,T);return b.type=T,b},fe.createRef=function(){return{current:null}},fe.forwardRef=function(T){return{$$typeof:y,render:T}},fe.isValidElement=H,fe.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:Pe}},fe.memo=function(T,b){return{$$typeof:w,type:T,compare:b===void 0?null:b}},fe.startTransition=function(T){var b=$.transition;$.transition={};try{T()}finally{$.transition=b}},fe.unstable_act=G,fe.useCallback=function(T,b){return he.current.useCallback(T,b)},fe.useContext=function(T){return he.current.useContext(T)},fe.useDebugValue=function(){},fe.useDeferredValue=function(T){return he.current.useDeferredValue(T)},fe.useEffect=function(T,b){return he.current.useEffect(T,b)},fe.useId=function(){return he.current.useId()},fe.useImperativeHandle=function(T,b,ae){return he.current.useImperativeHandle(T,b,ae)},fe.useInsertionEffect=function(T,b){return he.current.useInsertionEffect(T,b)},fe.useLayoutEffect=function(T,b){return he.current.useLayoutEffect(T,b)},fe.useMemo=function(T,b){return he.current.useMemo(T,b)},fe.useReducer=function(T,b,ae){return he.current.useReducer(T,b,ae)},fe.useRef=function(T){return he.current.useRef(T)},fe.useState=function(T){return he.current.useState(T)},fe.useSyncExternalStore=function(T,b,ae){return he.current.useSyncExternalStore(T,b,ae)},fe.useTransition=function(){return he.current.useTransition()},fe.version="18.3.1",fe}var Rc;function Ni(){return Rc||(Rc=1,mi.exports=Dp()),mi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc;function Lp(){if(Oc)return Wr;Oc=1;var s=Ni(),o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(y,h,w){var v,g={},x=null,k=null;w!==void 0&&(x=""+w),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(k=h.ref);for(v in h)c.call(h,v)&&!d.hasOwnProperty(v)&&(g[v]=h[v]);if(y&&y.defaultProps)for(v in h=y.defaultProps,h)g[v]===void 0&&(g[v]=h[v]);return{$$typeof:o,type:y,key:x,ref:k,props:g,_owner:u.current}}return Wr.Fragment=l,Wr.jsx=f,Wr.jsxs=f,Wr}var Mc;function Ip(){return Mc||(Mc=1,hi.exports=Lp()),hi.exports}var m=Ip(),D=Ni();const Ae=jp(D);var pl={},gi={exports:{}},it={},vi={exports:{}},yi={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac;function bp(){return Ac||(Ac=1,function(s){function o($,Z){var G=$.length;$.push(Z);e:for(;0<G;){var T=G-1>>>1,b=$[T];if(0<u(b,Z))$[T]=Z,$[G]=b,G=T;else break e}}function l($){return $.length===0?null:$[0]}function c($){if($.length===0)return null;var Z=$[0],G=$.pop();if(G!==Z){$[0]=G;e:for(var T=0,b=$.length,ae=b>>>1;T<ae;){var Q=2*(T+1)-1,ee=$[Q],re=Q+1,ce=$[re];if(0>u(ee,G))re<b&&0>u(ce,ee)?($[T]=ce,$[re]=G,T=re):($[T]=ee,$[Q]=G,T=Q);else if(re<b&&0>u(ce,G))$[T]=ce,$[re]=G,T=re;else break e}}return Z}function u($,Z){var G=$.sortIndex-Z.sortIndex;return G!==0?G:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,y=f.now();s.unstable_now=function(){return f.now()-y}}var h=[],w=[],v=1,g=null,x=3,k=!1,N=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M($){for(var Z=l(w);Z!==null;){if(Z.callback===null)c(w);else if(Z.startTime<=$)c(w),Z.sortIndex=Z.expirationTime,o(h,Z);else break;Z=l(w)}}function L($){if(j=!1,M($),!N)if(l(h)!==null)N=!0,Pe(Y);else{var Z=l(w);Z!==null&&he(L,Z.startTime-$)}}function Y($,Z){N=!1,j&&(j=!1,R(te),te=-1),k=!0;var G=x;try{for(M(Z),g=l(h);g!==null&&(!(g.expirationTime>Z)||$&&!ne());){var T=g.callback;if(typeof T=="function"){g.callback=null,x=g.priorityLevel;var b=T(g.expirationTime<=Z);Z=s.unstable_now(),typeof b=="function"?g.callback=b:g===l(h)&&c(h),M(Z)}else c(h);g=l(h)}if(g!==null)var ae=!0;else{var Q=l(w);Q!==null&&he(L,Q.startTime-Z),ae=!1}return ae}finally{g=null,x=G,k=!1}}var q=!1,se=null,te=-1,ie=5,H=-1;function ne(){return!(s.unstable_now()-H<ie)}function Se(){if(se!==null){var $=s.unstable_now();H=$;var Z=!0;try{Z=se(!0,$)}finally{Z?ve():(q=!1,se=null)}}else q=!1}var ve;if(typeof I=="function")ve=function(){I(Se)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,xe=pe.port2;pe.port1.onmessage=Se,ve=function(){xe.postMessage(null)}}else ve=function(){A(Se,0)};function Pe($){se=$,q||(q=!0,ve())}function he($,Z){te=A(function(){$(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){N||k||(N=!0,Pe(Y))},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_getFirstCallbackNode=function(){return l(h)},s.unstable_next=function($){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var G=x;x=Z;try{return $()}finally{x=G}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=x;x=$;try{return Z()}finally{x=G}},s.unstable_scheduleCallback=function($,Z,G){var T=s.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?T+G:T):G=T,$){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=G+b,$={id:v++,callback:Z,priorityLevel:$,startTime:G,expirationTime:b,sortIndex:-1},G>T?($.sortIndex=G,o(w,$),l(h)===null&&$===l(w)&&(j?(R(te),te=-1):j=!0,he(L,G-T))):($.sortIndex=b,o(h,$),N||k||(N=!0,Pe(Y))),$},s.unstable_shouldYield=ne,s.unstable_wrapCallback=function($){var Z=x;return function(){var G=x;x=Z;try{return $.apply(this,arguments)}finally{x=G}}}}(yi)),yi}var jc;function Fp(){return jc||(jc=1,vi.exports=bp()),vi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc;function Bp(){if(Dc)return it;Dc=1;var s=Ni(),o=Fp();function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,u={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)c.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function x(e){return h.call(g,e)?!0:h.call(v,e)?!1:w.test(e)?g[e]=!0:(v[e]=!0,!1)}function k(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,n,r){if(t===null||typeof t>"u"||k(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,n,r,i,a,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=p}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,I);A[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,I);A[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,I);A[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function M(e,t,n,r){var i=A.hasOwnProperty(t)?A[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,n,i,r)&&(n=null),r||i===null?x(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var L=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),q=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ne=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),$=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,T;function b(e){if(T===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return`
`+T+e}var ae=!1;function Q(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var r=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){r=O}e.call(t.prototype)}else{try{throw Error()}catch(O){r=O}e()}}catch(O){if(O&&r&&typeof O.stack=="string"){for(var i=O.stack.split(`
`),a=r.stack.split(`
`),p=i.length-1,S=a.length-1;1<=p&&0<=S&&i[p]!==a[S];)S--;for(;1<=p&&0<=S;p--,S--)if(i[p]!==a[S]){if(p!==1||S!==1)do if(p--,S--,0>S||i[p]!==a[S]){var E=`
`+i[p].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=p&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?b(e):""}function ee(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1),e;case 11:return e=Q(e.type.render,!1),e;case 1:return e=Q(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case q:return"Portal";case ie:return"Profiler";case te:return"StrictMode";case ve:return"Suspense";case pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ne:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}function ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ge(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Le(e){var t=ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){r=""+p,a.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mn(e){e._valueTracker||(e._valueTracker=Le(e))}function no(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ge(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ro(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xl(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Di(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=de(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Li(e,t){t=t.checked,t!=null&&M(e,"checked",t,!1)}function El(e,t){Li(e,t);var n=de(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Cl(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ii(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Cl(e,t,n){(t!=="number"||ro(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ir=Array.isArray;function Ln(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+de(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(l(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(l(92));if(ir(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:de(n)}}function Fi(e,t){var n=de(t.value),r=de(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oo,Ui=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oo=oo||document.createElement("div"),oo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ld=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){Ld.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function $i(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function Gi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$i(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Id=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nl(e,t){if(t){if(Id[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(l(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(t.style!=null&&typeof t.style!="object")throw Error(l(62))}}function Pl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function Rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,In=null,bn=null;function Vi(e){if(e=Mr(e)){if(typeof Ol!="function")throw Error(l(280));var t=e.stateNode;t&&(t=_o(t),Ol(e.stateNode,e.type,t))}}function Hi(e){In?bn?bn.push(e):bn=[e]:In=e}function Wi(){if(In){var e=In,t=bn;if(bn=In=null,Vi(e),t)for(e=0;e<t.length;e++)Vi(t[e])}}function Qi(e,t){return e(t)}function qi(){}var Ml=!1;function Ki(e,t,n){if(Ml)return e(t,n);Ml=!0;try{return Qi(e,t,n)}finally{Ml=!1,(In!==null||bn!==null)&&(qi(),Wi())}}function cr(e,t){var n=e.stateNode;if(n===null)return null;var r=_o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var Al=!1;if(y)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Al=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Al=!1}function bd(e,t,n,r,i,a,p,S,E){var O=Array.prototype.slice.call(arguments,3);try{t.apply(n,O)}catch(B){this.onError(B)}}var fr=!1,lo=null,so=!1,jl=null,Fd={onError:function(e){fr=!0,lo=e}};function Bd(e,t,n,r,i,a,p,S,E){fr=!1,lo=null,bd.apply(Fd,arguments)}function zd(e,t,n,r,i,a,p,S,E){if(Bd.apply(this,arguments),fr){if(fr){var O=lo;fr=!1,lo=null}else throw Error(l(198));so||(so=!0,jl=O)}}function gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xi(e){if(gn(e)!==e)throw Error(l(188))}function Ud(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xi(i),e;if(a===r)return Xi(i),t;a=a.sibling}throw Error(l(188))}if(n.return!==r.return)n=i,r=a;else{for(var p=!1,S=i.child;S;){if(S===n){p=!0,n=i,r=a;break}if(S===r){p=!0,r=i,n=a;break}S=S.sibling}if(!p){for(S=a.child;S;){if(S===n){p=!0,n=a,r=i;break}if(S===r){p=!0,r=a,n=i;break}S=S.sibling}if(!p)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function Ji(e){return e=Ud(e),e!==null?Zi(e):null}function Zi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zi(e);if(t!==null)return t;e=e.sibling}return null}var ea=o.unstable_scheduleCallback,ta=o.unstable_cancelCallback,$d=o.unstable_shouldYield,Gd=o.unstable_requestPaint,Ie=o.unstable_now,Vd=o.unstable_getCurrentPriorityLevel,Dl=o.unstable_ImmediatePriority,na=o.unstable_UserBlockingPriority,io=o.unstable_NormalPriority,Hd=o.unstable_LowPriority,ra=o.unstable_IdlePriority,ao=null,Mt=null;function Wd(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Kd,Qd=Math.log,qd=Math.LN2;function Kd(e){return e>>>=0,e===0?32:31-(Qd(e)/qd|0)|0}var uo=64,co=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,p=n&268435455;if(p!==0){var S=p&~i;S!==0?r=pr(S):(a&=p,a!==0&&(r=pr(a)))}else p=n&~i,p!==0?r=pr(p):a!==0&&(r=pr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),i=1<<n,r|=e[n],t&=~i;return r}function Yd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var p=31-kt(a),S=1<<p,E=i[p];E===-1?(!(S&n)||S&r)&&(i[p]=Yd(S,t)):E<=t&&(e.expiredLanes|=S),a&=~S}}function Ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oa(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function Il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Jd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ee=0;function la(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sa,Fl,ia,aa,ua,Bl=!1,po=[],Wt=null,Qt=null,qt=null,mr=new Map,gr=new Map,Kt=[],Zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ca(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(t.pointerId)}}function vr(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mr(t),t!==null&&Fl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ef(e,t,n,r,i){switch(t){case"focusin":return Wt=vr(Wt,e,t,n,r,i),!0;case"dragenter":return Qt=vr(Qt,e,t,n,r,i),!0;case"mouseover":return qt=vr(qt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mr.set(a,vr(mr.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gr.set(a,vr(gr.get(a)||null,e,t,n,r,i)),!0}return!1}function da(e){var t=vn(e.target);if(t!==null){var n=gn(t);if(n!==null){if(t=n.tag,t===13){if(t=Yi(n),t!==null){e.blockedOn=t,ua(e.priority,function(){ia(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_l=r,n.target.dispatchEvent(r),_l=null}else return t=Mr(n),t!==null&&Fl(t),e.blockedOn=n,!1;t.shift()}return!0}function fa(e,t,n){ho(e)&&n.delete(t)}function tf(){Bl=!1,Wt!==null&&ho(Wt)&&(Wt=null),Qt!==null&&ho(Qt)&&(Qt=null),qt!==null&&ho(qt)&&(qt=null),mr.forEach(fa),gr.forEach(fa)}function yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Bl||(Bl=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,tf)))}function wr(e){function t(i){return yr(i,e)}if(0<po.length){yr(po[0],e);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&yr(Wt,e),Qt!==null&&yr(Qt,e),qt!==null&&yr(qt,e),mr.forEach(t),gr.forEach(t),n=0;n<Kt.length;n++)r=Kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)da(n),n.blockedOn===null&&Kt.shift()}var Fn=L.ReactCurrentBatchConfig,mo=!0;function nf(e,t,n,r){var i=Ee,a=Fn.transition;Fn.transition=null;try{Ee=1,zl(e,t,n,r)}finally{Ee=i,Fn.transition=a}}function rf(e,t,n,r){var i=Ee,a=Fn.transition;Fn.transition=null;try{Ee=4,zl(e,t,n,r)}finally{Ee=i,Fn.transition=a}}function zl(e,t,n,r){if(mo){var i=Ul(e,t,n,r);if(i===null)os(e,t,r,go,n),ca(e,r);else if(ef(i,e,t,n,r))r.stopPropagation();else if(ca(e,r),t&4&&-1<Zd.indexOf(e)){for(;i!==null;){var a=Mr(i);if(a!==null&&sa(a),a=Ul(e,t,n,r),a===null&&os(e,t,r,go,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else os(e,t,r,null,n)}}var go=null;function Ul(e,t,n,r){if(go=null,e=Rl(r),e=vn(e),e!==null)if(t=gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return go=e,null}function pa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vd()){case Dl:return 1;case na:return 4;case io:case Hd:return 16;case ra:return 536870912;default:return 16}default:return 16}}var Yt=null,$l=null,vo=null;function ha(){if(vo)return vo;var e,t=$l,n=t.length,r,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===i[a-r];r++);return vo=i.slice(e,1<r?1-r:void 0)}function yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wo(){return!0}function ma(){return!1}function ut(e){function t(n,r,i,a,p){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=p,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(a):a[S]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wo:ma,this.isPropagationStopped=ma,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=ut(Bn),Sr=G({},Bn,{view:0,detail:0}),of=ut(Sr),Vl,Hl,xr,So=G({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Vl=e.screenX-xr.screenX,Hl=e.screenY-xr.screenY):Hl=Vl=0,xr=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),ga=ut(So),lf=G({},So,{dataTransfer:0}),sf=ut(lf),af=G({},Sr,{relatedTarget:0}),Wl=ut(af),uf=G({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),cf=ut(uf),df=G({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=ut(df),pf=G({},Bn,{data:0}),va=ut(pf),hf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gf[e])?!!t[e]:!1}function Ql(){return vf}var yf=G({},Sr,{key:function(e){if(e.key){var t=hf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wf=ut(yf),Sf=G({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ya=ut(Sf),xf=G({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),Ef=ut(xf),Cf=G({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kf=ut(Cf),Tf=G({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nf=ut(Tf),Pf=[9,13,27,32],ql=y&&"CompositionEvent"in window,Er=null;y&&"documentMode"in document&&(Er=document.documentMode);var _f=y&&"TextEvent"in window&&!Er,wa=y&&(!ql||Er&&8<Er&&11>=Er),Sa=" ",xa=!1;function Ea(e,t){switch(e){case"keyup":return Pf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Rf(e,t){switch(e){case"compositionend":return Ca(t);case"keypress":return t.which!==32?null:(xa=!0,Sa);case"textInput":return e=t.data,e===Sa&&xa?null:e;default:return null}}function Of(e,t){if(zn)return e==="compositionend"||!ql&&Ea(e,t)?(e=ha(),vo=$l=Yt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wa&&t.locale!=="ko"?null:t.data;default:return null}}var Mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mf[e.type]:t==="textarea"}function Ta(e,t,n,r){Hi(r),t=To(t,"onChange"),0<t.length&&(n=new Gl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cr=null,kr=null;function Af(e){Ga(e,0)}function xo(e){var t=Hn(e);if(no(t))return e}function jf(e,t){if(e==="change")return t}var Na=!1;if(y){var Kl;if(y){var Yl="oninput"in document;if(!Yl){var Pa=document.createElement("div");Pa.setAttribute("oninput","return;"),Yl=typeof Pa.oninput=="function"}Kl=Yl}else Kl=!1;Na=Kl&&(!document.documentMode||9<document.documentMode)}function _a(){Cr&&(Cr.detachEvent("onpropertychange",Ra),kr=Cr=null)}function Ra(e){if(e.propertyName==="value"&&xo(kr)){var t=[];Ta(t,kr,e,Rl(e)),Ki(Af,t)}}function Df(e,t,n){e==="focusin"?(_a(),Cr=t,kr=n,Cr.attachEvent("onpropertychange",Ra)):e==="focusout"&&_a()}function Lf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(kr)}function If(e,t){if(e==="click")return xo(t)}function bf(e,t){if(e==="input"||e==="change")return xo(t)}function Ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Ff;function Tr(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!Tt(e[i],t[i]))return!1}return!0}function Oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ma(e,t){var n=Oa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oa(n)}}function Aa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Aa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ja(){for(var e=window,t=ro();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ro(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bf(e){var t=ja(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Aa(n.ownerDocument.documentElement,n)){if(r!==null&&Xl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Ma(n,a);var p=Ma(n,r);i&&p&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zf=y&&"documentMode"in document&&11>=document.documentMode,Un=null,Jl=null,Nr=null,Zl=!1;function Da(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zl||Un==null||Un!==ro(r)||(r=Un,"selectionStart"in r&&Xl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&Tr(Nr,r)||(Nr=r,r=To(Jl,"onSelect"),0<r.length&&(t=new Gl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Un)))}function Eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},es={},La={};y&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Co(e){if(es[e])return es[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in La)return es[e]=t[n];return e}var Ia=Co("animationend"),ba=Co("animationiteration"),Fa=Co("animationstart"),Ba=Co("transitionend"),za=new Map,Ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){za.set(e,t),d(t,[e])}for(var ts=0;ts<Ua.length;ts++){var ns=Ua[ts],Uf=ns.toLowerCase(),$f=ns[0].toUpperCase()+ns.slice(1);Xt(Uf,"on"+$f)}Xt(Ia,"onAnimationEnd"),Xt(ba,"onAnimationIteration"),Xt(Fa,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Ba,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function $a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zd(r,t,void 0,e),e.currentTarget=null}function Ga(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var p=r.length-1;0<=p;p--){var S=r[p],E=S.instance,O=S.currentTarget;if(S=S.listener,E!==a&&i.isPropagationStopped())break e;$a(i,S,O),a=E}else for(p=0;p<r.length;p++){if(S=r[p],E=S.instance,O=S.currentTarget,S=S.listener,E!==a&&i.isPropagationStopped())break e;$a(i,S,O),a=E}}}if(so)throw e=jl,so=!1,jl=null,e}function ke(e,t){var n=t[cs];n===void 0&&(n=t[cs]=new Set);var r=e+"__bubble";n.has(r)||(Va(t,e,2,!1),n.add(r))}function rs(e,t,n){var r=0;t&&(r|=4),Va(n,e,r,t)}var ko="_reactListening"+Math.random().toString(36).slice(2);function _r(e){if(!e[ko]){e[ko]=!0,c.forEach(function(n){n!=="selectionchange"&&(Gf.has(n)||rs(n,!1,e),rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ko]||(t[ko]=!0,rs("selectionchange",!1,t))}}function Va(e,t,n,r){switch(pa(t)){case 1:var i=nf;break;case 4:i=rf;break;default:i=zl}n=i.bind(null,t,n,e),i=void 0,!Al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function os(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var S=r.stateNode.containerInfo;if(S===i||S.nodeType===8&&S.parentNode===i)break;if(p===4)for(p=r.return;p!==null;){var E=p.tag;if((E===3||E===4)&&(E=p.stateNode.containerInfo,E===i||E.nodeType===8&&E.parentNode===i))return;p=p.return}for(;S!==null;){if(p=vn(S),p===null)return;if(E=p.tag,E===5||E===6){r=a=p;continue e}S=S.parentNode}}r=r.return}Ki(function(){var O=a,B=Rl(n),z=[];e:{var F=za.get(e);if(F!==void 0){var V=Gl,K=e;switch(e){case"keypress":if(yo(n)===0)break e;case"keydown":case"keyup":V=wf;break;case"focusin":K="focus",V=Wl;break;case"focusout":K="blur",V=Wl;break;case"beforeblur":case"afterblur":V=Wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Ef;break;case Ia:case ba:case Fa:V=cf;break;case Ba:V=kf;break;case"scroll":V=of;break;case"wheel":V=Nf;break;case"copy":case"cut":case"paste":V=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=ya}var X=(t&4)!==0,be=!X&&e==="scroll",P=X?F!==null?F+"Capture":null:F;X=[];for(var C=O,_;C!==null;){_=C;var U=_.stateNode;if(_.tag===5&&U!==null&&(_=U,P!==null&&(U=cr(C,P),U!=null&&X.push(Rr(C,U,_)))),be)break;C=C.return}0<X.length&&(F=new V(F,K,null,n,B),z.push({event:F,listeners:X}))}}if(!(t&7)){e:{if(F=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",F&&n!==_l&&(K=n.relatedTarget||n.fromElement)&&(vn(K)||K[bt]))break e;if((V||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,V?(K=n.relatedTarget||n.toElement,V=O,K=K?vn(K):null,K!==null&&(be=gn(K),K!==be||K.tag!==5&&K.tag!==6)&&(K=null)):(V=null,K=O),V!==K)){if(X=ga,U="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(X=ya,U="onPointerLeave",P="onPointerEnter",C="pointer"),be=V==null?F:Hn(V),_=K==null?F:Hn(K),F=new X(U,C+"leave",V,n,B),F.target=be,F.relatedTarget=_,U=null,vn(B)===O&&(X=new X(P,C+"enter",K,n,B),X.target=_,X.relatedTarget=be,U=X),be=U,V&&K)t:{for(X=V,P=K,C=0,_=X;_;_=Gn(_))C++;for(_=0,U=P;U;U=Gn(U))_++;for(;0<C-_;)X=Gn(X),C--;for(;0<_-C;)P=Gn(P),_--;for(;C--;){if(X===P||P!==null&&X===P.alternate)break t;X=Gn(X),P=Gn(P)}X=null}else X=null;V!==null&&Ha(z,F,V,X,!1),K!==null&&be!==null&&Ha(z,be,K,X,!0)}}e:{if(F=O?Hn(O):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var J=jf;else if(ka(F))if(Na)J=bf;else{J=Lf;var oe=Df}else(V=F.nodeName)&&V.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(J=If);if(J&&(J=J(e,O))){Ta(z,J,n,B);break e}oe&&oe(e,F,O),e==="focusout"&&(oe=F._wrapperState)&&oe.controlled&&F.type==="number"&&Cl(F,"number",F.value)}switch(oe=O?Hn(O):window,e){case"focusin":(ka(oe)||oe.contentEditable==="true")&&(Un=oe,Jl=O,Nr=null);break;case"focusout":Nr=Jl=Un=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Da(z,n,B);break;case"selectionchange":if(zf)break;case"keydown":case"keyup":Da(z,n,B)}var le;if(ql)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else zn?Ea(e,n)&&(ue="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ue="onCompositionStart");ue&&(wa&&n.locale!=="ko"&&(zn||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&zn&&(le=ha()):(Yt=B,$l="value"in Yt?Yt.value:Yt.textContent,zn=!0)),oe=To(O,ue),0<oe.length&&(ue=new va(ue,e,null,n,B),z.push({event:ue,listeners:oe}),le?ue.data=le:(le=Ca(n),le!==null&&(ue.data=le)))),(le=_f?Rf(e,n):Of(e,n))&&(O=To(O,"onBeforeInput"),0<O.length&&(B=new va("onBeforeInput","beforeinput",null,n,B),z.push({event:B,listeners:O}),B.data=le))}Ga(z,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function To(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cr(e,n),a!=null&&r.unshift(Rr(e,a,i)),a=cr(e,t),a!=null&&r.push(Rr(e,a,i))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ha(e,t,n,r,i){for(var a=t._reactName,p=[];n!==null&&n!==r;){var S=n,E=S.alternate,O=S.stateNode;if(E!==null&&E===r)break;S.tag===5&&O!==null&&(S=O,i?(E=cr(n,a),E!=null&&p.unshift(Rr(n,E,S))):i||(E=cr(n,a),E!=null&&p.push(Rr(n,E,S)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Vf=/\r\n?/g,Hf=/\u0000|\uFFFD/g;function Wa(e){return(typeof e=="string"?e:""+e).replace(Vf,`
`).replace(Hf,"")}function No(e,t,n){if(t=Wa(t),Wa(e)!==t&&n)throw Error(l(425))}function Po(){}var ls=null,ss=null;function is(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var as=typeof setTimeout=="function"?setTimeout:void 0,Wf=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,Qf=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(e){return Qa.resolve(null).then(e).catch(qf)}:as;function qf(e){setTimeout(function(){throw e})}function us(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wr(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),At="__reactFiber$"+Vn,Or="__reactProps$"+Vn,bt="__reactContainer$"+Vn,cs="__reactEvents$"+Vn,Kf="__reactListeners$"+Vn,Yf="__reactHandles$"+Vn;function vn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qa(e);e!==null;){if(n=e[At])return n;e=qa(e)}return t}e=n,n=e.parentNode}return null}function Mr(e){return e=e[At]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function _o(e){return e[Or]||null}var ds=[],Wn=-1;function Zt(e){return{current:e}}function Te(e){0>Wn||(e.current=ds[Wn],ds[Wn]=null,Wn--)}function Ce(e,t){Wn++,ds[Wn]=e.current,e.current=t}var en={},Ke=Zt(en),nt=Zt(!1),yn=en;function Qn(e,t){var n=e.type.contextTypes;if(!n)return en;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function Ro(){Te(nt),Te(Ke)}function Ka(e,t,n){if(Ke.current!==en)throw Error(l(168));Ce(Ke,t),Ce(nt,n)}function Ya(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(l(108,ce(e)||"Unknown",i));return G({},n,r)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,yn=Ke.current,Ce(Ke,e),Ce(nt,nt.current),!0}function Xa(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=Ya(e,t,yn),r.__reactInternalMemoizedMergedChildContext=e,Te(nt),Te(Ke),Ce(Ke,e)):Te(nt),Ce(nt,n)}var Ft=null,Mo=!1,fs=!1;function Ja(e){Ft===null?Ft=[e]:Ft.push(e)}function Xf(e){Mo=!0,Ja(e)}function tn(){if(!fs&&Ft!==null){fs=!0;var e=0,t=Ee;try{var n=Ft;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,Mo=!1}catch(i){throw Ft!==null&&(Ft=Ft.slice(e+1)),ea(Dl,tn),i}finally{Ee=t,fs=!1}}return null}var qn=[],Kn=0,Ao=null,jo=0,pt=[],ht=0,wn=null,Bt=1,zt="";function Sn(e,t){qn[Kn++]=jo,qn[Kn++]=Ao,Ao=e,jo=t}function Za(e,t,n){pt[ht++]=Bt,pt[ht++]=zt,pt[ht++]=wn,wn=e;var r=Bt;e=zt;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var a=32-kt(t)+i;if(30<a){var p=i-i%5;a=(r&(1<<p)-1).toString(32),r>>=p,i-=p,Bt=1<<32-kt(t)+i|n<<i|r,zt=a+e}else Bt=1<<a|n<<i|r,zt=e}function ps(e){e.return!==null&&(Sn(e,1),Za(e,1,0))}function hs(e){for(;e===Ao;)Ao=qn[--Kn],qn[Kn]=null,jo=qn[--Kn],qn[Kn]=null;for(;e===wn;)wn=pt[--ht],pt[ht]=null,zt=pt[--ht],pt[ht]=null,Bt=pt[--ht],pt[ht]=null}var ct=null,dt=null,Ne=!1,Nt=null;function eu(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Bt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,dt=null,!0):!1;default:return!1}}function ms(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gs(e){if(Ne){var t=dt;if(t){var n=t;if(!tu(e,t)){if(ms(e))throw Error(l(418));t=Jt(n.nextSibling);var r=ct;t&&tu(e,t)?eu(r,n):(e.flags=e.flags&-4097|2,Ne=!1,ct=e)}}else{if(ms(e))throw Error(l(418));e.flags=e.flags&-4097|2,Ne=!1,ct=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Do(e){if(e!==ct)return!1;if(!Ne)return nu(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!is(e.type,e.memoizedProps)),t&&(t=dt)){if(ms(e))throw ru(),Error(l(418));for(;t;)eu(e,t),t=Jt(t.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?Jt(e.stateNode.nextSibling):null;return!0}function ru(){for(var e=dt;e;)e=Jt(e.nextSibling)}function Yn(){dt=ct=null,Ne=!1}function vs(e){Nt===null?Nt=[e]:Nt.push(e)}var Jf=L.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(p){var S=i.refs;p===null?delete S[a]:S[a]=p},t._stringRef=a,t)}if(typeof e!="string")throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function Lo(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ou(e){var t=e._init;return t(e._payload)}function lu(e){function t(P,C){if(e){var _=P.deletions;_===null?(P.deletions=[C],P.flags|=16):_.push(C)}}function n(P,C){if(!e)return null;for(;C!==null;)t(P,C),C=C.sibling;return null}function r(P,C){for(P=new Map;C!==null;)C.key!==null?P.set(C.key,C):P.set(C.index,C),C=C.sibling;return P}function i(P,C){return P=cn(P,C),P.index=0,P.sibling=null,P}function a(P,C,_){return P.index=_,e?(_=P.alternate,_!==null?(_=_.index,_<C?(P.flags|=2,C):_):(P.flags|=2,C)):(P.flags|=1048576,C)}function p(P){return e&&P.alternate===null&&(P.flags|=2),P}function S(P,C,_,U){return C===null||C.tag!==6?(C=ai(_,P.mode,U),C.return=P,C):(C=i(C,_),C.return=P,C)}function E(P,C,_,U){var J=_.type;return J===se?B(P,C,_.props.children,U,_.key):C!==null&&(C.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Pe&&ou(J)===C.type)?(U=i(C,_.props),U.ref=Ar(P,C,_),U.return=P,U):(U=ll(_.type,_.key,_.props,null,P.mode,U),U.ref=Ar(P,C,_),U.return=P,U)}function O(P,C,_,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==_.containerInfo||C.stateNode.implementation!==_.implementation?(C=ui(_,P.mode,U),C.return=P,C):(C=i(C,_.children||[]),C.return=P,C)}function B(P,C,_,U,J){return C===null||C.tag!==7?(C=_n(_,P.mode,U,J),C.return=P,C):(C=i(C,_),C.return=P,C)}function z(P,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return C=ai(""+C,P.mode,_),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Y:return _=ll(C.type,C.key,C.props,null,P.mode,_),_.ref=Ar(P,null,C),_.return=P,_;case q:return C=ui(C,P.mode,_),C.return=P,C;case Pe:var U=C._init;return z(P,U(C._payload),_)}if(ir(C)||Z(C))return C=_n(C,P.mode,_,null),C.return=P,C;Lo(P,C)}return null}function F(P,C,_,U){var J=C!==null?C.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return J!==null?null:S(P,C,""+_,U);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Y:return _.key===J?E(P,C,_,U):null;case q:return _.key===J?O(P,C,_,U):null;case Pe:return J=_._init,F(P,C,J(_._payload),U)}if(ir(_)||Z(_))return J!==null?null:B(P,C,_,U,null);Lo(P,_)}return null}function V(P,C,_,U,J){if(typeof U=="string"&&U!==""||typeof U=="number")return P=P.get(_)||null,S(C,P,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return P=P.get(U.key===null?_:U.key)||null,E(C,P,U,J);case q:return P=P.get(U.key===null?_:U.key)||null,O(C,P,U,J);case Pe:var oe=U._init;return V(P,C,_,oe(U._payload),J)}if(ir(U)||Z(U))return P=P.get(_)||null,B(C,P,U,J,null);Lo(C,U)}return null}function K(P,C,_,U){for(var J=null,oe=null,le=C,ue=C=0,Ve=null;le!==null&&ue<_.length;ue++){le.index>ue?(Ve=le,le=null):Ve=le.sibling;var we=F(P,le,_[ue],U);if(we===null){le===null&&(le=Ve);break}e&&le&&we.alternate===null&&t(P,le),C=a(we,C,ue),oe===null?J=we:oe.sibling=we,oe=we,le=Ve}if(ue===_.length)return n(P,le),Ne&&Sn(P,ue),J;if(le===null){for(;ue<_.length;ue++)le=z(P,_[ue],U),le!==null&&(C=a(le,C,ue),oe===null?J=le:oe.sibling=le,oe=le);return Ne&&Sn(P,ue),J}for(le=r(P,le);ue<_.length;ue++)Ve=V(le,P,ue,_[ue],U),Ve!==null&&(e&&Ve.alternate!==null&&le.delete(Ve.key===null?ue:Ve.key),C=a(Ve,C,ue),oe===null?J=Ve:oe.sibling=Ve,oe=Ve);return e&&le.forEach(function(dn){return t(P,dn)}),Ne&&Sn(P,ue),J}function X(P,C,_,U){var J=Z(_);if(typeof J!="function")throw Error(l(150));if(_=J.call(_),_==null)throw Error(l(151));for(var oe=J=null,le=C,ue=C=0,Ve=null,we=_.next();le!==null&&!we.done;ue++,we=_.next()){le.index>ue?(Ve=le,le=null):Ve=le.sibling;var dn=F(P,le,we.value,U);if(dn===null){le===null&&(le=Ve);break}e&&le&&dn.alternate===null&&t(P,le),C=a(dn,C,ue),oe===null?J=dn:oe.sibling=dn,oe=dn,le=Ve}if(we.done)return n(P,le),Ne&&Sn(P,ue),J;if(le===null){for(;!we.done;ue++,we=_.next())we=z(P,we.value,U),we!==null&&(C=a(we,C,ue),oe===null?J=we:oe.sibling=we,oe=we);return Ne&&Sn(P,ue),J}for(le=r(P,le);!we.done;ue++,we=_.next())we=V(le,P,ue,we.value,U),we!==null&&(e&&we.alternate!==null&&le.delete(we.key===null?ue:we.key),C=a(we,C,ue),oe===null?J=we:oe.sibling=we,oe=we);return e&&le.forEach(function(Op){return t(P,Op)}),Ne&&Sn(P,ue),J}function be(P,C,_,U){if(typeof _=="object"&&_!==null&&_.type===se&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Y:e:{for(var J=_.key,oe=C;oe!==null;){if(oe.key===J){if(J=_.type,J===se){if(oe.tag===7){n(P,oe.sibling),C=i(oe,_.props.children),C.return=P,P=C;break e}}else if(oe.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Pe&&ou(J)===oe.type){n(P,oe.sibling),C=i(oe,_.props),C.ref=Ar(P,oe,_),C.return=P,P=C;break e}n(P,oe);break}else t(P,oe);oe=oe.sibling}_.type===se?(C=_n(_.props.children,P.mode,U,_.key),C.return=P,P=C):(U=ll(_.type,_.key,_.props,null,P.mode,U),U.ref=Ar(P,C,_),U.return=P,P=U)}return p(P);case q:e:{for(oe=_.key;C!==null;){if(C.key===oe)if(C.tag===4&&C.stateNode.containerInfo===_.containerInfo&&C.stateNode.implementation===_.implementation){n(P,C.sibling),C=i(C,_.children||[]),C.return=P,P=C;break e}else{n(P,C);break}else t(P,C);C=C.sibling}C=ui(_,P.mode,U),C.return=P,P=C}return p(P);case Pe:return oe=_._init,be(P,C,oe(_._payload),U)}if(ir(_))return K(P,C,_,U);if(Z(_))return X(P,C,_,U);Lo(P,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,C!==null&&C.tag===6?(n(P,C.sibling),C=i(C,_),C.return=P,P=C):(n(P,C),C=ai(_,P.mode,U),C.return=P,P=C),p(P)):n(P,C)}return be}var Xn=lu(!0),su=lu(!1),Io=Zt(null),bo=null,Jn=null,ys=null;function ws(){ys=Jn=bo=null}function Ss(e){var t=Io.current;Te(Io),e._currentValue=t}function xs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){bo=e,ys=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(ys!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(bo===null)throw Error(l(308));Jn=e,bo.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var xn=null;function Es(e){xn===null?xn=[e]:xn.push(e)}function iu(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Es(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ut(e,r)}function Ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function Cs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ut(e,n)}return i=r.interleaved,i===null?(t.next=t,Es(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ut(e,n)}function Fo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}function uu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=p:a=a.next=p,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;nn=!1;var a=i.firstBaseUpdate,p=i.lastBaseUpdate,S=i.shared.pending;if(S!==null){i.shared.pending=null;var E=S,O=E.next;E.next=null,p===null?a=O:p.next=O,p=E;var B=e.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==p&&(S===null?B.firstBaseUpdate=O:S.next=O,B.lastBaseUpdate=E))}if(a!==null){var z=i.baseState;p=0,B=O=E=null,S=a;do{var F=S.lane,V=S.eventTime;if((r&F)===F){B!==null&&(B=B.next={eventTime:V,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var K=e,X=S;switch(F=t,V=n,X.tag){case 1:if(K=X.payload,typeof K=="function"){z=K.call(V,z,F);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=X.payload,F=typeof K=="function"?K.call(V,z,F):K,F==null)break e;z=G({},z,F);break e;case 2:nn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,F=i.effects,F===null?i.effects=[S]:F.push(S))}else V={eventTime:V,lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(O=B=V,E=z):B=B.next=V,p|=F;if(S=S.next,S===null){if(S=i.shared.pending,S===null)break;F=S,S=F.next,F.next=null,i.lastBaseUpdate=F,i.shared.pending=null}}while(!0);if(B===null&&(E=z),i.baseState=E,i.firstBaseUpdate=O,i.lastBaseUpdate=B,t=i.shared.interleaved,t!==null){i=t;do p|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);kn|=p,e.lanes=p,e.memoizedState=z}}function cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(l(191,i));i.call(r)}}}var jr={},jt=Zt(jr),Dr=Zt(jr),Lr=Zt(jr);function En(e){if(e===jr)throw Error(l(174));return e}function ks(e,t){switch(Ce(Lr,t),Ce(Dr,e),Ce(jt,jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tl(t,e)}Te(jt),Ce(jt,t)}function er(){Te(jt),Te(Dr),Te(Lr)}function du(e){En(Lr.current);var t=En(jt.current),n=Tl(t,e.type);t!==n&&(Ce(Dr,e),Ce(jt,n))}function Ts(e){Dr.current===e&&(Te(jt),Te(Dr))}var _e=Zt(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ns=[];function Ps(){for(var e=0;e<Ns.length;e++)Ns[e]._workInProgressVersionPrimary=null;Ns.length=0}var Uo=L.ReactCurrentDispatcher,_s=L.ReactCurrentBatchConfig,Cn=0,Re=null,ze=null,$e=null,$o=!1,Ir=!1,br=0,Zf=0;function Ye(){throw Error(l(321))}function Rs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Os(e,t,n,r,i,a){if(Cn=a,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uo.current=e===null||e.memoizedState===null?rp:op,e=n(r,i),Ir){a=0;do{if(Ir=!1,br=0,25<=a)throw Error(l(301));a+=1,$e=ze=null,t.updateQueue=null,Uo.current=lp,e=n(r,i)}while(Ir)}if(Uo.current=Ho,t=ze!==null&&ze.next!==null,Cn=0,$e=ze=Re=null,$o=!1,t)throw Error(l(300));return e}function Ms(){var e=br!==0;return br=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Re.memoizedState=$e=e:$e=$e.next=e,$e}function gt(){if(ze===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=$e===null?Re.memoizedState:$e.next;if(t!==null)$e=t,ze=e;else{if(e===null)throw Error(l(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},$e===null?Re.memoizedState=$e=e:$e=$e.next=e}return $e}function Fr(e,t){return typeof t=="function"?t(e):t}function As(e){var t=gt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=ze,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var p=i.next;i.next=a.next,a.next=p}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var S=p=null,E=null,O=a;do{var B=O.lane;if((Cn&B)===B)E!==null&&(E=E.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),r=O.hasEagerState?O.eagerState:e(r,O.action);else{var z={lane:B,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};E===null?(S=E=z,p=r):E=E.next=z,Re.lanes|=B,kn|=B}O=O.next}while(O!==null&&O!==a);E===null?p=r:E.next=S,Tt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=p,t.baseQueue=E,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Re.lanes|=a,kn|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function js(e){var t=gt(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do a=e(a,p.action),p=p.next;while(p!==i);Tt(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fu(){}function pu(e,t){var n=Re,r=gt(),i=t(),a=!Tt(r.memoizedState,i);if(a&&(r.memoizedState=i,ot=!0),r=r.queue,Ds(gu.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Br(9,mu.bind(null,n,r,i,t),void 0,null),Ge===null)throw Error(l(349));Cn&30||hu(n,t,i)}return i}function hu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mu(e,t,n,r){t.value=n,t.getSnapshot=r,vu(t)&&yu(e)}function gu(e,t,n){return n(function(){vu(t)&&yu(e)})}function vu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function yu(e){var t=Ut(e,1);t!==null&&Ot(t,e,1,-1)}function wu(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=np.bind(null,Re,e),[t.memoizedState,e]}function Br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Su(){return gt().memoizedState}function Go(e,t,n,r){var i=Dt();Re.flags|=e,i.memoizedState=Br(1|t,n,void 0,r===void 0?null:r)}function Vo(e,t,n,r){var i=gt();r=r===void 0?null:r;var a=void 0;if(ze!==null){var p=ze.memoizedState;if(a=p.destroy,r!==null&&Rs(r,p.deps)){i.memoizedState=Br(t,n,a,r);return}}Re.flags|=e,i.memoizedState=Br(1|t,n,a,r)}function xu(e,t){return Go(8390656,8,e,t)}function Ds(e,t){return Vo(2048,8,e,t)}function Eu(e,t){return Vo(4,2,e,t)}function Cu(e,t){return Vo(4,4,e,t)}function ku(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tu(e,t,n){return n=n!=null?n.concat([e]):null,Vo(4,4,ku.bind(null,t,e),n)}function Ls(){}function Nu(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pu(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _u(e,t,n){return Cn&21?(Tt(n,t)||(n=oa(),Re.lanes|=n,kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function ep(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=_s.transition;_s.transition={};try{e(!1),t()}finally{Ee=n,_s.transition=r}}function Ru(){return gt().memoizedState}function tp(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ou(e))Mu(t,n);else if(n=iu(e,t,n,r),n!==null){var i=et();Ot(n,e,r,i),Au(n,t,r)}}function np(e,t,n){var r=an(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))Mu(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var p=t.lastRenderedState,S=a(p,n);if(i.hasEagerState=!0,i.eagerState=S,Tt(S,p)){var E=t.interleaved;E===null?(i.next=i,Es(t)):(i.next=E.next,E.next=i),t.interleaved=i;return}}catch{}finally{}n=iu(e,t,i,r),n!==null&&(i=et(),Ot(n,e,r,i),Au(n,t,r))}}function Ou(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Mu(e,t){Ir=$o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Au(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}var Ho={readContext:mt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},rp={readContext:mt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:xu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Go(4194308,4,ku.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tp.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:wu,useDebugValue:Ls,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=wu(!1),t=e[0];return e=ep.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,i=Dt();if(Ne){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Ge===null)throw Error(l(349));Cn&30||hu(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,xu(gu.bind(null,r,a,e),[e]),r.flags|=2048,Br(9,mu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Dt(),t=Ge.identifierPrefix;if(Ne){var n=zt,r=Bt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},op={readContext:mt,useCallback:Nu,useContext:mt,useEffect:Ds,useImperativeHandle:Tu,useInsertionEffect:Eu,useLayoutEffect:Cu,useMemo:Pu,useReducer:As,useRef:Su,useState:function(){return As(Fr)},useDebugValue:Ls,useDeferredValue:function(e){var t=gt();return _u(t,ze.memoizedState,e)},useTransition:function(){var e=As(Fr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:fu,useSyncExternalStore:pu,useId:Ru,unstable_isNewReconciler:!1},lp={readContext:mt,useCallback:Nu,useContext:mt,useEffect:Ds,useImperativeHandle:Tu,useInsertionEffect:Eu,useLayoutEffect:Cu,useMemo:Pu,useReducer:js,useRef:Su,useState:function(){return js(Fr)},useDebugValue:Ls,useDeferredValue:function(e){var t=gt();return ze===null?t.memoizedState=e:_u(t,ze.memoizedState,e)},useTransition:function(){var e=js(Fr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:fu,useSyncExternalStore:pu,useId:Ru,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=G({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Is(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:G({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),i=an(e),a=$t(r,i);a.payload=t,n!=null&&(a.callback=n),t=rn(e,a,i),t!==null&&(Ot(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),i=an(e),a=$t(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=rn(e,a,i),t!==null&&(Ot(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=an(e),i=$t(n,r);i.tag=2,t!=null&&(i.callback=t),t=rn(e,i,r),t!==null&&(Ot(t,e,r,n),Fo(t,e,r))}};function ju(e,t,n,r,i,a,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,p):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,r)||!Tr(i,a):!0}function Du(e,t,n){var r=!1,i=en,a=t.contextType;return typeof a=="object"&&a!==null?a=mt(a):(i=rt(t)?yn:Ke.current,r=t.contextTypes,a=(r=r!=null)?Qn(e,i):en),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Cs(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=mt(a):(a=rt(t)?yn:Ke.current,i.context=Qn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Is(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",r=t;do n+=ee(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Fs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function Iu(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zo||(Zo=!0,ei=r),Bs(e,t)},n}function bu(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bs(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Bs(e,t),typeof r!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Fu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sp.bind(null,e,t,n),t.then(e,e))}function Bu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zu(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var ip=L.ReactCurrentOwner,ot=!1;function Ze(e,t,n,r){t.child=e===null?su(t,null,n,r):Xn(t,e.child,n,r)}function Uu(e,t,n,r,i){n=n.render;var a=t.ref;return Zn(t,i),r=Os(e,t,n,r,a,i),n=Ms(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(Ne&&n&&ps(t),t.flags|=1,Ze(e,t,r,i),t.child)}function $u(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!ii(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Gu(e,t,a,r,i)):(e=ll(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var p=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(p,r)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=cn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Gu(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Tr(a,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return zs(e,t,n,r,i)}function Vu(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(rr,ft),ft|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(rr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ce(rr,ft),ft|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ce(rr,ft),ft|=r;return Ze(e,t,i,n),t.child}function Hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zs(e,t,n,r,i){var a=rt(n)?yn:Ke.current;return a=Qn(t,a),Zn(t,i),n=Os(e,t,n,r,a,i),r=Ms(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(Ne&&r&&ps(t),t.flags|=1,Ze(e,t,n,i),t.child)}function Wu(e,t,n,r,i){if(rt(n)){var a=!0;Oo(t)}else a=!1;if(Zn(t,i),t.stateNode===null)qo(e,t),Du(t,n,r),bs(t,n,r,i),r=!0;else if(e===null){var p=t.stateNode,S=t.memoizedProps;p.props=S;var E=p.context,O=n.contextType;typeof O=="object"&&O!==null?O=mt(O):(O=rt(n)?yn:Ke.current,O=Qn(t,O));var B=n.getDerivedStateFromProps,z=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function";z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==r||E!==O)&&Lu(t,p,r,O),nn=!1;var F=t.memoizedState;p.state=F,Bo(t,r,p,i),E=t.memoizedState,S!==r||F!==E||nt.current||nn?(typeof B=="function"&&(Is(t,n,B,r),E=t.memoizedState),(S=nn||ju(t,n,S,r,F,E,O))?(z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=E),p.props=r,p.state=E,p.context=O,r=S):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{p=t.stateNode,au(e,t),S=t.memoizedProps,O=t.type===t.elementType?S:Pt(t.type,S),p.props=O,z=t.pendingProps,F=p.context,E=n.contextType,typeof E=="object"&&E!==null?E=mt(E):(E=rt(n)?yn:Ke.current,E=Qn(t,E));var V=n.getDerivedStateFromProps;(B=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==z||F!==E)&&Lu(t,p,r,E),nn=!1,F=t.memoizedState,p.state=F,Bo(t,r,p,i);var K=t.memoizedState;S!==z||F!==K||nt.current||nn?(typeof V=="function"&&(Is(t,n,V,r),K=t.memoizedState),(O=nn||ju(t,n,O,r,F,K,E)||!1)?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,K,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,K,E)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=K),p.props=r,p.state=K,p.context=E,r=O):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),r=!1)}return Us(e,t,n,r,a,i)}function Us(e,t,n,r,i,a){Hu(e,t);var p=(t.flags&128)!==0;if(!r&&!p)return i&&Xa(t,n,!1),Gt(e,t,a);r=t.stateNode,ip.current=t;var S=p&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&p?(t.child=Xn(t,e.child,null,a),t.child=Xn(t,null,S,a)):Ze(e,t,S,a),t.memoizedState=r.state,i&&Xa(t,n,!0),t.child}function Qu(e){var t=e.stateNode;t.pendingContext?Ka(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ka(e,t.context,!1),ks(e,t.containerInfo)}function qu(e,t,n,r,i){return Yn(),vs(i),t.flags|=256,Ze(e,t,n,r),t.child}var $s={dehydrated:null,treeContext:null,retryLane:0};function Gs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ku(e,t,n){var r=t.pendingProps,i=_e.current,a=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(i&2)!==0),S?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(_e,i&1),e===null)return gs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=r.children,e=r.fallback,a?(r=t.mode,a=t.child,p={mode:"hidden",children:p},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=p):a=sl(p,r,0,null),e=_n(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gs(n),t.memoizedState=$s,e):Vs(t,p));if(i=e.memoizedState,i!==null&&(S=i.dehydrated,S!==null))return ap(e,t,p,r,S,i,n);if(a){a=r.fallback,p=t.mode,i=e.child,S=i.sibling;var E={mode:"hidden",children:r.children};return!(p&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=E,t.deletions=null):(r=cn(i,E),r.subtreeFlags=i.subtreeFlags&14680064),S!==null?a=cn(S,a):(a=_n(a,p,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,p=e.child.memoizedState,p=p===null?Gs(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},a.memoizedState=p,a.childLanes=e.childLanes&~n,t.memoizedState=$s,r}return a=e.child,e=a.sibling,r=cn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vs(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qo(e,t,n,r){return r!==null&&vs(r),Xn(t,e.child,null,n),e=Vs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ap(e,t,n,r,i,a,p){if(n)return t.flags&256?(t.flags&=-257,r=Fs(Error(l(422))),Qo(e,t,p,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=sl({mode:"visible",children:r.children},i,0,null),a=_n(a,i,p,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Xn(t,e.child,null,p),t.child.memoizedState=Gs(p),t.memoizedState=$s,a);if(!(t.mode&1))return Qo(e,t,p,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var S=r.dgst;return r=S,a=Error(l(419)),r=Fs(a,r,void 0),Qo(e,t,p,r)}if(S=(p&e.childLanes)!==0,ot||S){if(r=Ge,r!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|p)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ut(e,i),Ot(r,e,i,-1))}return si(),r=Fs(Error(l(421))),Qo(e,t,p,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xp.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,dt=Jt(i.nextSibling),ct=t,Ne=!0,Nt=null,e!==null&&(pt[ht++]=Bt,pt[ht++]=zt,pt[ht++]=wn,Bt=e.id,zt=e.overflow,wn=t),t=Vs(t,r.children),t.flags|=4096,t)}function Yu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xs(e.return,t,n)}function Hs(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Xu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ze(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yu(e,n,t);else if(e.tag===19)Yu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(_e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,a);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function up(e,t,n){switch(t.tag){case 3:Qu(t),Yn();break;case 5:du(t);break;case 1:rt(t.type)&&Oo(t);break;case 4:ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(Io,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Ku(e,t,n):(Ce(_e,_e.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);Ce(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xu(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,Vu(e,t,n)}return Gt(e,t,n)}var Ju,Ws,Zu,ec;Ju=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ws=function(){},Zu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,En(jt.current);var a=null;switch(n){case"input":i=xl(e,i),r=xl(e,r),a=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),a=[];break;case"textarea":i=kl(e,i),r=kl(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Po)}Nl(n,r);var p;n=null;for(O in i)if(!r.hasOwnProperty(O)&&i.hasOwnProperty(O)&&i[O]!=null)if(O==="style"){var S=i[O];for(p in S)S.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(u.hasOwnProperty(O)?a||(a=[]):(a=a||[]).push(O,null));for(O in r){var E=r[O];if(S=i!=null?i[O]:void 0,r.hasOwnProperty(O)&&E!==S&&(E!=null||S!=null))if(O==="style")if(S){for(p in S)!S.hasOwnProperty(p)||E&&E.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in E)E.hasOwnProperty(p)&&S[p]!==E[p]&&(n||(n={}),n[p]=E[p])}else n||(a||(a=[]),a.push(O,n)),n=E;else O==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,S=S?S.__html:void 0,E!=null&&S!==E&&(a=a||[]).push(O,E)):O==="children"?typeof E!="string"&&typeof E!="number"||(a=a||[]).push(O,""+E):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(u.hasOwnProperty(O)?(E!=null&&O==="onScroll"&&ke("scroll",e),a||S===E||(a=[])):(a=a||[]).push(O,E))}n&&(a=a||[]).push("style",n);var O=a;(t.updateQueue=O)&&(t.flags|=4)}},ec=function(e,t,n,r){n!==r&&(t.flags|=4)};function zr(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cp(e,t,n){var r=t.pendingProps;switch(hs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return rt(t.type)&&Ro(),Xe(t),null;case 3:return r=t.stateNode,er(),Te(nt),Te(Ke),Ps(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Do(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(ri(Nt),Nt=null))),Ws(e,t),Xe(t),null;case 5:Ts(t);var i=En(Lr.current);if(n=t.type,e!==null&&t.stateNode!=null)Zu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Xe(t),null}if(e=En(jt.current),Do(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[At]=t,r[Or]=a,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)ke(Pr[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Di(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":bi(r,a),ke("invalid",r)}Nl(n,a),i=null;for(var p in a)if(a.hasOwnProperty(p)){var S=a[p];p==="children"?typeof S=="string"?r.textContent!==S&&(a.suppressHydrationWarning!==!0&&No(r.textContent,S,e),i=["children",S]):typeof S=="number"&&r.textContent!==""+S&&(a.suppressHydrationWarning!==!0&&No(r.textContent,S,e),i=["children",""+S]):u.hasOwnProperty(p)&&S!=null&&p==="onScroll"&&ke("scroll",r)}switch(n){case"input":mn(r),Ii(r,a,!0);break;case"textarea":mn(r),Bi(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Po)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zi(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=p.createElement(n,{is:r.is}):(e=p.createElement(n),n==="select"&&(p=e,r.multiple?p.multiple=!0:r.size&&(p.size=r.size))):e=p.createElementNS(e,n),e[At]=t,e[Or]=r,Ju(e,t,!1,!1),t.stateNode=e;e:{switch(p=Pl(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)ke(Pr[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":Di(e,r),i=xl(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),ke("invalid",e);break;case"textarea":bi(e,r),i=kl(e,r),ke("invalid",e);break;default:i=r}Nl(n,i),S=i;for(a in S)if(S.hasOwnProperty(a)){var E=S[a];a==="style"?Gi(e,E):a==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Ui(e,E)):a==="children"?typeof E=="string"?(n!=="textarea"||E!=="")&&ar(e,E):typeof E=="number"&&ar(e,""+E):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(u.hasOwnProperty(a)?E!=null&&a==="onScroll"&&ke("scroll",e):E!=null&&M(e,a,E,p))}switch(n){case"input":mn(e),Ii(e,r,!1);break;case"textarea":mn(e),Bi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+de(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ln(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)ec(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(n=En(Lr.current),En(jt.current),Do(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(a=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:No(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Xe(t),null;case 13:if(Te(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&dt!==null&&t.mode&1&&!(t.flags&128))ru(),Yn(),t.flags|=98560,a=!1;else if(a=Do(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(l(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(317));a[At]=t}else Yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),a=!1}else Nt!==null&&(ri(Nt),Nt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ue===0&&(Ue=3):si())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return er(),Ws(e,t),e===null&&_r(t.stateNode.containerInfo),Xe(t),null;case 10:return Ss(t.type._context),Xe(t),null;case 17:return rt(t.type)&&Ro(),Xe(t),null;case 19:if(Te(_e),a=t.memoizedState,a===null)return Xe(t),null;if(r=(t.flags&128)!==0,p=a.rendering,p===null)if(r)zr(a,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=zo(e),p!==null){for(t.flags|=128,zr(a,!1),r=p.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,p=a.alternate,p===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,e=p.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(_e,_e.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ie()>or&&(t.flags|=128,r=!0,zr(a,!1),t.lanes=4194304)}else{if(!r)if(e=zo(p),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ne)return Xe(t),null}else 2*Ie()-a.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,r=!0,zr(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(n=a.last,n!==null?n.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ie(),t.sibling=null,n=_e.current,Ce(_e,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return li(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}function dp(e,t){switch(hs(t),t.tag){case 1:return rt(t.type)&&Ro(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),Te(nt),Te(Ke),Ps(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ts(t),null;case 13:if(Te(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(_e),null;case 4:return er(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return li(),null;case 24:return null;default:return null}}var Ko=!1,Je=!1,fp=typeof WeakSet=="function"?WeakSet:Set,W=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Qs(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var tc=!1;function pp(e,t){if(ls=mo,e=ja(),Xl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var p=0,S=-1,E=-1,O=0,B=0,z=e,F=null;t:for(;;){for(var V;z!==n||i!==0&&z.nodeType!==3||(S=p+i),z!==a||r!==0&&z.nodeType!==3||(E=p+r),z.nodeType===3&&(p+=z.nodeValue.length),(V=z.firstChild)!==null;)F=z,z=V;for(;;){if(z===e)break t;if(F===n&&++O===i&&(S=p),F===a&&++B===r&&(E=p),(V=z.nextSibling)!==null)break;z=F,F=z.parentNode}z=V}n=S===-1||E===-1?null:{start:S,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(ss={focusedElem:e,selectionRange:n},mo=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var K=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var X=K.memoizedProps,be=K.memoizedState,P=t.stateNode,C=P.getSnapshotBeforeUpdate(t.elementType===t.type?X:Pt(t.type,X),be);P.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(U){Oe(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return K=tc,tc=!1,K}function Ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Qs(t,n,a)}i=i.next}while(i!==r)}}function Yo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nc(e){var t=e.alternate;t!==null&&(e.alternate=null,nc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Or],delete t[cs],delete t[Kf],delete t[Yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rc(e){return e.tag===5||e.tag===3||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ks(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Po));else if(r!==4&&(e=e.child,e!==null))for(Ks(e,t,n),e=e.sibling;e!==null;)Ks(e,t,n),e=e.sibling}function Ys(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ys(e,t,n),e=e.sibling;e!==null;)Ys(e,t,n),e=e.sibling}var Qe=null,_t=!1;function on(e,t,n){for(n=n.child;n!==null;)lc(e,t,n),n=n.sibling}function lc(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(ao,n)}catch{}switch(n.tag){case 5:Je||nr(n,t);case 6:var r=Qe,i=_t;Qe=null,on(e,t,n),Qe=r,_t=i,Qe!==null&&(_t?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(_t?(e=Qe,n=n.stateNode,e.nodeType===8?us(e.parentNode,n):e.nodeType===1&&us(e,n),wr(e)):us(Qe,n.stateNode));break;case 4:r=Qe,i=_t,Qe=n.stateNode.containerInfo,_t=!0,on(e,t,n),Qe=r,_t=i;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,p=a.destroy;a=a.tag,p!==void 0&&(a&2||a&4)&&Qs(n,t,p),i=i.next}while(i!==r)}on(e,t,n);break;case 1:if(!Je&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(S){Oe(n,t,S)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,on(e,t,n),Je=r):on(e,t,n);break;default:on(e,t,n)}}function sc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fp),t.forEach(function(r){var i=Ep.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,p=t,S=p;e:for(;S!==null;){switch(S.tag){case 5:Qe=S.stateNode,_t=!1;break e;case 3:Qe=S.stateNode.containerInfo,_t=!0;break e;case 4:Qe=S.stateNode.containerInfo,_t=!0;break e}S=S.return}if(Qe===null)throw Error(l(160));lc(a,p,i),Qe=null,_t=!1;var E=i.alternate;E!==null&&(E.return=null),i.return=null}catch(O){Oe(i,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ic(t,e),t=t.sibling}function ic(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Lt(e),r&4){try{Ur(3,e,e.return),Yo(3,e)}catch(X){Oe(e,e.return,X)}try{Ur(5,e,e.return)}catch(X){Oe(e,e.return,X)}}break;case 1:Rt(t,e),Lt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(Rt(t,e),Lt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var i=e.stateNode;try{ar(i,"")}catch(X){Oe(e,e.return,X)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,p=n!==null?n.memoizedProps:a,S=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{S==="input"&&a.type==="radio"&&a.name!=null&&Li(i,a),Pl(S,p);var O=Pl(S,a);for(p=0;p<E.length;p+=2){var B=E[p],z=E[p+1];B==="style"?Gi(i,z):B==="dangerouslySetInnerHTML"?Ui(i,z):B==="children"?ar(i,z):M(i,B,z,O)}switch(S){case"input":El(i,a);break;case"textarea":Fi(i,a);break;case"select":var F=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var V=a.value;V!=null?Ln(i,!!a.multiple,V,!1):F!==!!a.multiple&&(a.defaultValue!=null?Ln(i,!!a.multiple,a.defaultValue,!0):Ln(i,!!a.multiple,a.multiple?[]:"",!1))}i[Or]=a}catch(X){Oe(e,e.return,X)}}break;case 6:if(Rt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(l(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(X){Oe(e,e.return,X)}}break;case 3:if(Rt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(t.containerInfo)}catch(X){Oe(e,e.return,X)}break;case 4:Rt(t,e),Lt(e);break;case 13:Rt(t,e),Lt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Zs=Ie())),r&4&&sc(e);break;case 22:if(B=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(O=Je)||B,Rt(t,e),Je=O):Rt(t,e),Lt(e),r&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!B&&e.mode&1)for(W=e,B=e.child;B!==null;){for(z=W=B;W!==null;){switch(F=W,V=F.child,F.tag){case 0:case 11:case 14:case 15:Ur(4,F,F.return);break;case 1:nr(F,F.return);var K=F.stateNode;if(typeof K.componentWillUnmount=="function"){r=F,n=F.return;try{t=r,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(X){Oe(r,n,X)}}break;case 5:nr(F,F.return);break;case 22:if(F.memoizedState!==null){cc(z);continue}}V!==null?(V.return=F,W=V):cc(z)}B=B.sibling}e:for(B=null,z=e;;){if(z.tag===5){if(B===null){B=z;try{i=z.stateNode,O?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(S=z.stateNode,E=z.memoizedProps.style,p=E!=null&&E.hasOwnProperty("display")?E.display:null,S.style.display=$i("display",p))}catch(X){Oe(e,e.return,X)}}}else if(z.tag===6){if(B===null)try{z.stateNode.nodeValue=O?"":z.memoizedProps}catch(X){Oe(e,e.return,X)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;B===z&&(B=null),z=z.return}B===z&&(B=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Rt(t,e),Lt(e),r&4&&sc(e);break;case 21:break;default:Rt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rc(n)){var r=n;break e}n=n.return}throw Error(l(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ar(i,""),r.flags&=-33);var a=oc(e);Ys(e,a,i);break;case 3:case 4:var p=r.stateNode.containerInfo,S=oc(e);Ks(e,S,p);break;default:throw Error(l(161))}}catch(E){Oe(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hp(e,t,n){W=e,ac(e)}function ac(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&r){var p=i.memoizedState!==null||Ko;if(!p){var S=i.alternate,E=S!==null&&S.memoizedState!==null||Je;S=Ko;var O=Je;if(Ko=p,(Je=E)&&!O)for(W=i;W!==null;)p=W,E=p.child,p.tag===22&&p.memoizedState!==null?dc(i):E!==null?(E.return=p,W=E):dc(i);for(;a!==null;)W=a,ac(a),a=a.sibling;W=i,Ko=S,Je=O}uc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):uc(e)}}function uc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||Yo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&cu(t,a,r);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cu(t,p,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&n.focus();break;case"img":E.src&&(n.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var B=O.memoizedState;if(B!==null){var z=B.dehydrated;z!==null&&wr(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Je||t.flags&512&&qs(t)}catch(F){Oe(t,t.return,F)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function cc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function dc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yo(4,t)}catch(E){Oe(t,n,E)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(E){Oe(t,i,E)}}var a=t.return;try{qs(t)}catch(E){Oe(t,a,E)}break;case 5:var p=t.return;try{qs(t)}catch(E){Oe(t,p,E)}}}catch(E){Oe(t,t.return,E)}if(t===e){W=null;break}var S=t.sibling;if(S!==null){S.return=t.return,W=S;break}W=t.return}}var mp=Math.ceil,Xo=L.ReactCurrentDispatcher,Xs=L.ReactCurrentOwner,vt=L.ReactCurrentBatchConfig,ye=0,Ge=null,Be=null,qe=0,ft=0,rr=Zt(0),Ue=0,$r=null,kn=0,Jo=0,Js=0,Gr=null,lt=null,Zs=0,or=1/0,Vt=null,Zo=!1,ei=null,ln=null,el=!1,sn=null,tl=0,Vr=0,ti=null,nl=-1,rl=0;function et(){return ye&6?Ie():nl!==-1?nl:nl=Ie()}function an(e){return e.mode&1?ye&2&&qe!==0?qe&-qe:Jf.transition!==null?(rl===0&&(rl=oa()),rl):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:pa(e.type)),e):1}function Ot(e,t,n,r){if(50<Vr)throw Vr=0,ti=null,Error(l(185));hr(e,n,r),(!(ye&2)||e!==Ge)&&(e===Ge&&(!(ye&2)&&(Jo|=n),Ue===4&&un(e,qe)),st(e,r),n===1&&ye===0&&!(t.mode&1)&&(or=Ie()+500,Mo&&tn()))}function st(e,t){var n=e.callbackNode;Xd(e,t);var r=fo(e,e===Ge?qe:0);if(r===0)n!==null&&ta(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ta(n),t===1)e.tag===0?Xf(pc.bind(null,e)):Ja(pc.bind(null,e)),Qf(function(){!(ye&6)&&tn()}),n=null;else{switch(la(r)){case 1:n=Dl;break;case 4:n=na;break;case 16:n=io;break;case 536870912:n=ra;break;default:n=io}n=xc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(nl=-1,rl=0,ye&6)throw Error(l(327));var n=e.callbackNode;if(lr()&&e.callbackNode!==n)return null;var r=fo(e,e===Ge?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ol(e,r);else{t=r;var i=ye;ye|=2;var a=mc();(Ge!==e||qe!==t)&&(Vt=null,or=Ie()+500,Nn(e,t));do try{yp();break}catch(S){hc(e,S)}while(!0);ws(),Xo.current=a,ye=i,Be!==null?t=0:(Ge=null,qe=0,t=Ue)}if(t!==0){if(t===2&&(i=Ll(e),i!==0&&(r=i,t=ni(e,i))),t===1)throw n=$r,Nn(e,0),un(e,r),st(e,Ie()),n;if(t===6)un(e,r);else{if(i=e.current.alternate,!(r&30)&&!gp(i)&&(t=ol(e,r),t===2&&(a=Ll(e),a!==0&&(r=a,t=ni(e,a))),t===1))throw n=$r,Nn(e,0),un(e,r),st(e,Ie()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(l(345));case 2:Pn(e,lt,Vt);break;case 3:if(un(e,r),(r&130023424)===r&&(t=Zs+500-Ie(),10<t)){if(fo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=as(Pn.bind(null,e,lt,Vt),t);break}Pn(e,lt,Vt);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var p=31-kt(r);a=1<<p,p=t[p],p>i&&(i=p),r&=~a}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mp(r/1960))-r,10<r){e.timeoutHandle=as(Pn.bind(null,e,lt,Vt),r);break}Pn(e,lt,Vt);break;case 5:Pn(e,lt,Vt);break;default:throw Error(l(329))}}}return st(e,Ie()),e.callbackNode===n?fc.bind(null,e):null}function ni(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=ol(e,t),e!==2&&(t=lt,lt=n,t!==null&&ri(t)),e}function ri(e){lt===null?lt=e:lt.push.apply(lt,e)}function gp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Tt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~Js,t&=~Jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(ye&6)throw Error(l(327));lr();var t=fo(e,0);if(!(t&1))return st(e,Ie()),null;var n=ol(e,t);if(e.tag!==0&&n===2){var r=Ll(e);r!==0&&(t=r,n=ni(e,r))}if(n===1)throw n=$r,Nn(e,0),un(e,t),st(e,Ie()),n;if(n===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,lt,Vt),st(e,Ie()),null}function oi(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(or=Ie()+500,Mo&&tn())}}function Tn(e){sn!==null&&sn.tag===0&&!(ye&6)&&lr();var t=ye;ye|=1;var n=vt.transition,r=Ee;try{if(vt.transition=null,Ee=1,e)return e()}finally{Ee=r,vt.transition=n,ye=t,!(ye&6)&&tn()}}function li(){ft=rr.current,Te(rr)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wf(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(hs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ro();break;case 3:er(),Te(nt),Te(Ke),Ps();break;case 5:Ts(r);break;case 4:er();break;case 13:Te(_e);break;case 19:Te(_e);break;case 10:Ss(r.type._context);break;case 22:case 23:li()}n=n.return}if(Ge=e,Be=e=cn(e.current,null),qe=ft=t,Ue=0,$r=null,Js=Jo=kn=0,lt=Gr=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var p=a.next;a.next=i,r.next=p}n.pending=r}xn=null}return e}function hc(e,t){do{var n=Be;try{if(ws(),Uo.current=Ho,$o){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$o=!1}if(Cn=0,$e=ze=Re=null,Ir=!1,br=0,Xs.current=null,n===null||n.return===null){Ue=1,$r=t,Be=null;break}e:{var a=e,p=n.return,S=n,E=t;if(t=qe,S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var O=E,B=S,z=B.tag;if(!(B.mode&1)&&(z===0||z===11||z===15)){var F=B.alternate;F?(B.updateQueue=F.updateQueue,B.memoizedState=F.memoizedState,B.lanes=F.lanes):(B.updateQueue=null,B.memoizedState=null)}var V=Bu(p);if(V!==null){V.flags&=-257,zu(V,p,S,a,t),V.mode&1&&Fu(a,O,t),t=V,E=O;var K=t.updateQueue;if(K===null){var X=new Set;X.add(E),t.updateQueue=X}else K.add(E);break e}else{if(!(t&1)){Fu(a,O,t),si();break e}E=Error(l(426))}}else if(Ne&&S.mode&1){var be=Bu(p);if(be!==null){!(be.flags&65536)&&(be.flags|=256),zu(be,p,S,a,t),vs(tr(E,S));break e}}a=E=tr(E,S),Ue!==4&&(Ue=2),Gr===null?Gr=[a]:Gr.push(a),a=p;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var P=Iu(a,E,t);uu(a,P);break e;case 1:S=E;var C=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ln===null||!ln.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var U=bu(a,S,t);uu(a,U);break e}}a=a.return}while(a!==null)}vc(n)}catch(J){t=J,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function mc(){var e=Xo.current;return Xo.current=Ho,e===null?Ho:e}function si(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ge===null||!(kn&268435455)&&!(Jo&268435455)||un(Ge,qe)}function ol(e,t){var n=ye;ye|=2;var r=mc();(Ge!==e||qe!==t)&&(Vt=null,Nn(e,t));do try{vp();break}catch(i){hc(e,i)}while(!0);if(ws(),ye=n,Xo.current=r,Be!==null)throw Error(l(261));return Ge=null,qe=0,Ue}function vp(){for(;Be!==null;)gc(Be)}function yp(){for(;Be!==null&&!$d();)gc(Be)}function gc(e){var t=Sc(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?vc(e):Be=t,Xs.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dp(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Be=null;return}}else if(n=cp(n,t,ft),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ue===0&&(Ue=5)}function Pn(e,t,n){var r=Ee,i=vt.transition;try{vt.transition=null,Ee=1,wp(e,t,n,r)}finally{vt.transition=i,Ee=r}return null}function wp(e,t,n,r){do lr();while(sn!==null);if(ye&6)throw Error(l(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Jd(e,a),e===Ge&&(Be=Ge=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,xc(io,function(){return lr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=vt.transition,vt.transition=null;var p=Ee;Ee=1;var S=ye;ye|=4,Xs.current=null,pp(e,n),ic(n,e),Bf(ss),mo=!!ls,ss=ls=null,e.current=n,hp(n),Gd(),ye=S,Ee=p,vt.transition=a}else e.current=n;if(el&&(el=!1,sn=e,tl=i),a=e.pendingLanes,a===0&&(ln=null),Wd(n.stateNode),st(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zo)throw Zo=!1,e=ei,ei=null,e;return tl&1&&e.tag!==0&&lr(),a=e.pendingLanes,a&1?e===ti?Vr++:(Vr=0,ti=e):Vr=0,tn(),null}function lr(){if(sn!==null){var e=la(tl),t=vt.transition,n=Ee;try{if(vt.transition=null,Ee=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,tl=0,ye&6)throw Error(l(331));var i=ye;for(ye|=4,W=e.current;W!==null;){var a=W,p=a.child;if(W.flags&16){var S=a.deletions;if(S!==null){for(var E=0;E<S.length;E++){var O=S[E];for(W=O;W!==null;){var B=W;switch(B.tag){case 0:case 11:case 15:Ur(8,B,a)}var z=B.child;if(z!==null)z.return=B,W=z;else for(;W!==null;){B=W;var F=B.sibling,V=B.return;if(nc(B),B===O){W=null;break}if(F!==null){F.return=V,W=F;break}W=V}}}var K=a.alternate;if(K!==null){var X=K.child;if(X!==null){K.child=null;do{var be=X.sibling;X.sibling=null,X=be}while(X!==null)}}W=a}}if(a.subtreeFlags&2064&&p!==null)p.return=a,W=p;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ur(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,W=P;break e}W=a.return}}var C=e.current;for(W=C;W!==null;){p=W;var _=p.child;if(p.subtreeFlags&2064&&_!==null)_.return=p,W=_;else e:for(p=C;W!==null;){if(S=W,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Yo(9,S)}}catch(J){Oe(S,S.return,J)}if(S===p){W=null;break e}var U=S.sibling;if(U!==null){U.return=S.return,W=U;break e}W=S.return}}if(ye=i,tn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(ao,e)}catch{}r=!0}return r}finally{Ee=n,vt.transition=t}}return!1}function yc(e,t,n){t=tr(n,t),t=Iu(e,t,1),e=rn(e,t,1),t=et(),e!==null&&(hr(e,1,t),st(e,t))}function Oe(e,t,n){if(e.tag===3)yc(e,e,n);else for(;t!==null;){if(t.tag===3){yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=tr(n,e),e=bu(t,e,1),t=rn(t,e,1),e=et(),t!==null&&(hr(t,1,e),st(t,e));break}}t=t.return}}function Sp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(qe&n)===n&&(Ue===4||Ue===3&&(qe&130023424)===qe&&500>Ie()-Zs?Nn(e,0):Js|=n),st(e,t)}function wc(e,t){t===0&&(e.mode&1?(t=co,co<<=1,!(co&130023424)&&(co=4194304)):t=1);var n=et();e=Ut(e,t),e!==null&&(hr(e,t,n),st(e,n))}function xp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wc(e,n)}function Ep(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(l(314))}r!==null&&r.delete(t),wc(e,n)}var Sc;Sc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,up(e,t,n);ot=!!(e.flags&131072)}else ot=!1,Ne&&t.flags&1048576&&Za(t,jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Qn(t,Ke.current);Zn(t,n),i=Os(null,t,r,e,i,n);var a=Ms();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(a=!0,Oo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cs(t),i.updater=Wo,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Us(null,t,r,!0,a,n)):(t.tag=0,Ne&&a&&ps(t),Ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kp(r),e=Pt(r,e),i){case 0:t=zs(null,t,r,e,n);break e;case 1:t=Wu(null,t,r,e,n);break e;case 11:t=Uu(null,t,r,e,n);break e;case 14:t=$u(null,t,r,Pt(r.type,e),n);break e}throw Error(l(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),zs(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Wu(e,t,r,i,n);case 3:e:{if(Qu(t),e===null)throw Error(l(387));r=t.pendingProps,a=t.memoizedState,i=a.element,au(e,t),Bo(t,r,null,n);var p=t.memoizedState;if(r=p.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=tr(Error(l(423)),t),t=qu(e,t,r,n,i);break e}else if(r!==i){i=tr(Error(l(424)),t),t=qu(e,t,r,n,i);break e}else for(dt=Jt(t.stateNode.containerInfo.firstChild),ct=t,Ne=!0,Nt=null,n=su(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yn(),r===i){t=Gt(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return du(t),e===null&&gs(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,p=i.children,is(r,i)?p=null:a!==null&&is(r,a)&&(t.flags|=32),Hu(e,t),Ze(e,t,p,n),t.child;case 6:return e===null&&gs(t),null;case 13:return Ku(e,t,n);case 4:return ks(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xn(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Uu(e,t,r,i,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,p=i.value,Ce(Io,r._currentValue),r._currentValue=p,a!==null)if(Tt(a.value,p)){if(a.children===i.children&&!nt.current){t=Gt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var S=a.dependencies;if(S!==null){p=a.child;for(var E=S.firstContext;E!==null;){if(E.context===r){if(a.tag===1){E=$t(-1,n&-n),E.tag=2;var O=a.updateQueue;if(O!==null){O=O.shared;var B=O.pending;B===null?E.next=E:(E.next=B.next,B.next=E),O.pending=E}}a.lanes|=n,E=a.alternate,E!==null&&(E.lanes|=n),xs(a.return,n,t),S.lanes|=n;break}E=E.next}}else if(a.tag===10)p=a.type===t.type?null:a.child;else if(a.tag===18){if(p=a.return,p===null)throw Error(l(341));p.lanes|=n,S=p.alternate,S!==null&&(S.lanes|=n),xs(p,n,t),p=a.sibling}else p=a.child;if(p!==null)p.return=a;else for(p=a;p!==null;){if(p===t){p=null;break}if(a=p.sibling,a!==null){a.return=p.return,p=a;break}p=p.return}a=p}Ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Zn(t,n),i=mt(i),r=r(i),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,i=Pt(r,t.pendingProps),i=Pt(r.type,i),$u(e,t,r,i,n);case 15:return Gu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),qo(e,t),t.tag=1,rt(r)?(e=!0,Oo(t)):e=!1,Zn(t,n),Du(t,r,i),bs(t,r,i,n),Us(null,t,r,!0,e,n);case 19:return Xu(e,t,n);case 22:return Vu(e,t,n)}throw Error(l(156,t.tag))};function xc(e,t){return ea(e,t)}function Cp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new Cp(e,t,n,r)}function ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kp(e){if(typeof e=="function")return ii(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Se)return 11;if(e===xe)return 14}return 2}function cn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,i,a){var p=2;if(r=e,typeof e=="function")ii(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case se:return _n(n.children,i,a,t);case te:p=8,i|=8;break;case ie:return e=yt(12,n,t,i|2),e.elementType=ie,e.lanes=a,e;case ve:return e=yt(13,n,t,i),e.elementType=ve,e.lanes=a,e;case pe:return e=yt(19,n,t,i),e.elementType=pe,e.lanes=a,e;case he:return sl(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:p=10;break e;case ne:p=9;break e;case Se:p=11;break e;case xe:p=14;break e;case Pe:p=16,r=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=yt(p,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function _n(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function sl(e,t,n,r){return e=yt(22,e,r,t),e.elementType=he,e.lanes=n,e.stateNode={isHidden:!1},e}function ai(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function ui(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ci(e,t,n,r,i,a,p,S,E){return e=new Tp(e,t,n,S,E),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cs(a),e}function Np(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ec(e){if(!e)return en;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var n=e.type;if(rt(n))return Ya(e,n,t)}return t}function Cc(e,t,n,r,i,a,p,S,E){return e=ci(n,r,!0,e,i,a,p,S,E),e.context=Ec(null),n=e.current,r=et(),i=an(n),a=$t(r,i),a.callback=t??null,rn(n,a,i),e.current.lanes=i,hr(e,i,r),st(e,r),e}function il(e,t,n,r){var i=t.current,a=et(),p=an(i);return n=Ec(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(a,p),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(i,t,p),e!==null&&(Ot(e,i,p,a),Fo(e,i,p)),p}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function di(e,t){kc(e,t),(e=e.alternate)&&kc(e,t)}var Tc=typeof reportError=="function"?reportError:function(e){console.error(e)};function fi(e){this._internalRoot=e}ul.prototype.render=fi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));il(e,t,null,null)},ul.prototype.unmount=fi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){il(null,e,null,null)}),t[bt]=null}};function ul(e){this._internalRoot=e}ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=aa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&da(e)}};function pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function Pp(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var O=al(p);a.call(O)}}var p=Cc(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=p,e[bt]=p.current,_r(e.nodeType===8?e.parentNode:e),Tn(),p}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var S=r;r=function(){var O=al(E);S.call(O)}}var E=ci(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=E,e[bt]=E.current,_r(e.nodeType===8?e.parentNode:e),Tn(function(){il(t,E,n,r)}),E}function dl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var p=a;if(typeof i=="function"){var S=i;i=function(){var E=al(p);S.call(E)}}il(t,p,e,i)}else p=Pp(n,t,e,i,r);return al(p)}sa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pr(t.pendingLanes);n!==0&&(bl(t,n|1),st(t,Ie()),!(ye&6)&&(or=Ie()+500,tn()))}break;case 13:Tn(function(){var r=Ut(e,1);if(r!==null){var i=et();Ot(r,e,1,i)}}),di(e,1)}},Fl=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var n=et();Ot(t,e,134217728,n)}di(e,134217728)}},ia=function(e){if(e.tag===13){var t=an(e),n=Ut(e,t);if(n!==null){var r=et();Ot(n,e,t,r)}di(e,t)}},aa=function(){return Ee},ua=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}},Ol=function(e,t,n){switch(t){case"input":if(El(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_o(r);if(!i)throw Error(l(90));no(r),El(r,i)}}}break;case"textarea":Fi(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}},Qi=oi,qi=Tn;var _p={usingClientEntryPoint:!1,Events:[Mr,Hn,_o,Hi,Wi,oi]},Hr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rp={bundleType:Hr.bundleType,version:Hr.version,rendererPackageName:Hr.rendererPackageName,rendererConfig:Hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ji(e),e===null?null:e.stateNode},findFiberByHostInstance:Hr.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{ao=fl.inject(Rp),Mt=fl}catch{}}return it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p,it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pi(t))throw Error(l(200));return Np(e,t,null,n)},it.createRoot=function(e,t){if(!pi(e))throw Error(l(299));var n=!1,r="",i=Tc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ci(e,1,!1,null,null,n,!1,r,i),e[bt]=t.current,_r(e.nodeType===8?e.parentNode:e),new fi(t)},it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=Ji(t),e=e===null?null:e.stateNode,e},it.flushSync=function(e){return Tn(e)},it.hydrate=function(e,t,n){if(!cl(t))throw Error(l(200));return dl(null,e,t,!0,n)},it.hydrateRoot=function(e,t,n){if(!pi(e))throw Error(l(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",p=Tc;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=Cc(t,null,e,1,n??null,i,!1,a,p),e[bt]=t.current,_r(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ul(t)},it.render=function(e,t,n){if(!cl(t))throw Error(l(200));return dl(null,e,t,!1,n)},it.unmountComponentAtNode=function(e){if(!cl(e))throw Error(l(40));return e._reactRootContainer?(Tn(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1},it.unstable_batchedUpdates=oi,it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cl(n))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return dl(e,t,n,!1,r)},it.version="18.3.1-next-f1338f8080-20240426",it}var Lc;function Vc(){if(Lc)return gi.exports;Lc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),gi.exports=Bp(),gi.exports}var Ic;function zp(){if(Ic)return pl;Ic=1;var s=Vc();return pl.createRoot=s.createRoot,pl.hydrateRoot=s.hydrateRoot,pl}var Up=zp(),vl=Vc(),$p=Object.defineProperty,ml=Object.getOwnPropertySymbols,Hc=Object.prototype.hasOwnProperty,Wc=Object.prototype.propertyIsEnumerable,bc=(s,o,l)=>o in s?$p(s,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[o]=l,xi=(s,o)=>{for(var l in o||(o={}))Hc.call(o,l)&&bc(s,l,o[l]);if(ml)for(var l of ml(o))Wc.call(o,l)&&bc(s,l,o[l]);return s},Ei=(s,o)=>{var l={};for(var c in s)Hc.call(s,c)&&o.indexOf(c)<0&&(l[c]=s[c]);if(s!=null&&ml)for(var c of ml(s))o.indexOf(c)<0&&Wc.call(s,c)&&(l[c]=s[c]);return l};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var An;(s=>{const o=class me{constructor(h,w,v,g){if(this.version=h,this.errorCorrectionLevel=w,this.modules=[],this.isFunction=[],h<me.MIN_VERSION||h>me.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let x=[];for(let N=0;N<this.size;N++)x.push(!1);for(let N=0;N<this.size;N++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(v);if(this.drawCodewords(k),g==-1){let N=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const A=this.getPenaltyScore();A<N&&(g=j,N=A),this.applyMask(j)}}u(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(h,w){const v=s.QrSegment.makeSegments(h);return me.encodeSegments(v,w)}static encodeBinary(h,w){const v=s.QrSegment.makeBytes(h);return me.encodeSegments([v],w)}static encodeSegments(h,w,v=1,g=40,x=-1,k=!0){if(!(me.MIN_VERSION<=v&&v<=g&&g<=me.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let N,j;for(N=v;;N++){const M=me.getNumDataCodewords(N,w)*8,L=f.getTotalBits(h,N);if(L<=M){j=L;break}if(N>=g)throw new RangeError("Data too long")}for(const M of[me.Ecc.MEDIUM,me.Ecc.QUARTILE,me.Ecc.HIGH])k&&j<=me.getNumDataCodewords(N,M)*8&&(w=M);let A=[];for(const M of h){l(M.mode.modeBits,4,A),l(M.numChars,M.mode.numCharCountBits(N),A);for(const L of M.getData())A.push(L)}u(A.length==j);const R=me.getNumDataCodewords(N,w)*8;u(A.length<=R),l(0,Math.min(4,R-A.length),A),l(0,(8-A.length%8)%8,A),u(A.length%8==0);for(let M=236;A.length<R;M^=253)l(M,8,A);let I=[];for(;I.length*8<A.length;)I.push(0);return A.forEach((M,L)=>I[L>>>3]|=M<<7-(L&7)),new me(N,w,I,x)}getModule(h,w){return 0<=h&&h<this.size&&0<=w&&w<this.size&&this.modules[w][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),w=h.length;for(let v=0;v<w;v++)for(let g=0;g<w;g++)v==0&&g==0||v==0&&g==w-1||v==w-1&&g==0||this.drawAlignmentPattern(h[v],h[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const w=this.errorCorrectionLevel.formatBits<<3|h;let v=w;for(let x=0;x<10;x++)v=v<<1^(v>>>9)*1335;const g=(w<<10|v)^21522;u(g>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,c(g,x));this.setFunctionModule(8,7,c(g,6)),this.setFunctionModule(8,8,c(g,7)),this.setFunctionModule(7,8,c(g,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,c(g,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,c(g,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,c(g,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let v=0;v<12;v++)h=h<<1^(h>>>11)*7973;const w=this.version<<12|h;u(w>>>18==0);for(let v=0;v<18;v++){const g=c(w,v),x=this.size-11+v%3,k=Math.floor(v/3);this.setFunctionModule(x,k,g),this.setFunctionModule(k,x,g)}}drawFinderPattern(h,w){for(let v=-4;v<=4;v++)for(let g=-4;g<=4;g++){const x=Math.max(Math.abs(g),Math.abs(v)),k=h+g,N=w+v;0<=k&&k<this.size&&0<=N&&N<this.size&&this.setFunctionModule(k,N,x!=2&&x!=4)}}drawAlignmentPattern(h,w){for(let v=-2;v<=2;v++)for(let g=-2;g<=2;g++)this.setFunctionModule(h+g,w+v,Math.max(Math.abs(g),Math.abs(v))!=1)}setFunctionModule(h,w,v){this.modules[w][h]=v,this.isFunction[w][h]=!0}addEccAndInterleave(h){const w=this.version,v=this.errorCorrectionLevel;if(h.length!=me.getNumDataCodewords(w,v))throw new RangeError("Invalid argument");const g=me.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][w],x=me.ECC_CODEWORDS_PER_BLOCK[v.ordinal][w],k=Math.floor(me.getNumRawDataModules(w)/8),N=g-k%g,j=Math.floor(k/g);let A=[];const R=me.reedSolomonComputeDivisor(x);for(let M=0,L=0;M<g;M++){let Y=h.slice(L,L+j-x+(M<N?0:1));L+=Y.length;const q=me.reedSolomonComputeRemainder(Y,R);M<N&&Y.push(0),A.push(Y.concat(q))}let I=[];for(let M=0;M<A[0].length;M++)A.forEach((L,Y)=>{(M!=j-x||Y>=N)&&I.push(L[M])});return u(I.length==k),I}drawCodewords(h){if(h.length!=Math.floor(me.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let w=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let g=0;g<this.size;g++)for(let x=0;x<2;x++){const k=v-x,j=(v+1&2)==0?this.size-1-g:g;!this.isFunction[j][k]&&w<h.length*8&&(this.modules[j][k]=c(h[w>>>3],7-(w&7)),w++)}}u(w==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let w=0;w<this.size;w++)for(let v=0;v<this.size;v++){let g;switch(h){case 0:g=(v+w)%2==0;break;case 1:g=w%2==0;break;case 2:g=v%3==0;break;case 3:g=(v+w)%3==0;break;case 4:g=(Math.floor(v/3)+Math.floor(w/2))%2==0;break;case 5:g=v*w%2+v*w%3==0;break;case 6:g=(v*w%2+v*w%3)%2==0;break;case 7:g=((v+w)%2+v*w%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[w][v]&&g&&(this.modules[w][v]=!this.modules[w][v])}}getPenaltyScore(){let h=0;for(let x=0;x<this.size;x++){let k=!1,N=0,j=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[x][A]==k?(N++,N==5?h+=me.PENALTY_N1:N>5&&h++):(this.finderPenaltyAddHistory(N,j),k||(h+=this.finderPenaltyCountPatterns(j)*me.PENALTY_N3),k=this.modules[x][A],N=1);h+=this.finderPenaltyTerminateAndCount(k,N,j)*me.PENALTY_N3}for(let x=0;x<this.size;x++){let k=!1,N=0,j=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][x]==k?(N++,N==5?h+=me.PENALTY_N1:N>5&&h++):(this.finderPenaltyAddHistory(N,j),k||(h+=this.finderPenaltyCountPatterns(j)*me.PENALTY_N3),k=this.modules[A][x],N=1);h+=this.finderPenaltyTerminateAndCount(k,N,j)*me.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let k=0;k<this.size-1;k++){const N=this.modules[x][k];N==this.modules[x][k+1]&&N==this.modules[x+1][k]&&N==this.modules[x+1][k+1]&&(h+=me.PENALTY_N2)}let w=0;for(const x of this.modules)w=x.reduce((k,N)=>k+(N?1:0),w);const v=this.size*this.size,g=Math.ceil(Math.abs(w*20-v*10)/v)-1;return u(0<=g&&g<=9),h+=g*me.PENALTY_N4,u(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,w=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let v=[6];for(let g=this.size-7;v.length<h;g-=w)v.splice(1,0,g);return v}}static getNumRawDataModules(h){if(h<me.MIN_VERSION||h>me.MAX_VERSION)throw new RangeError("Version number out of range");let w=(16*h+128)*h+64;if(h>=2){const v=Math.floor(h/7)+2;w-=(25*v-10)*v-55,h>=7&&(w-=36)}return u(208<=w&&w<=29648),w}static getNumDataCodewords(h,w){return Math.floor(me.getNumRawDataModules(h)/8)-me.ECC_CODEWORDS_PER_BLOCK[w.ordinal][h]*me.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let w=[];for(let g=0;g<h-1;g++)w.push(0);w.push(1);let v=1;for(let g=0;g<h;g++){for(let x=0;x<w.length;x++)w[x]=me.reedSolomonMultiply(w[x],v),x+1<w.length&&(w[x]^=w[x+1]);v=me.reedSolomonMultiply(v,2)}return w}static reedSolomonComputeRemainder(h,w){let v=w.map(g=>0);for(const g of h){const x=g^v.shift();v.push(0),w.forEach((k,N)=>v[N]^=me.reedSolomonMultiply(k,x))}return v}static reedSolomonMultiply(h,w){if(h>>>8||w>>>8)throw new RangeError("Byte out of range");let v=0;for(let g=7;g>=0;g--)v=v<<1^(v>>>7)*285,v^=(w>>>g&1)*h;return u(v>>>8==0),v}finderPenaltyCountPatterns(h){const w=h[1];u(w<=this.size*3);const v=w>0&&h[2]==w&&h[3]==w*3&&h[4]==w&&h[5]==w;return(v&&h[0]>=w*4&&h[6]>=w?1:0)+(v&&h[6]>=w*4&&h[0]>=w?1:0)}finderPenaltyTerminateAndCount(h,w,v){return h&&(this.finderPenaltyAddHistory(w,v),w=0),w+=this.size,this.finderPenaltyAddHistory(w,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(h,w){w[0]==0&&(h+=this.size),w.pop(),w.unshift(h)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=o;function l(y,h,w){if(h<0||h>31||y>>>h)throw new RangeError("Value out of range");for(let v=h-1;v>=0;v--)w.push(y>>>v&1)}function c(y,h){return(y>>>h&1)!=0}function u(y){if(!y)throw new Error("Assertion error")}const d=class Me{constructor(h,w,v){if(this.mode=h,this.numChars=w,this.bitData=v,w<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(h){let w=[];for(const v of h)l(v,8,w);return new Me(Me.Mode.BYTE,h.length,w)}static makeNumeric(h){if(!Me.isNumeric(h))throw new RangeError("String contains non-numeric characters");let w=[];for(let v=0;v<h.length;){const g=Math.min(h.length-v,3);l(parseInt(h.substring(v,v+g),10),g*3+1,w),v+=g}return new Me(Me.Mode.NUMERIC,h.length,w)}static makeAlphanumeric(h){if(!Me.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let w=[],v;for(v=0;v+2<=h.length;v+=2){let g=Me.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v))*45;g+=Me.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v+1)),l(g,11,w)}return v<h.length&&l(Me.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v)),6,w),new Me(Me.Mode.ALPHANUMERIC,h.length,w)}static makeSegments(h){return h==""?[]:Me.isNumeric(h)?[Me.makeNumeric(h)]:Me.isAlphanumeric(h)?[Me.makeAlphanumeric(h)]:[Me.makeBytes(Me.toUtf8ByteArray(h))]}static makeEci(h){let w=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)l(h,8,w);else if(h<16384)l(2,2,w),l(h,14,w);else if(h<1e6)l(6,3,w),l(h,21,w);else throw new RangeError("ECI assignment value out of range");return new Me(Me.Mode.ECI,0,w)}static isNumeric(h){return Me.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return Me.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,w){let v=0;for(const g of h){const x=g.mode.numCharCountBits(w);if(g.numChars>=1<<x)return 1/0;v+=4+x+g.bitData.length}return v}static toUtf8ByteArray(h){h=encodeURI(h);let w=[];for(let v=0;v<h.length;v++)h.charAt(v)!="%"?w.push(h.charCodeAt(v)):(w.push(parseInt(h.substring(v+1,v+3),16)),v+=2);return w}};d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=d;s.QrSegment=d})(An||(An={}));(s=>{(o=>{const l=class{constructor(u,d){this.ordinal=u,this.formatBits=d}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),o.Ecc=l})(s.QrCode||(s.QrCode={}))})(An||(An={}));(s=>{(o=>{const l=class{constructor(u,d){this.modeBits=u,this.numBitsCharCount=d}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),o.Mode=l})(s.QrSegment||(s.QrSegment={}))})(An||(An={}));var sr=An;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Gp={L:sr.QrCode.Ecc.LOW,M:sr.QrCode.Ecc.MEDIUM,Q:sr.QrCode.Ecc.QUARTILE,H:sr.QrCode.Ecc.HIGH},Qc=128,qc="L",Kc="#FFFFFF",Yc="#000000",Xc=!1,Jc=1,Vp=4,Hp=0,Wp=.1;function Zc(s,o=0){const l=[];return s.forEach(function(c,u){let d=null;c.forEach(function(f,y){if(!f&&d!==null){l.push(`M${d+o} ${u+o}h${y-d}v1H${d+o}z`),d=null;return}if(y===c.length-1){if(!f)return;d===null?l.push(`M${y+o},${u+o} h1v1H${y+o}z`):l.push(`M${d+o},${u+o} h${y+1-d}v1H${d+o}z`);return}f&&d===null&&(d=y)})}),l.join("")}function ed(s,o){return s.slice().map((l,c)=>c<o.y||c>=o.y+o.h?l:l.map((u,d)=>d<o.x||d>=o.x+o.w?u:!1))}function Qp(s,o,l,c){if(c==null)return null;const u=s.length+l*2,d=Math.floor(o*Wp),f=u/o,y=(c.width||d)*f,h=(c.height||d)*f,w=c.x==null?s.length/2-y/2:c.x*f,v=c.y==null?s.length/2-h/2:c.y*f,g=c.opacity==null?1:c.opacity;let x=null;if(c.excavate){let N=Math.floor(w),j=Math.floor(v),A=Math.ceil(y+w-N),R=Math.ceil(h+v-j);x={x:N,y:j,w:A,h:R}}const k=c.crossOrigin;return{x:w,y:v,h,w:y,excavation:x,opacity:g,crossOrigin:k}}function qp(s,o){return o!=null?Math.max(Math.floor(o),0):s?Vp:Hp}function td({value:s,level:o,minVersion:l,includeMargin:c,marginSize:u,imageSettings:d,size:f,boostLevel:y}){let h=Ae.useMemo(()=>{const N=(Array.isArray(s)?s:[s]).reduce((j,A)=>(j.push(...sr.QrSegment.makeSegments(A)),j),[]);return sr.QrCode.encodeSegments(N,Gp[o],l,void 0,void 0,y)},[s,o,l,y]);const{cells:w,margin:v,numCells:g,calculatedImageSettings:x}=Ae.useMemo(()=>{let k=h.getModules();const N=qp(c,u),j=k.length+N*2,A=Qp(k,f,N,d);return{cells:k,margin:N,numCells:j,calculatedImageSettings:A}},[h,f,d,c,u]);return{qrcode:h,margin:v,cells:w,numCells:g,calculatedImageSettings:x}}var Kp=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Yp=Ae.forwardRef(function(o,l){const c=o,{value:u,size:d=Qc,level:f=qc,bgColor:y=Kc,fgColor:h=Yc,includeMargin:w=Xc,minVersion:v=Jc,boostLevel:g,marginSize:x,imageSettings:k}=c,j=Ei(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=j,R=Ei(j,["style"]),I=k==null?void 0:k.src,M=Ae.useRef(null),L=Ae.useRef(null),Y=Ae.useCallback(pe=>{M.current=pe,typeof l=="function"?l(pe):l&&(l.current=pe)},[l]),[q,se]=Ae.useState(!1),{margin:te,cells:ie,numCells:H,calculatedImageSettings:ne}=td({value:u,level:f,minVersion:v,boostLevel:g,includeMargin:w,marginSize:x,imageSettings:k,size:d});Ae.useEffect(()=>{if(M.current!=null){const pe=M.current,xe=pe.getContext("2d");if(!xe)return;let Pe=ie;const he=L.current,$=ne!=null&&he!==null&&he.complete&&he.naturalHeight!==0&&he.naturalWidth!==0;$&&ne.excavation!=null&&(Pe=ed(ie,ne.excavation));const Z=window.devicePixelRatio||1;pe.height=pe.width=d*Z;const G=d/H*Z;xe.scale(G,G),xe.fillStyle=y,xe.fillRect(0,0,H,H),xe.fillStyle=h,Kp?xe.fill(new Path2D(Zc(Pe,te))):ie.forEach(function(T,b){T.forEach(function(ae,Q){ae&&xe.fillRect(Q+te,b+te,1,1)})}),ne&&(xe.globalAlpha=ne.opacity),$&&xe.drawImage(he,ne.x+te,ne.y+te,ne.w,ne.h)}}),Ae.useEffect(()=>{se(!1)},[I]);const Se=xi({height:d,width:d},A);let ve=null;return I!=null&&(ve=Ae.createElement("img",{src:I,key:I,style:{display:"none"},onLoad:()=>{se(!0)},ref:L,crossOrigin:ne==null?void 0:ne.crossOrigin})),Ae.createElement(Ae.Fragment,null,Ae.createElement("canvas",xi({style:Se,height:d,width:d,ref:Y,role:"img"},R)),ve)});Yp.displayName="QRCodeCanvas";var nd=Ae.forwardRef(function(o,l){const c=o,{value:u,size:d=Qc,level:f=qc,bgColor:y=Kc,fgColor:h=Yc,includeMargin:w=Xc,minVersion:v=Jc,boostLevel:g,title:x,marginSize:k,imageSettings:N}=c,j=Ei(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:R,numCells:I,calculatedImageSettings:M}=td({value:u,level:f,minVersion:v,boostLevel:g,includeMargin:w,marginSize:k,imageSettings:N,size:d});let L=R,Y=null;N!=null&&M!=null&&(M.excavation!=null&&(L=ed(R,M.excavation)),Y=Ae.createElement("image",{href:N.src,height:M.h,width:M.w,x:M.x+A,y:M.y+A,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const q=Zc(L,A);return Ae.createElement("svg",xi({height:d,width:d,viewBox:`0 0 ${I} ${I}`,ref:l,role:"img"},j),!!x&&Ae.createElement("title",null,x),Ae.createElement("path",{fill:y,d:`M0,0 h${I}v${I}H0z`,shapeRendering:"crispEdges"}),Ae.createElement("path",{fill:h,d:q,shapeRendering:"crispEdges"}),Y)});nd.displayName="QRCodeSVG";const Fe={total:0,colors:{}},Yr={shapesPlaced:{...Fe},linesCleared:{...Fe},rowsCleared:{...Fe},doubleRows:{...Fe},tripleRows:{...Fe},quadrupleRows:{...Fe},doubleRowsWithSingleColumns:{...Fe},tripleRowsWithSingleColumns:{...Fe},tripleRowsWithDoubleColumns:{...Fe},quadrupleRowsWithSingleColumns:{...Fe},columnsCleared:{...Fe},doubleColumns:{...Fe},tripleColumns:{...Fe},quadrupleColumns:{...Fe},doubleColumnsWithSingleRows:{...Fe},tripleColumnsWithDoubleRows:{...Fe},tripleColumnsWithSingleRows:{...Fe},quadrupleColumnsWithSingleRows:{...Fe},singleColumnBySingleRow:{...Fe},doubleColumnByDoubleRow:{...Fe},quadrupleRowByQuadrupleColumn:{...Fe}},Xp={allTime:JSON.parse(JSON.stringify(Yr)),highScore:JSON.parse(JSON.stringify(Yr)),current:JSON.parse(JSON.stringify(Yr)),lastUpdated:Date.now()},rd="TetrixGameDB",Jp=3,It="gameState",wt="score",St="tiles",xt="shapes",je="settings",Et="modifiers",Ct="stats";function Zp(){return typeof indexedDB<"u"}async function eh(){const s=indexedDB.deleteDatabase(rd);return new Promise((o,l)=>{s.onsuccess=()=>{setTimeout(()=>{od().then(o).catch(l)},100)},s.onerror=()=>{console.error("Failed to delete corrupted database"),l(new Error("Database schema mismatch and failed to recreate"))}})}function od(){return new Promise((s,o)=>{const l=indexedDB.open(rd,Jp);l.onerror=()=>{console.error("Failed to open IndexedDB:",l.error),o(new Error(`Failed to open IndexedDB: ${l.error}`))},l.onsuccess=async()=>{const c=l.result,d=[It,wt,St,xt,je,Et,Ct].filter(f=>!c.objectStoreNames.contains(f));if(d.length>0){console.warn("Missing object stores:",d,"Recreating database..."),c.close();try{const f=await eh();s(f)}catch(f){o(f)}return}s(c)},l.onupgradeneeded=c=>{const u=c.target.result;console.log("Upgrading database from version",c.oldVersion,"to",c.newVersion),u.objectStoreNames.contains(It)||(console.log("Creating",It,"store"),u.createObjectStore(It)),u.objectStoreNames.contains(wt)||(console.log("Creating",wt,"store"),u.createObjectStore(wt)),u.objectStoreNames.contains(St)||(console.log("Creating",St,"store"),u.createObjectStore(St)),u.objectStoreNames.contains(xt)||(console.log("Creating",xt,"store"),u.createObjectStore(xt)),u.objectStoreNames.contains(je)||(console.log("Creating",je,"store"),u.createObjectStore(je)),u.objectStoreNames.contains(Et)||(console.log("Creating",Et,"store"),u.createObjectStore(Et)),u.objectStoreNames.contains(Ct)||(console.log("Creating",Ct,"store"),u.createObjectStore(Ct))}})}function De(){return Zp()?od():Promise.reject(new Error("IndexedDB not available in this environment"))}async function ld(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([It],"readonly").objectStore(It).get("current");d.onsuccess=()=>{const f=d.result;if(f!=null&&f.tiles&&Array.isArray(f.tiles)){const y={score:f.score||0,tiles:f.tiles||[],nextShapes:f.nextShapes||[],savedShape:f.savedShape||null};o(y)}else o(null)},d.onerror=()=>{console.error("Failed to load game state:",d.error),l(new Error(`Failed to load game state: ${d.error}`))}})}catch(s){return console.error("Error loading game state:",s),null}}async function sd(s){try{const o=await De(),l={score:s,lastUpdated:Date.now()};return new Promise((c,u)=>{try{const d=o.transaction([wt],"readwrite");d.onerror=()=>{console.error("Transaction failed for score save:",d.error),u(new Error(`Transaction failed: ${d.error}`))};const y=d.objectStore(wt).put(l,"current");y.onsuccess=()=>{console.log("Score saved successfully:",s),c()},y.onerror=()=>{console.error("Failed to save score:",y.error),u(new Error(`Failed to save score: ${y.error}`))}}catch(d){console.error("Failed to create transaction for score save:",d),u(new Error(`Transaction creation failed: ${d}`))}})}catch(o){throw console.error("Error saving score:",o),o}}async function id(s){try{const o=await De(),l={tiles:s,lastUpdated:Date.now()};return new Promise((c,u)=>{const y=o.transaction([St],"readwrite").objectStore(St).put(l,"current");y.onsuccess=()=>{console.log("Tiles saved successfully"),c()},y.onerror=()=>{console.error("Failed to save tiles:",y.error),u(new Error(`Failed to save tiles: ${y.error}`))}})}catch(o){throw console.error("Error saving tiles:",o),o}}async function ad(s,o){try{const l=await De(),c={nextShapes:s,savedShape:o,lastUpdated:Date.now()};return new Promise((u,d)=>{const h=l.transaction([xt],"readwrite").objectStore(xt).put(c,"current");h.onsuccess=()=>{console.log("Shapes saved successfully"),u()},h.onerror=()=>{console.error("Failed to save shapes:",h.error),d(new Error(`Failed to save shapes: ${h.error}`))}})}catch(l){throw console.error("Error saving shapes:",l),l}}async function ud(s){try{const o=await De();let l={isMuted:!1,lastUpdated:Date.now()},c=!1;try{const f=await Zr();l=(f==null?void 0:f.soundEffects)||l,c=(f==null?void 0:f.debugUnlocked)||!1}catch{}const d={music:{isMuted:s,lastUpdated:Date.now()},soundEffects:l,debugUnlocked:c,lastUpdated:Date.now()};return new Promise((f,y)=>{const v=o.transaction([je],"readwrite").objectStore(je).put(d,"current");v.onsuccess=()=>{console.log("Music settings saved successfully:",s),f()},v.onerror=()=>{console.error("Failed to save music settings:",v.error),y(new Error(`Failed to save music settings: ${v.error}`))}})}catch(o){throw console.error("Error saving music settings:",o),o}}async function cd(s){try{const o=await De();let l={isMuted:!1,lastUpdated:Date.now()},c=!1;try{const f=await Zr();l=(f==null?void 0:f.music)||l,c=(f==null?void 0:f.debugUnlocked)||!1}catch{}const u={isMuted:s,lastUpdated:Date.now()},d={music:l,soundEffects:u,debugUnlocked:c,lastUpdated:Date.now()};return new Promise((f,y)=>{const v=o.transaction([je],"readwrite").objectStore(je).put(d,"current");v.onsuccess=()=>{console.log("Sound effects settings saved successfully:",s),f()},v.onerror=()=>{console.error("Failed to save sound effects settings:",v.error),y(new Error(`Failed to save sound effects settings: ${v.error}`))}})}catch(o){throw console.error("Error saving sound effects settings:",o),o}}async function dd(s){try{const o=await De(),l={...s,lastUpdated:Date.now()};return new Promise((c,u)=>{const y=o.transaction([Ct],"readwrite").objectStore(Ct).put(l,"current");y.onsuccess=()=>{c()},y.onerror=()=>{console.error("Failed to save stats:",y.error),u(new Error(`Failed to save stats: ${y.error}`))}})}catch(o){throw console.error("Error saving stats:",o),o}}async function fd(s){try{const o=await De();let l={isMuted:!1,lastUpdated:Date.now()},c={isMuted:!1,lastUpdated:Date.now()};try{const d=await Zr();l=(d==null?void 0:d.music)||l,c=(d==null?void 0:d.soundEffects)||c}catch{}const u={music:l,soundEffects:c,debugUnlocked:s,lastUpdated:Date.now()};return new Promise((d,f)=>{const w=o.transaction([je],"readwrite").objectStore(je).put(u,"current");w.onsuccess=()=>{console.log("Debug settings saved successfully:",s),d()},w.onerror=()=>{console.error("Failed to save debug settings:",w.error),f(new Error(`Failed to save debug settings: ${w.error}`))}})}catch(o){throw console.error("Error saving debug settings:",o),o}}async function pd(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([je],"readonly").objectStore(je).get("current");d.onsuccess=()=>{const f=d.result;o((f==null?void 0:f.debugUnlocked)??!1)},d.onerror=()=>{console.error("Failed to load debug settings:",d.error),l(new Error(`Failed to load debug settings: ${d.error}`))}})}catch(s){return console.error("Error loading debug settings:",s),!1}}async function hd(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([wt],"readonly").objectStore(wt).get("current");d.onsuccess=()=>{const f=d.result;o((f==null?void 0:f.score)??0)},d.onerror=()=>{console.error("Failed to load score:",d.error),l(new Error(`Failed to load score: ${d.error}`))}})}catch(s){return console.error("Error loading score:",s),0}}async function md(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([St],"readonly").objectStore(St).get("current");d.onsuccess=()=>{const f=d.result;f!=null&&f.tiles&&Array.isArray(f.tiles)?o(f.tiles):o(null)},d.onerror=()=>{console.error("Failed to load tiles:",d.error),l(new Error(`Failed to load tiles: ${d.error}`))}})}catch(s){return console.error("Error loading tiles:",s),null}}async function Pi(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([xt],"readonly").objectStore(xt).get("current");d.onsuccess=()=>{const f=d.result;o(f?{nextShapes:f.nextShapes||[],savedShape:f.savedShape||null}:null)},d.onerror=()=>{console.error("Failed to load shapes:",d.error),l(new Error(`Failed to load shapes: ${d.error}`))}})}catch(s){return console.error("Error loading shapes:",s),null}}async function gd(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([je],"readonly").objectStore(je).get("current");d.onsuccess=()=>{var y;const f=d.result;o(((y=f==null?void 0:f.music)==null?void 0:y.isMuted)??!1)},d.onerror=()=>{console.error("Failed to load music settings:",d.error),l(new Error(`Failed to load music settings: ${d.error}`))}})}catch(s){return console.error("Error loading music settings:",s),!1}}async function vd(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([je],"readonly").objectStore(je).get("current");d.onsuccess=()=>{var y;const f=d.result;o(((y=f==null?void 0:f.soundEffects)==null?void 0:y.isMuted)??!1)},d.onerror=()=>{console.error("Failed to load sound effects settings:",d.error),l(new Error(`Failed to load sound effects settings: ${d.error}`))}})}catch(s){return console.error("Error loading sound effects settings:",s),!1}}async function _i(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([Ct],"readonly").objectStore(Ct).get("current");d.onsuccess=()=>{const f=d.result;o(f||null)},d.onerror=()=>{console.error("Failed to load stats:",d.error),l(new Error(`Failed to load stats: ${d.error}`))}})}catch(s){return console.error("Error loading stats:",s),null}}async function yd(s){try{const o=await De(),l={unlockedModifiers:Array.from(s),lastUpdated:Date.now()};return new Promise((c,u)=>{const y=o.transaction([Et],"readwrite").objectStore(Et).put(l,"current");y.onsuccess=()=>{console.log("Modifiers saved successfully:",l.unlockedModifiers),c()},y.onerror=()=>{console.error("Failed to save modifiers:",y.error),u(new Error(`Failed to save modifiers: ${y.error}`))}})}catch(o){throw console.error("Error saving modifiers:",o),o}}async function wd(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([Et],"readonly").objectStore(Et).get("current");d.onsuccess=()=>{const f=d.result;f!=null&&f.unlockedModifiers&&Array.isArray(f.unlockedModifiers)?o(new Set(f.unlockedModifiers)):o(new Set)},d.onerror=()=>{console.error("Failed to load modifiers:",d.error),l(new Error(`Failed to load modifiers: ${d.error}`))}})}catch(s){return console.error("Error loading modifiers:",s),new Set}}async function Zr(){try{const s=await De();return new Promise((o,l)=>{const d=s.transaction([je],"readonly").objectStore(je).get("current");d.onsuccess=()=>{const f=d.result;o(f||null)},d.onerror=()=>{console.error("Failed to load game settings:",d.error),l(new Error(`Failed to load game settings: ${d.error}`))}})}catch(s){return console.error("Error loading game settings:",s),null}}async function th(s){try{const o=await De(),l=await Zr(),c={...l,music:(l==null?void 0:l.music)||{isMuted:!1,lastUpdated:Date.now()},soundEffects:(l==null?void 0:l.soundEffects)||{isMuted:!1,lastUpdated:Date.now()},theme:s,lastUpdated:Date.now()};return new Promise((u,d)=>{const h=o.transaction([je],"readwrite").objectStore(je).put(c,"current");h.onsuccess=()=>{console.log("Theme saved successfully:",s),u()},h.onerror=()=>{console.error("Failed to save theme:",h.error),d(new Error(`Failed to save theme: ${h.error}`))}})}catch(o){throw console.error("Error saving theme:",o),o}}async function Sd(){try{const s=await Zr();return(s==null?void 0:s.theme)||null}catch(s){return console.error("Error loading theme:",s),null}}async function xd(){var s;try{const[o,l,c]=await Promise.all([hd(),md(),Pi()]);let u=[];if(l&&Array.isArray(l)&&(l.length>0&&"key"in l[0]&&"data"in l[0]?u=l.map(f=>{const y=f.key.match(/R(\d+)C(\d+)/);if(!y)throw new Error(`Invalid tile key: ${f.key}`);const h=parseInt(y[1],10),w=parseInt(y[2],10);return{id:`(row: ${h}, column: ${w})`,location:{row:h,column:w},block:{isFilled:f.data.isFilled,color:f.data.color}}}):u=l),u.length===100)return console.log("Loaded game state from granular stores"),{score:o,tiles:u,nextShapes:(c==null?void 0:c.nextShapes)??[],savedShape:(c==null?void 0:c.savedShape)??null};console.log("Granular stores empty, trying legacy store...");const d=await ld();if(((s=d==null?void 0:d.tiles)==null?void 0:s.length)===100){console.log("Loaded game state from legacy store");const f=d.tiles.map(y=>({key:`R${y.location.row}C${y.location.column}`,data:{isFilled:y.block.isFilled,color:y.block.color}}));return We(d.score,f,d.nextShapes,d.savedShape).catch(y=>{console.error("Failed to migrate legacy data to granular stores:",y)}),d}return console.log("No saved game state found in either granular or legacy stores"),null}catch(o){return console.error("Error loading complete game state:",o),null}}async function We(s,o,l,c,u){const d=[];s!==void 0&&d.push(sd(s).catch(f=>{console.warn("Failed to save score, continuing without persistence:",f.message)})),o&&d.push(id(o).catch(f=>{console.warn("Failed to save tiles, continuing without persistence:",f.message)})),(l!==void 0||c!==void 0)&&d.push((async()=>{try{const f=await Pi();await ad(l??(f==null?void 0:f.nextShapes)??[],c??(f==null?void 0:f.savedShape)??null)}catch(f){console.warn("Failed to save shapes, continuing without persistence:",f instanceof Error?f.message:"Unknown error")}})()),u&&d.push(dd(u).catch(f=>{console.warn("Failed to save stats, continuing without persistence:",f.message)})),await Promise.all(d)}async function Ed(){try{let s=null;try{s=await _i()}catch(l){console.warn("Failed to load stats during clear:",l)}const o=await De();return new Promise((l,c)=>{const u=o.transaction([It,wt,St,xt,Et,Ct],"readwrite"),d=u.objectStore(It),f=u.objectStore(wt),y=u.objectStore(St),h=u.objectStore(xt),w=u.objectStore(Et),v=u.objectStore(Ct);if(d.delete("current"),f.delete("current"),y.delete("current"),h.delete("current"),w.delete("current"),s){const g={...s,current:JSON.parse(JSON.stringify(Yr)),lastUpdated:Date.now()};v.put(g,"current"),console.log("Game stats reset (history preserved)")}else v.delete("current");u.oncomplete=()=>{console.log("Game data cleared successfully (settings preserved)"),l()},u.onerror=()=>{console.error("Failed to clear game data:",u.error),c(new Error(`Failed to clear game data: ${u.error}`))}})}catch(s){throw console.error("Error clearing game data:",s),s}}async function Cd(){try{const s=await De();await new Promise((o,l)=>{const c=s.transaction([It,wt,St,xt,je,Et,Ct],"readwrite"),u=c.objectStore(It),d=c.objectStore(wt),f=c.objectStore(St),y=c.objectStore(xt),h=c.objectStore(je),w=c.objectStore(Et),v=c.objectStore(Ct);u.delete("current"),d.delete("current"),f.delete("current"),y.delete("current"),h.delete("current"),w.delete("current"),v.delete("current"),c.oncomplete=()=>{console.log("All data (including settings) cleared successfully"),o()},c.onerror=()=>{console.error("Failed to clear all data:",c.error),l(new Error(`Failed to clear all data: ${c.error}`))}});try{localStorage.clear(),console.log("localStorage cleared")}catch(o){console.warn("Failed to clear localStorage:",o)}if("caches"in globalThis)try{const o=await caches.keys();await Promise.all(o.map(l=>caches.delete(l))),console.log("Service worker caches cleared")}catch(o){console.warn("Failed to clear caches:",o)}if("serviceWorker"in navigator)try{const o=await navigator.serviceWorker.getRegistrations();await Promise.all(o.map(l=>l.unregister())),console.log("Service workers unregistered")}catch(o){console.warn("Failed to unregister service workers:",o)}console.log("Reloading page from server..."),globalThis.location.reload()}catch(s){console.error("Error during full data clear:",s),globalThis.location.reload()}}const nh=Object.freeze(Object.defineProperty({__proto__:null,clearAllDataAndReload:Cd,clearAllSavedData:Ed,initializeDatabase:De,loadCompleteGameState:xd,loadDebugSettings:pd,loadGameState:ld,loadModifiers:wd,loadMusicSettings:gd,loadScore:hd,loadShapes:Pi,loadSoundEffectsSettings:vd,loadStats:_i,loadTheme:Sd,loadTiles:md,safeBatchSave:We,saveDebugSettings:fd,saveModifiers:yd,saveMusicSettings:ud,saveScore:sd,saveShapes:ad,saveSoundEffectsSettings:cd,saveStats:dd,saveTheme:th,saveTiles:id},Symbol.toStringTag,{value:"Module"})),kd=D.createContext(null),yl=()=>{const s=D.useContext(kd);if(!s)throw new Error("useMusicControl must be used within a MusicControlContext.Provider");return s},rh=({children:s})=>{const[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const g=await gd();l(g)}catch(g){console.error("Failed to load music settings:",g);try{const x=localStorage.getItem("tetrix-music-muted");l(x?JSON.parse(x):!1)}catch{l(!1)}}finally{f(!1)}})()},[]);const y=D.useCallback(()=>{const v=!o;l(v),v||u(!0),ud(v).catch(g=>{console.error("Failed to save music settings to IndexedDB:",g);try{localStorage.setItem("tetrix-music-muted",JSON.stringify(v))}catch(x){console.error("Failed to save music mute preference to localStorage:",x)}})},[o]),h=D.useCallback(()=>{u(!0)},[]),w={isMuted:o||d,toggleMute:y,shouldPlayMusic:c,triggerAutoplay:h};return m.jsx(kd.Provider,{value:w,children:s})},Td=D.createContext(null),oh=()=>{const s=D.useContext(Td);if(!s)throw new Error("useSoundEffectsControl must be used within a SoundEffectsControlContext.Provider");return s},Nd=D.createContext(null),Pd=D.createContext(null);function tt(){const s=D.useContext(Nd);if(!s)throw new Error("useTetrixStateContext must be used within a TetrixStateProvider");return s}function at(){const s=D.useContext(Pd);if(!s)throw new Error("useTetrixDispatchContext must be used within a TetrixDispatchProvider");return s}const _d=D.createContext(null),Qr=["add-block","fill-row","fill-column","remove","clear-all"];function lh({children:s}){const[o,l]=D.useState({isEditorOpen:!1,currentTool:"none",selectedColor:"blue",showInstructions:!0,hasShownInstructions:!1,showGridDots:!0}),c=()=>{l(g=>({...g,isEditorOpen:!0,currentTool:g.currentTool==="none"?"add-block":g.currentTool,showInstructions:!g.hasShownInstructions,hasShownInstructions:!0}))},u=()=>{l(g=>({...g,isEditorOpen:!1,currentTool:"none"}))},d=()=>{l(g=>({...g,showInstructions:!1}))},f=()=>{l(g=>({...g,showGridDots:!g.showGridDots}))},y=g=>{l(x=>({...x,currentTool:g}))},h=g=>{l(x=>({...x,selectedColor:g}))},w=g=>{l(x=>{const k=Qr.indexOf(x.currentTool);let N;return g==="forward"?N=(k+1)%Qr.length:N=(k-1+Qr.length)%Qr.length,{...x,currentTool:Qr[N]}})},v=D.useMemo(()=>({state:o,openEditor:c,closeEditor:u,setTool:y,setColor:h,cycleTool:w,hideInstructions:d,toggleGridDots:f}),[o]);return m.jsx(_d.Provider,{value:v,children:s})}function wl(){const s=D.useContext(_d);if(!s)throw new Error("useDebugEditor must be used within a DebugEditorProvider");return s}function Ri(s){var d;let o=s.length,l=-1,c=((d=s[0])==null?void 0:d.length)??0,u=-1;for(let f=0;f<s.length;f++)for(let y=0;y<s[f].length;y++)s[f][y].isFilled&&(o=Math.min(o,f),l=Math.max(l,f),c=Math.min(c,y),u=Math.max(u,y));return{minRow:o,maxRow:l,minCol:c,maxCol:u,width:u-c+1,height:l-o+1}}function Ci(s,o){const l=[];for(let c=0;c<4;c++)for(let u=0;u<4;u++){const d=s[c][u];d.isFilled&&l.push({location:{row:o.row+c,column:o.column+u},block:d})}return l}function sh(s,o,l){const c=Ri(s),u=c.minCol+(c.width-1)/2,d=c.minRow+(c.height-1)/2,f=1.5,y=(u-f)*(o+l),h=(d-f)*(o+l);return{offsetX:y,offsetY:h}}function Fc(s,o,l,c,u=0,d,f){const y=l.getBoundingClientRect();if(d&&!f)return console.error("mousePositionToGridLocation called with shape but no precomputedOffsets - this is a logic error"),null;const h=(f==null?void 0:f.gridGap)??2,w=(f==null?void 0:f.tileSize)??(y.width-h*9)/c.columns,v=w+h,g=s,x=o-u;let k=g,N=x;d&&f&&(k=g+f.gridOffsetX,N=x+f.gridOffsetY);const j=w*3.5;if(k<y.left-j||k>y.right+j||N<y.top-j||N>y.bottom+j)return null;const A=k-y.left,R=N-y.top,I=A/v,M=R/v,L=Math.floor(I+.5)+1;return{row:Math.floor(M+.5)+1,column:L}}function Mn(s){const o=s.length,l=new Array(o).fill(null).map(()=>new Array(o).fill(null).map(()=>({...s[0][0],isFilled:!1})));for(let c=0;c<o;c++)for(let u=0;u<o;u++)l[u][o-1-c]=s[c][u];return l}function Oi(s){return s.map(o=>o.map(l=>({...l})))}function Xr(s=7){const o=["grey","red","orange","yellow","green","blue","purple"],l=Math.max(1,Math.min(7,s)),c=o.slice(0,l),u=Math.floor(Math.random()*c.length);return c[u]}function Mi(s,o){return`R${s}C${o}`}function ki(s,o,l){if(o===null)return!1;for(let c=0;c<4;c++)for(let u=0;u<4;u++)if(s[c][u].isFilled){const f=o.row+c,y=o.column+u;if(f<1||f>10||y<1||y>10)return!1;const h=Mi(f,y),w=l.get(h);if(w!=null&&w.isFilled)return!1}return!0}function ih(s,o,l){const c=[];if(o===null)return c;for(let u=0;u<4;u++)for(let d=0;d<4;d++)if(s[u][d].isFilled){const y=o.row+u,h=o.column+d,w=y<1||y>10||h<1||h>10;let v=!1;if(!w){const g=Mi(y,h),x=l.get(g);v=(x==null?void 0:x.isFilled)??!1}(w||v)&&c.push({shapeRow:u,shapeCol:d})}return c}function jn(){return{color:Xr(),isFilled:!1}}function Dn(s){return{color:s,isFilled:!0}}function ah(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[o(),o(),o(),o()],[l(),l(),l(),l()],[o(),o(),o(),o()]]}function uh(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[o(),l(),l(),o()],[o(),l(),l(),o()],[o(),o(),o(),o()]]}function ch(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[o(),l(),o(),o()],[l(),l(),l(),o()],[o(),o(),o(),o()]]}function dh(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[o(),l(),l(),o()],[l(),l(),o(),o()],[o(),o(),o(),o()]]}function fh(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[l(),l(),o(),o()],[o(),l(),l(),o()],[o(),o(),o(),o()]]}function ph(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[l(),o(),o(),o()],[l(),l(),l(),o()],[o(),o(),o(),o()]]}function hh(s){const o=jn,l=()=>Dn(s);return[[o(),o(),o(),o()],[l(),l(),l(),o()],[l(),o(),o(),o()],[o(),o(),o(),o()]]}function mh(){const s=Xr(),o=()=>({color:Xr(),isFilled:!1}),l=()=>({color:s,isFilled:!0}),c=[[l(),o(),o(),o()],[o(),l(),o(),o()],[o(),o(),l(),o()],[o(),o(),o(),l()]],u=Math.floor(Math.random()*2);let d=Oi(c);for(let f=0;f<u;f++)d=Mn(d);return d}function Ai(){const s=Xr(),o=()=>({color:Xr(),isFilled:!1}),l=()=>({color:s,isFilled:!0}),c=[{template:[[o(),o(),o(),o()],[o(),o(),o(),o()],[l(),l(),l(),l()],[o(),o(),o(),o()]],rotations:2},{template:[[o(),o(),o(),o()],[o(),l(),l(),o()],[o(),l(),l(),o()],[o(),o(),o(),o()]],rotations:1},{template:[[o(),o(),o(),o()],[o(),l(),o(),o()],[l(),l(),l(),o()],[o(),o(),o(),o()]],rotations:4},{template:[[o(),o(),o(),o()],[o(),l(),l(),o()],[l(),l(),o(),o()],[o(),o(),o(),o()]],rotations:2},{template:[[o(),o(),o(),o()],[l(),l(),o(),o()],[o(),l(),l(),o()],[o(),o(),o(),o()]],rotations:2},{template:[[o(),o(),o(),o()],[l(),o(),o(),o()],[l(),l(),l(),o()],[o(),o(),o(),o()]],rotations:4},{template:[[o(),o(),o(),o()],[l(),l(),l(),o()],[l(),o(),o(),o()],[o(),o(),o(),o()]],rotations:4}],{template:u,rotations:d}=c[Math.floor(Math.random()*c.length)],f=Math.floor(Math.random()*d);let y=Oi(u);for(let h=0;h<f;h++)y=Mn(y);return y}function gh(s){const o=new Array(11).fill(null).map(()=>new Array(11).fill(!1));for(let l=1;l<=10;l++)for(let c=1;c<=10;c++){const u=s.get(Mi(l,c));u!=null&&u.isFilled&&(o[l][c]=!0)}for(let l=1;l<=7;l++)for(let c=1;c<=7;c++)if(vh(o,l,c))return!0;return!1}function vh(s,o,l){const c=Bc(s,o,l,!0),u=zc(s,o,l,!0);if(c&&u)return!0;const d=Bc(s,o,l,!1),f=zc(s,o,l,!1);return d&&f}function Bc(s,o,l,c){for(let u=0;u<4;u++){const d=o+u,f=c?l+u:l+(3-u);if(!yh(s,d,f))return!1}return!0}function zc(s,o,l,c){for(let u=0;u<4;u++){const d=l+u,f=c?o+u:o+(3-u);if(!wh(s,d,f))return!1}return!0}function yh(s,o,l){let c=0,u=!1;for(let d=1;d<=10;d++)s[o][d]?c++:d===l&&(u=!0);return c===9&&u}function wh(s,o,l){let c=0,u=!1;for(let d=1;d<=10;d++)s[d][o]?c++:d===l&&(u=!0);return c===9&&u}const Sh=["grey","red","orange","yellow","green","blue","purple"],xh=()=>{const{state:s,closeEditor:o,setTool:l,setColor:c,cycleTool:u,hideInstructions:d,toggleGridDots:f}=wl(),y=at(),h=D.useCallback(w=>{const v=s.selectedColor;let g;switch(w){case"I":g=ah(v);break;case"O":g=uh(v);break;case"T":g=ch(v);break;case"S":g=dh(v);break;case"Z":g=fh(v);break;case"J":g=ph(v);break;case"L":g=hh(v);break;default:return}y({type:"DEBUG_REPLACE_FIRST_SHAPE",value:{shape:g}})},[s.selectedColor,y]);return D.useEffect(()=>{if(!s.isEditorOpen)return;const w=v=>{v.preventDefault();const g=v.deltaY>0?"forward":"backward";u(g)};return globalThis.addEventListener("wheel",w,{passive:!1}),()=>{globalThis.removeEventListener("wheel",w)}},[s.isEditorOpen,u]),D.useEffect(()=>{if(!s.isEditorOpen)return;const w=v=>{v.key==="Escape"&&o()};return globalThis.addEventListener("keydown",w),()=>{globalThis.removeEventListener("keydown",w)}},[s.isEditorOpen,o]),s.isEditorOpen?vl.createPortal(m.jsxs(m.Fragment,{children:[s.showInstructions&&m.jsx("div",{className:"debug-editor-overlay",children:m.jsxs("div",{className:"debug-editor-container",children:[m.jsxs("div",{className:"debug-editor-header",children:[m.jsx("h2",{className:"debug-editor-title",children:"Debug Editor"}),m.jsx("button",{className:"debug-close-button",onClick:o,children:"Close"})]}),m.jsxs("div",{className:"debug-editor-content",children:[m.jsxs("div",{className:"debug-instructions",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Add Block Tool:"})," Click any tile to add a block with the selected color."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Fill Row Tool:"})," Click any tile to fill all tiles in that row (except the clicked tile) with the selected color."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Fill Column Tool:"})," Click any tile to fill all tiles in that column (except the clicked tile) with the selected color."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Remove Tool:"})," Click any tile to remove its block."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Clear All Tool:"})," Click any tile to remove all blocks from the entire grid."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Mouse Wheel:"})," Scroll to cycle between tools."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Color Picker:"})," Select the color for blocks placed by add and fill tools."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Shape Picker:"})," Click a shape button to remove the first shape and add that shape type (in the selected color) to the end of the queue."]})]}),m.jsx("div",{className:"debug-instructions-actions",children:m.jsx("button",{className:"debug-continue-button",onClick:d,children:"Continue"})})]})]})}),m.jsxs("div",{className:"debug-tool-palette",children:[m.jsxs("div",{className:"debug-tool-section",children:[m.jsx("div",{className:"debug-tool-label",children:"Tools"}),m.jsxs("div",{className:"debug-tools-grid",children:[m.jsx("button",{className:`debug-tool-button ${s.currentTool==="add-block"?"active":""}`,onClick:()=>l("add-block"),title:"Add Block",children:""}),m.jsx("button",{className:`debug-tool-button ${s.currentTool==="fill-row"?"active":""}`,onClick:()=>l("fill-row"),title:"Fill Row (except clicked tile)",children:""}),m.jsx("button",{className:`debug-tool-button ${s.currentTool==="fill-column"?"active":""}`,onClick:()=>l("fill-column"),title:"Fill Column (except clicked tile)",children:""}),m.jsx("button",{className:`debug-tool-button ${s.currentTool==="remove"?"active":""}`,onClick:()=>l("remove"),title:"Remove Block",children:""}),m.jsx("button",{className:`debug-tool-button ${s.currentTool==="clear-all"?"active":""}`,onClick:()=>l("clear-all"),title:"Clear All Blocks",children:""})]})]}),m.jsxs("div",{className:"debug-tool-section",children:[m.jsx("div",{className:"debug-tool-label",children:"Color"}),m.jsx("div",{className:"color-picker-grid",children:Sh.map(w=>m.jsx("button",{className:`color-picker-button color-${w} ${s.selectedColor===w?"active":""}`,onClick:()=>c(w),title:w},w))})]}),m.jsxs("div",{className:"debug-tool-section",children:[m.jsx("div",{className:"debug-tool-label",children:"Shape Picker"}),m.jsxs("div",{className:"shape-picker-grid",children:[m.jsx("button",{className:"shape-picker-button",onClick:()=>h("I"),title:"I-Piece (4-block line)",children:"I"}),m.jsx("button",{className:"shape-picker-button",onClick:()=>h("O"),title:"O-Piece (2x2 square)",children:"O"}),m.jsx("button",{className:"shape-picker-button",onClick:()=>h("T"),title:"T-Piece",children:"T"}),m.jsx("button",{className:"shape-picker-button",onClick:()=>h("S"),title:"S-Piece",children:"S"}),m.jsx("button",{className:"shape-picker-button",onClick:()=>h("Z"),title:"Z-Piece",children:"Z"}),m.jsx("button",{className:"shape-picker-button",onClick:()=>h("J"),title:"J-Piece",children:"J"}),m.jsx("button",{className:"shape-picker-button",onClick:()=>h("L"),title:"L-Piece",children:"L"})]})]}),m.jsxs("div",{className:"debug-tool-section",children:[m.jsx("div",{className:"debug-tool-label",children:"View Options"}),m.jsx("div",{className:"debug-tools-grid",children:m.jsx("button",{className:`debug-tool-button ${s.showGridDots?"active":""}`,onClick:f,title:"Toggle Dragging Shape Grid Dots",children:""})})]}),m.jsx("div",{className:"debug-tool-section",children:m.jsx("button",{className:"debug-close-editor-button",onClick:o,children:"Close Editor"})})]})]}),document.body):null},Rd=D.createContext(void 0),Eh=({children:s})=>{const[o,l]=D.useState({}),c=(f,y,h)=>{l(w=>({...w,[f]:{...w[f],[y]:h}}))},u=()=>{l({})},d=f=>{l(y=>{const h={...y};return delete h[f],h})};return m.jsx(Rd.Provider,{value:{colorOverrides:o,setColorOverride:c,resetColorOverrides:u,resetColorOverride:d},children:s})},Od=()=>{const s=D.useContext(Rd);if(!s)throw new Error("useColorPicker must be used within a ColorPickerProvider");return s};function Jr({block:s,size:o}){if(!s.isFilled)return m.jsx(m.Fragment,{});const l={};return o!==void 0&&(l["--block-border-width"]=`${o*.2}px`,l["--block-shadow-inset"]=`${o*.5}px`),m.jsx("div",{className:`block-visual block-color-${s.color}`,style:l})}const Ch=["grey","red","orange","yellow","green","blue","purple"],Ti=s=>{const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},kh=(s,o,l)=>{const c=u=>Math.max(0,Math.min(255,Math.round(u)));return"#"+[s,o,l].map(u=>{const d=c(u).toString(16);return d.length===1?"0"+d:d}).join("")},Th=(s,o)=>{const l=Ti(s),c=Ti(o);return!l||!c?{r:0,g:0,b:0}:{r:c.r-l.r,g:c.g-l.g,b:c.b-l.b}},qr=(s,o)=>{const l=Ti(s);return l?kh(l.r+o.r,l.g+o.g,l.b+o.b):s},Nh={grey:{background:"#9e9e9e",borderTop:"#bcbcbc",borderLeft:"#adadad",borderBottom:"#808080",borderRight:"#8f8f8f"},red:{background:"#d63031",borderTop:"#e54d4e",borderLeft:"#dd3e3f",borderBottom:"#b01b1c",borderRight:"#c42526"},orange:{background:"#fd7e14",borderTop:"#ff993d",borderLeft:"#ff8c26",borderBottom:"#d16006",borderRight:"#e86f0d"},yellow:{background:"#fab005",borderTop:"#ffc533",borderLeft:"#ffbb1f",borderBottom:"#cf8f00",borderRight:"#e6a000"},green:{background:"#2f9e44",borderTop:"#4cc061",borderLeft:"#3eb053",borderBottom:"#1b7a32",borderRight:"#258c3b"},blue:{background:"#023f80",borderTop:"#2b5fa3",borderLeft:"#184f94",borderBottom:"#002352",borderRight:"#00306b"},purple:{background:"#7950f2",borderTop:"#9673ff",borderLeft:"#8863ff",borderBottom:"#5832cc",borderRight:"#6840e0"}},Ph=({isOpen:s,onClose:o})=>{const{colorOverrides:l,setColorOverride:c,resetColorOverrides:u,resetColorOverride:d}=Od(),[f,y]=D.useState(null),[h,w]=D.useState(!1),v=R=>{R.target===R.currentTarget&&o()},g=(R,I)=>{var M;return((M=l[R])==null?void 0:M[I])||Nh[R][I]},x=(R,I)=>{const M=g(R,"background"),L=g(R,I);return Th(M,L)},k=(R,I,M)=>{if(c(R,I,M),h&&I==="background"){const L={borderTop:x(R,"borderTop"),borderLeft:x(R,"borderLeft"),borderBottom:x(R,"borderBottom"),borderRight:x(R,"borderRight")};c(R,"borderTop",qr(M,L.borderTop)),c(R,"borderLeft",qr(M,L.borderLeft)),c(R,"borderBottom",qr(M,L.borderBottom)),c(R,"borderRight",qr(M,L.borderRight))}},N=(R,I,M,L)=>{const Y=g(R,"background"),se={...x(R,I),[M]:L},te=qr(Y,se);c(R,I,te)},j=R=>{d(R)},A=()=>{u()};return s?vl.createPortal(m.jsx("div",{className:"color-picker-overlay",onClick:v,children:m.jsxs("div",{className:"color-picker-content",children:[m.jsxs("div",{className:"color-picker-header",children:[m.jsx("h2",{children:"Color Picker"}),m.jsx("button",{className:"close-button",onClick:o,title:"Close color picker",children:""})]}),m.jsxs("div",{className:"color-picker-body",children:[m.jsx("div",{className:"color-list",children:Ch.map(R=>m.jsxs("div",{className:`color-item ${f===R?"selected":""}`,onClick:()=>y(R),children:[m.jsx("div",{className:"color-preview",children:m.jsx(Jr,{block:{color:R,isFilled:!0},size:40})}),m.jsxs("div",{className:"color-info",children:[m.jsx("span",{className:"color-name",children:R.charAt(0).toUpperCase()+R.slice(1)}),l[R]&&m.jsx("button",{className:"reset-color-button",onClick:I=>{I.stopPropagation(),j(R)},title:"Reset to default",children:"Reset"})]})]},R))}),f&&m.jsxs("div",{className:"color-editor",children:[m.jsxs("h3",{children:[f.charAt(0).toUpperCase()+f.slice(1)," Color"]}),m.jsx("div",{className:"color-editor-preview",children:m.jsx(Jr,{block:{color:f,isFilled:!0},size:80})}),m.jsx("div",{className:"auto-adjust-container",children:m.jsxs("label",{className:"auto-adjust-label",children:[m.jsx("input",{type:"checkbox",checked:h,onChange:R=>w(R.target.checked)}),m.jsx("span",{children:"Auto-adjust borders when background changes"})]})}),m.jsxs("div",{className:"color-inputs",children:[m.jsxs("div",{className:"color-input-group",children:[m.jsx("label",{htmlFor:"bg-color",children:"Background"}),m.jsxs("div",{className:"input-with-preview",children:[m.jsx("input",{id:"bg-color",type:"text",value:g(f,"background"),onChange:R=>k(f,"background",R.target.value),placeholder:"#hex"}),m.jsx("input",{type:"color",value:g(f,"background"),onChange:R=>k(f,"background",R.target.value),className:"color-swatch"})]})]}),m.jsxs("div",{className:"color-input-group",children:[m.jsx("label",{htmlFor:"border-top",children:"Border Top (Light)"}),m.jsx("div",{className:"offset-inputs",children:["r","g","b"].map(R=>{const I=x(f,"borderTop");return m.jsxs("div",{className:"offset-input",children:[m.jsx("span",{className:"channel-label",children:R.toUpperCase()}),m.jsx("input",{type:"number",min:"-255",max:"255",value:I[R],onChange:M=>N(f,"borderTop",R,parseInt(M.target.value)||0)})]},R)})}),m.jsxs("div",{className:"input-with-preview hex-preview",children:[m.jsx("input",{type:"text",value:g(f,"borderTop"),onChange:R=>k(f,"borderTop",R.target.value),placeholder:"#hex",readOnly:!0}),m.jsx("input",{type:"color",value:g(f,"borderTop"),onChange:R=>k(f,"borderTop",R.target.value),className:"color-swatch"})]})]}),m.jsxs("div",{className:"color-input-group",children:[m.jsx("label",{htmlFor:"border-left",children:"Border Left"}),m.jsx("div",{className:"offset-inputs",children:["r","g","b"].map(R=>{const I=x(f,"borderLeft");return m.jsxs("div",{className:"offset-input",children:[m.jsx("span",{className:"channel-label",children:R.toUpperCase()}),m.jsx("input",{type:"number",min:"-255",max:"255",value:I[R],onChange:M=>N(f,"borderLeft",R,parseInt(M.target.value)||0)})]},R)})}),m.jsxs("div",{className:"input-with-preview hex-preview",children:[m.jsx("input",{type:"text",value:g(f,"borderLeft"),onChange:R=>k(f,"borderLeft",R.target.value),placeholder:"#hex",readOnly:!0}),m.jsx("input",{type:"color",value:g(f,"borderLeft"),onChange:R=>k(f,"borderLeft",R.target.value),className:"color-swatch"})]})]}),m.jsxs("div",{className:"color-input-group",children:[m.jsx("label",{htmlFor:"border-bottom",children:"Border Bottom (Dark)"}),m.jsx("div",{className:"offset-inputs",children:["r","g","b"].map(R=>{const I=x(f,"borderBottom");return m.jsxs("div",{className:"offset-input",children:[m.jsx("span",{className:"channel-label",children:R.toUpperCase()}),m.jsx("input",{type:"number",min:"-255",max:"255",value:I[R],onChange:M=>N(f,"borderBottom",R,parseInt(M.target.value)||0)})]},R)})}),m.jsxs("div",{className:"input-with-preview hex-preview",children:[m.jsx("input",{type:"text",value:g(f,"borderBottom"),onChange:R=>k(f,"borderBottom",R.target.value),placeholder:"#hex",readOnly:!0}),m.jsx("input",{type:"color",value:g(f,"borderBottom"),onChange:R=>k(f,"borderBottom",R.target.value),className:"color-swatch"})]})]}),m.jsxs("div",{className:"color-input-group",children:[m.jsx("label",{htmlFor:"border-right",children:"Border Right"}),m.jsx("div",{className:"offset-inputs",children:["r","g","b"].map(R=>{const I=x(f,"borderRight");return m.jsxs("div",{className:"offset-input",children:[m.jsx("span",{className:"channel-label",children:R.toUpperCase()}),m.jsx("input",{type:"number",min:"-255",max:"255",value:I[R],onChange:M=>N(f,"borderRight",R,parseInt(M.target.value)||0)})]},R)})}),m.jsxs("div",{className:"input-with-preview hex-preview",children:[m.jsx("input",{type:"text",value:g(f,"borderRight"),onChange:R=>k(f,"borderRight",R.target.value),placeholder:"#hex",readOnly:!0}),m.jsx("input",{type:"color",value:g(f,"borderRight"),onChange:R=>k(f,"borderRight",R.target.value),className:"color-swatch"})]})]})]})]})]}),m.jsxs("div",{className:"color-picker-footer",children:[m.jsx("button",{className:"reset-all-button",onClick:A,children:"Reset All Colors"}),m.jsx("button",{className:"close-footer-button",onClick:o,children:"Close"})]})]})}),document.body):null},_h={dark:{name:"dark",displayName:"Dark Mode",colors:{background:"rgb(25, 25, 25)",gameBackground:"rgb(25, 25, 25)",gridBackground:"rgb(40, 40, 40)",text:"rgb(255, 255, 255)",textSecondary:"rgb(200, 200, 200)",border:"rgb(60, 60, 60)",buttonBg:"rgb(50, 50, 50)",buttonText:"rgb(255, 255, 255)",buttonHover:"rgb(70, 70, 70)",overlayBg:"rgba(0, 0, 0, 0.85)",overlayText:"rgb(255, 255, 255)",tileEmpty:"rgb(30, 30, 30)",tileBorder:"rgb(50, 50, 50)"}},light:{name:"light",displayName:"Light Mode",colors:{background:"rgb(245, 245, 245)",gameBackground:"rgb(255, 255, 255)",gridBackground:"rgb(250, 250, 250)",text:"rgb(20, 20, 20)",textSecondary:"rgb(80, 80, 80)",border:"rgb(200, 200, 200)",buttonBg:"rgb(230, 230, 230)",buttonText:"rgb(20, 20, 20)",buttonHover:"rgb(210, 210, 210)",overlayBg:"rgba(255, 255, 255, 0.95)",overlayText:"rgb(20, 20, 20)",tileEmpty:"rgb(255, 255, 255)",tileBorder:"rgb(220, 220, 220)"}},"block-blast":{name:"block-blast",displayName:"Having A Blast",colors:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gameBackground:"rgba(255, 255, 255, 0.1)",gridBackground:"rgba(255, 255, 255, 0.15)",text:"rgb(255, 255, 255)",textSecondary:"rgba(255, 255, 255, 0.8)",border:"rgba(255, 255, 255, 0.3)",buttonBg:"rgba(255, 255, 255, 0.2)",buttonText:"rgb(255, 255, 255)",buttonHover:"rgba(255, 255, 255, 0.3)",overlayBg:"rgba(102, 126, 234, 0.95)",overlayText:"rgb(255, 255, 255)",tileEmpty:"rgba(255, 255, 255, 0.05)",tileBorder:"rgba(255, 255, 255, 0.2)"}}},Rh=()=>{const{currentTheme:s}=tt(),o=at(),l=c=>{o({type:"SET_THEME",value:{theme:c}})};return m.jsxs("div",{className:"menu-item theme-selector",children:[m.jsx("span",{className:"menu-label",children:"Theme"}),m.jsx("div",{className:"theme-buttons",children:Object.values(_h).map(c=>m.jsx("button",{className:`theme-button ${s===c.name?"active":""}`,onClick:()=>l(c.name),title:c.displayName,children:c.displayName},c.name))})]})},Oh=({onShowTutorial:s})=>{const[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(!1),y=D.useRef(null),h=D.useRef(null),{isMuted:w,toggleMute:v}=yl(),{isMuted:g,toggleMute:x}=oh(),k=at(),{openEditor:N}=wl(),[j,A]=D.useState(!1),[R,I]=D.useState(0);D.useEffect(()=>{pd().then(A)},[]),D.useEffect(()=>{o||I(0);const H=ne=>{o&&ne.key==="Escape"&&l(!1)};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[o]);const M=H=>{const ne=R+1;I(ne),ne>=20&&(A(!0),fd(!0),k({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:20},mousePosition:{x:H.clientX,y:H.clientY}}}))},L=()=>{l(!o)},Y=()=>{u(!c)},q=async()=>{try{await Ed(),k({type:"RESET_GAME"}),globalThis.location.reload()}catch(H){console.error("Failed to reset game:",H),k({type:"RESET_GAME"})}},se=()=>{globalThis.confirm(` WARNING: This will delete ALL data including your settings, clear the cache, and reload the app from the server.

This is only needed if the app is in a bad state.

Are you sure you want to continue?`)&&(localStorage.removeItem("hasSeenTutorial"),Cd().catch(ne=>{console.error("Failed to clear all data:",ne),alert("Failed to clear data completely. Reloading anyway..."),globalThis.location.reload()}))},te=H=>{const ne={x:H.clientX,y:H.clientY};k({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:1e3},mousePosition:ne}})},ie=H=>{H.target===H.currentTarget&&l(!1)};return D.useEffect(()=>{const H=ne=>{ne.key==="Escape"&&l(!1)};return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[]),m.jsxs("div",{className:"menu-dropdown",ref:y,children:[m.jsx("button",{ref:h,className:"hamburger-button",onClick:L,title:"Menu","aria-label":"Open menu","aria-expanded":o,children:m.jsxs("div",{className:"hamburger-lines",children:[m.jsx("span",{}),m.jsx("span",{}),m.jsx("span",{})]})}),o&&vl.createPortal(m.jsx("div",{className:"dropdown-overlay",onClick:ie,children:m.jsxs("div",{className:"dropdown-content",children:[m.jsxs("div",{className:"menu-qr-code",children:[m.jsx("p",{className:"qr-label",children:"Share this game"}),m.jsx("div",{className:"qr-code-wrapper",children:m.jsx(nd,{value:"https://tetrix-game.github.io",size:128,bgColor:"#023f80",fgColor:"#ffffff"})})]}),m.jsxs("div",{className:"menu-item",children:[m.jsxs("label",{className:"toggle-switch",title:w?"Turn on music":"Turn off music",children:[m.jsx("input",{type:"checkbox",checked:!w,onChange:v,className:"toggle-input","aria-label":w?"Turn on background music":"Turn off background music"}),m.jsx("span",{className:"toggle-slider"})]}),m.jsx("span",{className:"menu-label",children:"Music"})]}),m.jsxs("div",{className:"menu-item",children:[m.jsxs("label",{className:"toggle-switch",title:g?"Turn on sound effects":"Turn off sound effects",children:[m.jsx("input",{type:"checkbox",checked:!g,onChange:x,className:"toggle-input","aria-label":g?"Turn on sound effects":"Turn off sound effects"}),m.jsx("span",{className:"toggle-slider"})]}),m.jsx("span",{className:"menu-label",children:"Sound Effects"})]}),m.jsx(Rh,{}),s&&m.jsx("div",{className:"menu-item",children:m.jsx("button",{className:"menu-action-button",onClick:()=>{s(),l(!1)},title:"Show the tutorial overlay",children:"Tutorial"})}),m.jsx("div",{className:"menu-item",children:m.jsx("button",{className:"menu-action-button",onClick:q,title:"Reset the game and clear all saved data (preserves settings)",children:"New Game"})}),m.jsx("div",{className:"menu-item",children:m.jsx("a",{className:"menu-action-button menu-link-button",href:"/strategy-guide.html",title:"Read the Tetrix strategy guide",children:"Strategy Guide"})}),m.jsx("div",{className:"menu-item debug-submenu",children:j?m.jsxs("button",{className:"debug-toggle",onClick:Y,"aria-expanded":c,children:[m.jsx("span",{className:"menu-label",children:"Debug"}),m.jsx("span",{className:`debug-arrow ${c?"open":""}`,children:""})]}):m.jsx("button",{className:"debug-toggle hidden-debug-trigger",onClick:M,style:{opacity:0,cursor:"default"},"aria-hidden":"true",children:m.jsx("span",{className:"menu-label",children:"Debug"})})}),c&&m.jsxs("div",{className:"debug-submenu-content",children:[m.jsx("div",{className:"menu-item submenu-item",children:m.jsx("button",{className:"debug-action-button",onClick:te,title:"Inject points to test the gem shower system! Try 100, 1000, or 999999 points.",children:"Inject Points"})}),m.jsx("div",{className:"menu-item submenu-item",children:m.jsx("button",{className:"debug-action-button",onClick:()=>{N(),l(!1)},title:"Open the debug editor to manually edit the game grid",children:"Debug Editor"})}),m.jsx("div",{className:"menu-item submenu-item",children:m.jsx("button",{className:"debug-action-button",onClick:()=>{f(!0),l(!1)},title:"Open color picker to customize block colors",children:"Color Picker"})}),m.jsx("div",{className:"menu-item submenu-item",children:m.jsx("button",{className:"debug-action-button",onClick:()=>{k({type:"OPEN_MAP"}),l(!1)},title:"Open the Level Map overlay (dev only)",children:"Open Level Map"})}),m.jsx("div",{className:"menu-item submenu-item",children:m.jsx("button",{className:"debug-action-button danger",onClick:se,title:" Nuclear option: Clear ALL data including settings and reload fresh from server",children:"Clear All Data"})})]})]})}),document.body),m.jsx(Ph,{isOpen:d,onClose:()=>f(!1)})]})},Mh=()=>{const{gameState:s}=tt(),o=at(),l=c=>{if(c.shiftKey){o(s==="playing"?{type:"OPEN_MAP"}:{type:"CLOSE_MAP"});return}if(s==="playing"){const u=new CustomEvent("tetrix-show-toast",{detail:{message:"Level Map Coming Soon!"}});window.dispatchEvent(u)}else o({type:"CLOSE_MAP"})};return m.jsx("button",{className:"location-button",onClick:l,"aria-label":"Toggle Level Map",children:m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),m.jsx("path",{d:"M12 6.5l1.09 2.21 2.44.36-1.77 1.72.42 2.44L12 11.77l-2.18 1.46.42-2.44-1.77-1.72 2.44-.36L12 6.5z",fill:"currentColor"})]})})},Ah=()=>{const s=D.useRef(null),{hasPlacedFirstShape:o}=tt(),{isMuted:l,shouldPlayMusic:c,triggerAutoplay:u}=yl(),d=D.useRef(!1),f=Ae.useMemo(()=>["/sound/bgm/Jazz2_KEY_C_in_C.mp3","/sound/bgm/Jazz3_KEY_Ab_in_C.mp3","/sound/bgm/Jazz4_KEY_C_in_C.mp3"],[]);return D.useEffect(()=>{if(o&&!d.current){const y=setTimeout(()=>{d.current=!0,u()},1e3);return()=>clearTimeout(y)}else!o&&d.current&&(d.current=!1)},[o,u]),D.useEffect(()=>{const y=s.current;if(!y)return;const h=()=>{const g=Math.floor(Math.random()*f.length);return f[g]},w=async()=>{if(c&&!l){y.src=h(),y.loop=!1,y.volume=.3;try{await y.play()}catch(g){console.log("Auto-play was prevented by browser policy:",g)}}},v=()=>{c&&!l&&w()};return y.addEventListener("ended",v),c&&!l?y.paused&&w():y.pause(),()=>{y.removeEventListener("ended",v)}},[c,l,f]),m.jsx("div",{className:"background-music",children:m.jsx("audio",{ref:s,preload:"auto",children:m.jsx("track",{kind:"captions"})})})};function jh(s,o){const l=Math.pow(s,2),c=Math.pow(o,2),u=s>0&&o>0?s*o*2:0,f=(l+c+u)*5;return{rowsCleared:s,columnsCleared:o,pointsEarned:f}}function Dh(s){if(s<1e3)return s.toString();const o=[{value:1e18,suffix:"Q"},{value:1e15,suffix:"q"},{value:1e12,suffix:"t"},{value:1e9,suffix:"b"},{value:1e6,suffix:"m"},{value:1e3,suffix:"k"}];for(const{value:l,suffix:c}of o)if(s>=l){const u=s/l;return u>=100?Math.round(u)+c:(Math.round(u*10)/10).toFixed(1)+c}return s.toString()}const Md=({size:s,className:o=""})=>{const l=s?{width:s,height:s}:{};return m.jsxs("svg",{...l,viewBox:"0 0 24 24",className:`blue-gem-icon ${o}`,xmlns:"http://www.w3.org/2000/svg",children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"blueGemGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[m.jsx("stop",{offset:"0%",stopColor:"#87CEEB"}),m.jsx("stop",{offset:"30%",stopColor:"#4169E1"}),m.jsx("stop",{offset:"70%",stopColor:"#1E3A8A"}),m.jsx("stop",{offset:"100%",stopColor:"#0F1629"})]}),m.jsxs("linearGradient",{id:"blueGemGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"50%",children:[m.jsx("stop",{offset:"0%",stopColor:"#B0E0E6"}),m.jsx("stop",{offset:"50%",stopColor:"#4682B4"}),m.jsx("stop",{offset:"100%",stopColor:"#2E3A59"})]}),m.jsxs("linearGradient",{id:"blueGemHighlight",x1:"0%",y1:"0%",x2:"70%",y2:"30%",children:[m.jsx("stop",{offset:"0%",stopColor:"#E0F6FF",stopOpacity:"0.8"}),m.jsx("stop",{offset:"100%",stopColor:"#87CEEB",stopOpacity:"0.3"})]}),m.jsxs("filter",{id:"gemGlow",children:[m.jsx("feGaussianBlur",{stdDeviation:"0.5"}),m.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.25 0 0 0 0 0.41 0 0 0 0 0.88 0 0 0 0.8 0"})]})]}),m.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"url(#blueGemGradient1)",stroke:"#1E40AF",strokeWidth:"0.5"}),m.jsx("path",{d:"M12 2 L18 8 L12 10 L6 8 Z",fill:"url(#blueGemGradient2)",stroke:"#2563EB",strokeWidth:"0.3"}),m.jsx("path",{d:"M6 8 L12 10 L12 22 Z",fill:"url(#blueGemGradient1)",opacity:"0.7"}),m.jsx("path",{d:"M12 10 L18 8 L12 22 Z",fill:"#1E3A8A",opacity:"0.6"}),m.jsx("path",{d:"M12 2 L15 6 L12 8 L9 6 Z",fill:"url(#blueGemHighlight)"}),m.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"none",stroke:"#4169E1",strokeWidth:"0.5",filter:"url(#gemGlow)",opacity:"0.6"})]})},Lh=[{title:"General",categories:["shapesPlaced","linesCleared"],className:"stats-group-general"},{title:"Rows",categories:["rowsCleared","doubleRows","tripleRows","quadrupleRows","doubleRowsWithSingleColumns","tripleRowsWithSingleColumns","tripleRowsWithDoubleColumns","quadrupleRowsWithSingleColumns"]},{title:"Columns",categories:["columnsCleared","doubleColumns","tripleColumns","quadrupleColumns","doubleColumnsWithSingleRows","tripleColumnsWithDoubleRows","tripleColumnsWithSingleRows","quadrupleColumnsWithSingleRows"]},{title:"Squares",categories:["singleColumnBySingleRow","doubleColumnByDoubleRow"]},{title:"Legendary",categories:["quadrupleRowByQuadrupleColumn"],className:"stats-group-legendary"}],Ih={shapesPlaced:"Shapes Placed",linesCleared:"Lines Cleared",rowsCleared:"Rows Cleared",doubleRows:"2R",tripleRows:"3R",quadrupleRows:"4R",doubleRowsWithSingleColumns:"2R x 1C",tripleRowsWithSingleColumns:"3R x 1C",tripleRowsWithDoubleColumns:"3R x 2C",quadrupleRowsWithSingleColumns:"4R x 1C",columnsCleared:"Columns Cleared",doubleColumns:"2C",tripleColumns:"3C",quadrupleColumns:"4C",doubleColumnsWithSingleRows:"2C x 1R",tripleColumnsWithDoubleRows:"3C x 2R",tripleColumnsWithSingleRows:"3C x 1R",quadrupleColumnsWithSingleRows:"4C x 1R",singleColumnBySingleRow:"1R x 1C",doubleColumnByDoubleRow:"2R x 2C",quadrupleRowByQuadrupleColumn:"4R x 4C"},bh=["blue","green","red","yellow","purple","orange"],Fh=({onClose:s})=>{const{stats:o,gameState:l}=tt(),c=at(),u=()=>{c({type:"RESET_GAME"}),s()},d=f=>{const y=o.allTime[f],h=o.highScore[f],w=o.current[f];if(y.total===0)return null;const v=w.total>0&&w.total>=h.total;return m.jsxs("div",{className:"stat-row-container",children:[m.jsxs("div",{className:"stat-row main-stat",children:[m.jsx("div",{className:"stat-label",children:Ih[f]}),m.jsx("div",{className:"stat-value",children:y.total}),m.jsx("div",{className:"stat-value",children:h.total}),m.jsxs("div",{className:`stat-value ${v?"highlight":""}`,children:[w.total,v&&w.total>0&&m.jsx("span",{className:"streak-indicator",children:""})]})]}),bh.map(g=>{const x=y.colors[g]||0;if(x===0)return null;const k=w.colors[g]||0,N=h.colors[g]||0,j=k>0&&k>=N;return m.jsxs("div",{className:"stat-row color-stat",style:{"--stat-color":`var(--color-${g})`},children:[m.jsxs("div",{className:"stat-label",style:{color:`var(--color-${g})`},children:[" ",g.charAt(0).toUpperCase()+g.slice(1)]}),m.jsx("div",{className:"stat-value",children:x}),m.jsx("div",{className:"stat-value",children:N}),m.jsx("div",{className:`stat-value ${j?"highlight":""}`,children:k})]},`${f}-${g}`)})]},f)};return m.jsx("div",{className:"stats-overlay-backdrop",onClick:s,children:m.jsxs("div",{className:"stats-overlay-content",onClick:f=>f.stopPropagation(),children:[m.jsxs("div",{className:"stats-header",children:[m.jsx("h2",{children:"Statistics"}),m.jsx("button",{className:"close-button",onClick:s,children:""})]}),m.jsxs("div",{className:"stats-table-header",children:[m.jsx("div",{className:"header-label",children:"Category"}),m.jsx("div",{className:"header-value",children:"All Time"}),m.jsx("div",{className:"header-value",children:"Best"}),m.jsx("div",{className:"header-value",children:"Current"})]}),m.jsx("div",{className:"stats-scroll-container",children:Lh.map((f,y)=>{const h=f.categories.map(d).filter(Boolean);return h.length===0?null:m.jsxs("div",{className:`stats-group ${f.className||""}`,children:[y>0&&m.jsx("div",{className:`group-divider ${f.className==="stats-group-legendary"?"legendary-divider":""}`}),h]},f.title)})}),l==="gameover"&&m.jsx("div",{className:"stats-footer",children:m.jsx("button",{className:"new-game-button",onClick:u,children:"New Game"})})]})})},Bh=({targetPosition:s,isVisible:o,message:l,arrowLength:c=100,offsetFromTarget:u=60})=>{const d=D.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]);if(!o||!s)return null;const f={x:s.x-d.x,y:s.y-d.y},h=Math.atan2(f.y,f.x)*(180/Math.PI),w=Math.sqrt(f.x*f.x+f.y*f.y),v={x:f.x/w,y:f.y/w},g={x:s.x-v.x*u,y:s.y-v.y*u};return m.jsxs("div",{className:"attention-arrow-container",style:{left:g.x,top:g.y,transform:`translate(-50%, -50%) rotate(${h}deg)`,"--arrow-length":`${c}px`},children:[m.jsxs("div",{className:"attention-arrow-body",children:[m.jsx("div",{className:"attention-arrow-shaft"}),m.jsx("div",{className:"attention-arrow-head"})]}),l&&m.jsx("div",{className:"attention-arrow-message",style:{transform:`rotate(${-h}deg)`},children:l})]})},Uc=(s,o=1200)=>{const[l,c]=D.useState(!1);return D.useEffect(()=>{if(s){c(!0);const u=setTimeout(()=>c(!1),o);return()=>clearTimeout(u)}},[s,o]),l},zh=()=>{const{score:s,gameState:o,isStatsOpen:l,insufficientFundsError:c,gemIconPosition:u}=tt(),d=at(),f=D.useRef(null),y=Uc(c),h=Uc(c,2500);D.useEffect(()=>{if(f.current){const g=()=>{var k;const x=(k=f.current)==null?void 0:k.getBoundingClientRect();if(x){const N={x:x.left+x.width/2,y:x.top+x.height/2};d({type:"UPDATE_GEM_ICON_POSITION",value:N})}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)}},[d]);const w=()=>{d({type:"OPEN_STATS"})},v=()=>{d({type:"CLOSE_STATS"})};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`score-display ${o==="gameover"?"score-display-pulsing":""} ${y?"error-pulse":""}`,onClick:w,style:{cursor:"pointer"},title:"Click to view stats",children:[m.jsx("div",{ref:f,children:m.jsx(Md,{})}),m.jsx("span",{className:"score-display-value",children:Dh(s)})]}),m.jsx(Bh,{targetPosition:u,isVisible:h,message:"Need points to turn shapes!",offsetFromTarget:50}),l&&m.jsx(Fh,{onClose:v})]})};let gl=null;function Rn(s,o){gl?gl(s,o):console.warn("SoundEffectsProvider not initialized yet")}const Ad=D.createContext(void 0),Uh=({children:s})=>{const[o,l]=D.useState(!1),c=D.useRef(new Map),u=D.useRef(null),d=D.useRef(!1);D.useEffect(()=>{(async()=>{const g=window.AudioContext||window.webkitAudioContext;if(!g)return;const x=new g;u.current=x;const k={click_into_place:"/sound/soundEffects/click_into_place.mp3",game_over:"/sound/soundEffects/game_over.mp3",pickup_shape:"/sound/soundEffects/pickup_shape.mp3",invalid_placement:"/sound/soundEffects/Invalid_Placement.mp3",clear_combo_1:"/sound/soundEffects/clear-combo-1.mp3",clear_combo_2:"/sound/soundEffects/clear-combo-2.mp3",clear_combo_3:"/sound/soundEffects/clear-combo-3.mp3",clear_combo_4:"/sound/soundEffects/clear-combo-4.mp3"};for(const[N,j]of Object.entries(k))try{const R=await(await fetch(j)).arrayBuffer(),I=await x.decodeAudioData(R);c.current.set(N,I),console.log(`Loaded sound: ${N}`)}catch(A){console.error(`Failed to load sound ${N}:`,A)}})()},[]),D.useEffect(()=>{const v=()=>{var g;d.current=!0,((g=u.current)==null?void 0:g.state)==="suspended"&&u.current.resume(),document.removeEventListener("click",v),document.removeEventListener("keydown",v)};return document.addEventListener("click",v,{once:!0}),document.addEventListener("keydown",v,{once:!0}),()=>{document.removeEventListener("click",v),document.removeEventListener("keydown",v)}},[]),D.useEffect(()=>{(async()=>{try{const g=await vd();l(g)}catch{try{const g=localStorage.getItem("tetrix-soundeffects-muted");l(g?JSON.parse(g):!1)}catch{l(!1)}}})()},[]);const f=D.useCallback(v=>{const g=u.current;if(!g)return;const x=g.createOscillator(),k=g.createGain();x.connect(k),k.connect(g.destination),x.type="sine",x.frequency.setValueAtTime(60,v),x.frequency.exponentialRampToValueAtTime(40,v+.1),k.gain.setValueAtTime(0,v),k.gain.linearRampToValueAtTime(.3,v+.02),k.gain.exponentialRampToValueAtTime(.001,v+.2),x.start(v),x.stop(v+.25);const N=v+.25,j=g.createOscillator(),A=g.createGain();j.connect(A),A.connect(g.destination),j.type="sine",j.frequency.setValueAtTime(60,N),j.frequency.exponentialRampToValueAtTime(40,N+.1),A.gain.setValueAtTime(0,N),A.gain.linearRampToValueAtTime(.25,N+.02),A.gain.exponentialRampToValueAtTime(.001,N+.2),j.start(N),j.stop(N+.25)},[]),y=D.useCallback((v,g)=>{if(!d.current||o)return;if(v==="heartbeat"){const N=u.current;if(N){const j=performance.now(),A=(g??j)-j,R=N.currentTime+Math.max(0,A/1e3);f(R)}return}const x=u.current,k=c.current.get(v);if(x&&k){const N=x.createBufferSource();N.buffer=k;const j=x.createGain();j.gain.value=.2,N.connect(j),j.connect(x.destination);const A=performance.now(),R=(g??A)-A,I=x.currentTime+Math.max(0,R/1e3);N.start(I),console.log(`Playing sound: ${v} at ${I}`)}else console.warn(`Sound effect '${v}' not found or context not ready`)},[o,f]);D.useEffect(()=>(gl=y,()=>{gl=null}),[y]);const h=D.useCallback(v=>{l(v),cd(v).catch(g=>{console.error("Failed to save sound effects mute state:",g);try{localStorage.setItem("tetrix-soundeffects-muted",JSON.stringify(v))}catch(x){console.error("Failed to save to localStorage:",x)}})},[]),w={playSound:y,setMuted:h,isMuted:o};return m.jsx(Ad.Provider,{value:w,children:s})},Sl=()=>{const s=D.useContext(Ad);if(!s)throw new Error("useSoundEffects must be used within a SoundEffectsProvider");return s},$h=({onShowTutorial:s})=>{const{isMuted:o,setMuted:l}=Sl();yl();const c=D.useCallback(()=>{l(!o)},[o,l]),u=D.useMemo(()=>({isMuted:o,toggleMute:c}),[o,c]);return m.jsx(Td.Provider,{value:u,children:m.jsxs("div",{className:"header",children:[m.jsx(Ah,{}),m.jsx(Oh,{onShowTutorial:s}),m.jsx("div",{className:"header-center",children:m.jsx(zh,{})}),m.jsx(Mh,{})]})})},Gh=({tile:s,isHovered:o=!1,hoveredBlock:l,onClick:c,size:u})=>{const{dragState:d,tiles:f}=tt(),[,y]=D.useState(0);D.useEffect(()=>{const I=`R${s.location.row}C${s.location.column}`,M=f.get(I);if(!(M!=null&&M.activeAnimations)||M.activeAnimations.length===0)return;let L;const Y=()=>{y(q=>q+1),L=requestAnimationFrame(Y)};return L=requestAnimationFrame(Y),()=>cancelAnimationFrame(L)},[f,s.location.row,s.location.column]);const h=`R${s.location.row}C${s.location.column}`,w=f.get(h),v=(w==null?void 0:w.activeAnimations)||[],g=performance.now(),x=v.filter(I=>g>=I.startTime&&g<I.startTime+I.duration),k=s.block,N=o&&l,A=`tile-visual ${(s.location.row+s.location.column)%2===0?"tile-visual-dark":"tile-visual-light"}`;let R=0;return N&&(R=d.isValidPlacement?.7:.4),m.jsxs("div",{className:A,style:{gridColumn:s.location.column,gridRow:s.location.row,"--block-overlap":"2px"},onClick:c,children:[m.jsx(Jr,{block:k,size:u}),N&&m.jsx("div",{className:"tile-visual-shadow",style:{"--shadow-opacity":R}}),x.map(I=>{const M=g-I.startTime,L=Math.min(M/I.duration,1),Y=Math.max(0,I.startTime-g),q={"--animation-progress":L,"--animation-duration":`${I.duration}ms`,"--animation-delay":`${Y}ms`};if(I.color&&(q["--animation-color"]=I.color),I.type==="row-quad"||I.type==="column-quad"){const se=I.beatCount??3,te=I.finishDuration??0,ie=(I.duration-te)/se;q["--beat-count"]=se,q["--animation-duration"]=`${ie}ms`,q["--finish-duration"]=`${te}ms`}return m.jsx("div",{className:`tile-visual-clearing ${I.type}`,style:q},I.id)})]})},Vh=Ae.memo(Gh),eo=()=>{const[s,o]=D.useState({width:window.innerWidth,height:window.innerHeight});return D.useEffect(()=>{const c=()=>{o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),D.useMemo(()=>{const{width:c,height:u}=s,d=c>=u,f=u*.9,y=c,h=20,w=40;let v,g,x;if(d){const R=y-h-w,I=f-w,L=R*(1-.35);v=Math.min(L,I),x=Math.min(R-v,v*.6);const Y=v+h+x;if(Y>y-w){const q=(y-w)/Y;v*=q,x*=q}g=v}else{const R=f-h-w,I=y-w,L=R*(1-.35);v=Math.min(L,I),x=Math.min(R-v,v*.6);const Y=v+h+x;if(Y>f-w){const q=(f-w)/Y;v*=q,x*=q}g=v}const k=2,N=k*9,j=(v-N)/10,A=x*.9;return{gridSize:v,gridCellSize:j,gridGap:k,gameControlsLength:g,gameControlsWidth:x,buttonSize:A}},[s])};function Hh(){const{state:s}=wl(),o=at(),l=D.useCallback(c=>{if(s.isEditorOpen)switch(s.currentTool){case"add-block":o({type:"DEBUG_ADD_BLOCK",value:{location:c,color:s.selectedColor}});break;case"fill-row":o({type:"DEBUG_FILL_ROW",value:{row:c.row,excludeColumn:c.column,color:s.selectedColor}});break;case"fill-column":o({type:"DEBUG_FILL_COLUMN",value:{column:c.column,excludeRow:c.row,color:s.selectedColor}});break;case"remove":o({type:"DEBUG_REMOVE_BLOCK",value:{location:c}});break;case"clear-all":o({type:"DEBUG_CLEAR_ALL"});break}},[s.isEditorOpen,s.currentTool,s.selectedColor,o]);return{isDebugMode:s.isEditorOpen,handleDebugClick:l}}const ji={PICKUP_DURATION:300,PLACING_DURATION:300,RETURN_DURATION:300,PLACEMENT_SOUND_DURATION:97,REMOVAL_DURATION:300,INVALID_BLOCK_ANIMATION_DURATION:200};function Wh(s,o){var l,c;switch(o.type){case"SELECT_SHAPE":{const{shapeIndex:u}=o.value,d=s.nextShapes[u],f=s.shapeOptionBounds[u];if(!d||!f)return s;const y=document.querySelector(".grid");if(!y)return{...s,dragState:{phase:"picking-up",selectedShape:d,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:f.left,y:f.top,width:f.width,height:f.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:null}};const h=y.getBoundingClientRect(),w=2,v=9*w,g=(h.width-v)/10,{offsetX:x,offsetY:k}=sh(d,g,w),N=4*g+3*w,j=4*g+3*w,A=-N/2-x,R=-j/2-k,M="ontouchstart"in globalThis||navigator.maxTouchPoints>0?g*2.5:0;return{...s,dragState:{phase:"picking-up",selectedShape:d,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:f.left,y:f.top,width:f.width,height:f.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:{visualOffsetX:x,visualOffsetY:k,gridOffsetX:A,gridOffsetY:R,touchOffset:M,tileSize:g,gridGap:w}}}}case"UPDATE_MOUSE_LOCATION":{const{location:u,position:d,tileSize:f,gridBounds:y,isValid:h,invalidBlocks:w}=o.value;if(s.dragState.phase==="placing"||s.dragState.phase==="returning")return{...s,mouseGridLocation:u,mousePosition:d??s.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:f??s.gridTileSize??null,gridBounds:y??s.gridBounds??null,dragState:s.dragState};const v=s.dragState.selectedShape&&u?Ci(s.dragState.selectedShape,u):[],g=w??[],k=s.dragState.phase==="picking-up"&&s.dragState.startTime&&performance.now()-s.dragState.startTime>ji.PICKUP_DURATION?{...s.dragState,phase:"dragging",hoveredBlockPositions:v,invalidBlockPositions:g,isValidPlacement:h??!1}:{...s.dragState,hoveredBlockPositions:v,invalidBlockPositions:g,isValidPlacement:h??!1};return{...s,mouseGridLocation:u,mousePosition:d??s.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:f??s.gridTileSize??null,gridBounds:y??s.gridBounds??null,dragState:k}}case"PLACE_SHAPE":{const{location:u,mousePosition:d}=o.value;if(!s.dragState.selectedShape||s.dragState.selectedShapeIndex===null||!s.gridTileSize||!s.gridBounds)return s;const f=d||s.mousePosition;if(!f)return s;const y=((l=s.dragState.dragOffsets)==null?void 0:l.tileSize)??s.gridTileSize,h=((c=s.dragState.dragOffsets)==null?void 0:c.gridGap)??2;if(!y||!s.gridBounds)return s;const w=y+h,v=Ci(s.dragState.selectedShape,u);let g=1/0,x=-1/0,k=1/0,N=-1/0;v.forEach(L=>{g=Math.min(g,L.location.row),x=Math.max(x,L.location.row),k=Math.min(k,L.location.column),N=Math.max(N,L.location.column)});const j=(g+x)/2,A=(k+N)/2,R=s.gridBounds.left+(A-1)*w+y/2,I=s.gridBounds.top+(j-1)*w+y/2,M=s.mousePosition?{x:s.mousePosition.x,y:s.mousePosition.y}:f;return{...s,dragState:{...s.dragState,phase:"placing",targetPosition:{x:R,y:I},placementLocation:u,placementStartPosition:M,hoveredBlockPositions:v,startTime:performance.now()},mouseGridLocation:u,mousePosition:f}}case"COMPLETE_RETURN":return{...s,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};case"RETURN_SHAPE_TO_SELECTOR":{if(s.dragState.selectedShape&&s.dragState.selectedShapeIndex!==null){const u=s.shapeOptionBounds[s.dragState.selectedShapeIndex];if(u&&(s.dragState.phase==="dragging"||s.dragState.phase==="picking-up"))return{...s,dragState:{...s.dragState,phase:"returning",sourcePosition:{x:u.left,y:u.top,width:u.width,height:u.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now()}}}return{...s,mouseGridLocation:null,mousePosition:s.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}}}case"CLEAR_SELECTION":return{...s,mouseGridLocation:null,mousePosition:s.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};default:return s}}function Qh(s,o){switch(o.type){case"SET_AVAILABLE_SHAPES":{const{shapes:l}=o.value,c=[...l],u={...s,nextShapes:c,openRotationMenus:new Array(c.length).fill(!1),shapeOptionBounds:new Array(c.length).fill(null),newShapeAnimationStates:new Array(c.length).fill("none")};return We(void 0,void 0,c,u.savedShape).catch(d=>{console.error("Failed to save shapes state:",d)}),u}case"ROTATE_SHAPE":{const{shapeIndex:l,clockwise:c}=o.value;if(l<0||l>=s.nextShapes.length)return s;const u=[...s.nextShapes];let d=Oi(u[l]);c?d=Mn(d):d=Mn(Mn(Mn(d))),u[l]=d;const f=s.dragState.selectedShapeIndex===l?{...s.dragState,selectedShape:d}:s.dragState,y={...s,nextShapes:u,dragState:f};return We(void 0,void 0,u,y.savedShape).catch(h=>{console.error("Failed to save shapes state:",h)}),y}case"ADD_SHAPE_OPTION":{const l=Ai(),c=[...s.nextShapes,l],u={...s,nextShapes:c,openRotationMenus:[...s.openRotationMenus,!1],shapeOptionBounds:[...s.shapeOptionBounds,null],newShapeAnimationStates:[...s.newShapeAnimationStates,"none"]};return We(void 0,void 0,c,u.savedShape).catch(d=>{console.error("Failed to save shapes state:",d)}),u}case"REMOVE_SHAPE_OPTION":{if(s.nextShapes.length<=1)return s;const l=s.nextShapes.slice(0,-1),c=s.openRotationMenus.slice(0,-1),u=s.shapeOptionBounds.slice(0,-1),d=s.newShapeAnimationStates.slice(0,-1),y=s.dragState.selectedShapeIndex===s.nextShapes.length-1?{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}:s.dragState,h={...s,nextShapes:l,openRotationMenus:c,shapeOptionBounds:u,newShapeAnimationStates:d,dragState:y};return We(void 0,void 0,l,h.savedShape).catch(w=>{console.error("Failed to save shapes state:",w)}),h}case"SET_SHAPE_OPTION_BOUNDS":{const{index:l,bounds:c}=o.value,u=[...s.shapeOptionBounds];return u[l]=c,{...s,shapeOptionBounds:u}}case"START_SHAPE_REMOVAL":{const{shapeIndex:l}=o.value;return{...s,removingShapeIndex:l,shapeRemovalAnimationState:"removing"}}case"COMPLETE_SHAPE_REMOVAL":{if(s.removingShapeIndex===null)return s;const l=s.removingShapeIndex,c=s.nextShapes.filter((f,y)=>y!==l),u=s.openRotationMenus.filter((f,y)=>y!==l),d=s.newShapeAnimationStates.filter((f,y)=>y!==l);return{...s,nextShapes:c,openRotationMenus:u,newShapeAnimationStates:d,shapeOptionBounds:new Array(c.length).fill(null),removingShapeIndex:null,shapeRemovalAnimationState:"none",shapesUsed:s.shapesUsed+1}}default:return s}}const Ht=10;function to(s,o){return`R${s}C${o}`}function qh(s,o){for(let l=1;l<=Ht;l++){const c=s.get(to(o,l));if(!c||!c.isFilled)return!1}return!0}function Kh(s,o){for(let l=1;l<=Ht;l++){const c=s.get(to(l,o));if(!c||!c.isFilled)return!1}return!0}function Yh(s){const o=[];for(let l=1;l<=Ht;l++)qh(s,l)&&o.push(l);return o}function Xh(s){const o=[];for(let l=1;l<=Ht;l++)Kh(s,l)&&o.push(l);return o}function Jh(s,o){if(o.length===0)return s;const l=new Map(s),c=new Set(o);for(let u=1;u<=Ht;u++)if(c.has(u))for(let d=1;d<=Ht;d++)l.set(to(u,d),{isFilled:!1,color:"grey"});return l}function Zh(s,o){if(o.length===0)return s;const l=new Map(s),c=new Set(o);for(let u=1;u<=Ht;u++)if(c.has(u))for(let d=1;d<=Ht;d++)l.set(to(d,u),{isFilled:!1,color:"grey"});return l}function $c(s,o,l){let c;for(let u=1;u<=Ht;u++){const d=l?o:u,f=l?u:o,y=s.get(to(d,f));if(!y||!y.isFilled)return;if(!c)c=y.color;else if(y.color!==c)return}return c}function em(s){const o=Yh(s),l=Xh(s),c=o.map(f=>({index:f,color:$c(s,f,!0)})),u=l.map(f=>({index:f,color:$c(s,f,!1)}));let d=Jh(s,o);return d=Zh(d,l),{tiles:d,clearedRows:c,clearedColumns:u,totalLinesCleared:o.length+l.length}}const fn={rows:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}},columns:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}}};let tm=0;function pn(){return`anim-${Date.now()}-${tm++}`}function hn(s,o){return s*o}function nm(s,o,l,c={}){var v,g,x,k,N,j,A,R;const u={rows:{single:{...fn.rows.single,...(v=c.rows)==null?void 0:v.single},double:{...fn.rows.double,...(g=c.rows)==null?void 0:g.double},triple:{...fn.rows.triple,...(x=c.rows)==null?void 0:x.triple},quad:{...fn.rows.quad,...(k=c.rows)==null?void 0:k.quad}},columns:{single:{...fn.columns.single,...(N=c.columns)==null?void 0:N.single},double:{...fn.columns.double,...(j=c.columns)==null?void 0:j.double},triple:{...fn.columns.triple,...(A=c.columns)==null?void 0:A.triple},quad:{...fn.columns.quad,...(R=c.columns)==null?void 0:R.quad}},baseStartTime:c.baseStartTime},d=u.baseStartTime??performance.now(),f=new Map(s),y=(I,M)=>`R${I}C${M}`,h=o.length,w=l.length;for(const{index:I,color:M}of o)for(let L=1;L<=10;L++){const Y=y(I,L),q=f.get(Y);if(!q)continue;const se=[],te=hn(L-1,u.rows.single.waveDelay);if(se.push({id:pn(),type:"row-cw",startTime:d+u.rows.single.startDelay+te,duration:u.rows.single.duration,color:M}),h>=2){const ie=hn(L-1,u.rows.double.waveDelay);se.push({id:pn(),type:"row-double",startTime:d+u.rows.double.startDelay+ie,duration:u.rows.double.duration,color:M})}if(h>=3){const ie=hn(L-1,u.rows.triple.waveDelay);se.push({id:pn(),type:"row-triple",startTime:d+u.rows.triple.startDelay+ie,duration:u.rows.triple.duration,color:M})}if(h>=4){const ie=hn(L-1,u.rows.quad.waveDelay);se.push({id:pn(),type:"row-quad",startTime:d+u.rows.quad.startDelay+ie,duration:u.rows.quad.duration,beatCount:u.rows.quad.beatCount,finishDuration:u.rows.quad.finishDuration,color:M})}f.set(Y,{...q,activeAnimations:[...q.activeAnimations||[],...se]})}for(const{index:I,color:M}of l)for(let L=1;L<=10;L++){const Y=y(L,I),q=f.get(Y);if(!q)continue;const se=[],te=hn(L-1,u.columns.single.waveDelay);if(se.push({id:pn(),type:"column-ccw",startTime:d+u.columns.single.startDelay+te,duration:u.columns.single.duration,color:M}),w>=2){const ie=hn(L-1,u.columns.double.waveDelay);se.push({id:pn(),type:"column-double",startTime:d+u.columns.double.startDelay+ie,duration:u.columns.double.duration,color:M})}if(w>=3){const ie=hn(L-1,u.columns.triple.waveDelay);se.push({id:pn(),type:"column-triple",startTime:d+u.columns.triple.startDelay+ie,duration:u.columns.triple.duration,color:M})}if(w>=4){const ie=hn(L-1,u.columns.quad.waveDelay);se.push({id:pn(),type:"column-quad",startTime:d+u.columns.quad.startDelay+ie,duration:u.columns.quad.duration,beatCount:u.columns.quad.beatCount,finishDuration:u.columns.quad.finishDuration,color:M})}f.set(Y,{...q,activeAnimations:[...q.activeAnimations||[],...se]})}return f}function rm(s,o=performance.now()){const l=new Map(s);let c=!1;for(const[u,d]of l.entries()){if(!d.activeAnimations||d.activeAnimations.length===0)continue;const f=d.activeAnimations.filter(y=>o<y.startTime+y.duration);f.length!==d.activeAnimations.length&&(c=!0,l.set(u,{...d,activeAnimations:f.length>0?f:void 0}))}return c?l:s}function He(s,o,l){const c=JSON.parse(JSON.stringify(s)),u=Date.now();c.lastUpdated=u;const d=(g,x,k=1)=>{if(c.current[g].total+=k,x){const N=x;c.current[g].colors[N]=(c.current[g].colors[N]||0)+k}if(c.allTime[g].total+=k,x){const N=x;c.allTime[g].colors[N]=(c.allTime[g].colors[N]||0)+k}if(c.current[g].total>c.highScore[g].total&&(c.highScore[g].total=c.current[g].total),x){const N=x,j=c.current[g].colors[N]||0,A=c.highScore[g].colors[N]||0;j>A&&(c.highScore[g].colors[N]=j)}};d("shapesPlaced");const f=o.length+l.length;f>0&&(d("linesCleared",void 0,f),o.forEach(g=>{g.color&&d("linesCleared",g.color)}),l.forEach(g=>{g.color&&d("linesCleared",g.color)})),o.length>0&&(d("rowsCleared",void 0,o.length),o.forEach(g=>{g.color&&d("rowsCleared",g.color)})),l.length>0&&(d("columnsCleared",void 0,l.length),l.forEach(g=>{g.color&&d("columnsCleared",g.color)}));const y=o.length,h=l.length,v=((g,x)=>{const k=[...g,...x];if(k.length===0)return;const N=k[0].color;if(N){for(const j of k)if(j.color!==N)return;return N}})(o,l);return y===2&&h===0&&d("doubleRows",v),y===3&&h===0&&d("tripleRows",v),y===4&&h===0&&d("quadrupleRows",v),h===2&&y===0&&d("doubleColumns",v),h===3&&y===0&&d("tripleColumns",v),h===4&&y===0&&d("quadrupleColumns",v),y===2&&h===1&&d("doubleRowsWithSingleColumns",v),y===3&&h===1&&d("tripleRowsWithSingleColumns",v),y===3&&h===2&&d("tripleRowsWithDoubleColumns",v),y===4&&h===1&&d("quadrupleRowsWithSingleColumns",v),h===2&&y===1&&d("doubleColumnsWithSingleRows",v),h===3&&y===2&&d("tripleColumnsWithDoubleRows",v),h===3&&y===1&&d("tripleColumnsWithSingleRows",v),h===4&&y===1&&d("quadrupleColumnsWithSingleRows",v),y===1&&h===1&&d("singleColumnBySingleRow",v),y===2&&h===2&&d("doubleColumnByDoubleRow",v),y===4&&h===4&&d("quadrupleRowByQuadrupleColumn",v),c}function om(s,o,l,c){if(o.length===0)return!1;for(let u=0;u<o.length;u++){const d=o[u],y=c[u]||l>0?4:1;let h=d;for(let w=0;w<y;w++){for(let v=-3;v<=10;v++)for(let g=-3;g<=10;g++)if(ki(h,{row:v,column:g},s))return!1;w<y-1&&(h=Mn(h))}}return!0}function On(s,o){return`R${s}C${o}`}function lm(s){const o=s.match(/R(\d+)C(\d+)/);if(!o)throw new Error(`Invalid tile key: ${s}`);return{row:parseInt(o[1],10),column:parseInt(o[2],10)}}const Kr={rows:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}},columns:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}}};function sm(s,o,l){const c=(u,d)=>{if(u>=1&&Rn("clear_combo_1",l+Kr[d].single.startDelay),u>=2&&Rn("clear_combo_2",l+Kr[d].double.startDelay),u>=3&&Rn("clear_combo_3",l+Kr[d].triple.startDelay),u>=4){const f=l+Kr[d].quad.startDelay;Rn("clear_combo_4",f);const y=800;Rn("heartbeat",f+100),Rn("heartbeat",f+100+y),Rn("heartbeat",f+100+y*2)}};c(s.length,"rows"),c(o.length,"columns")}function im(s,o){switch(o.type){case"COMPLETE_PLACEMENT":{if(!s.dragState.selectedShape||s.dragState.selectedShapeIndex===null)return s;const l=s.dragState.placementLocation||s.mouseGridLocation;if(!l)return s;const c=Ci(s.dragState.selectedShape,l),u=new Map(s.tiles);for(const te of c)if(te.block.isFilled){const ie=On(te.location.row,te.location.column);u.set(ie,{isFilled:!0,color:te.block.color})}const{tiles:d,clearedRows:f,clearedColumns:y}=em(u),h=f.map(te=>te.index),w=y.map(te=>te.index),v=performance.now(),g=nm(d,f,y,{...Kr,baseStartTime:v});sm(h,w,v);const x=jh(h.length,w.length),k=s.score+x.pointsEarned,N=s.totalLinesCleared+h.length+w.length,j=He(s.stats,f,y),A=Array.from(g.entries()).map(([te,ie])=>({key:te,data:ie}));(x.pointsEarned>0||Array.from(g.values()).some(te=>te.isFilled))&&We(k,A,s.nextShapes,s.savedShape,j).catch(te=>{console.error("Failed to save game state:",te)});const R=s.dragState.selectedShapeIndex,I=gh(g),M=[...s.nextShapes];if(s.queueSize===-1||s.shapesUsed<s.queueSize){const te=I?mh():Ai();M.push(te)}const L=[...s.openRotationMenus];M.length>L.length&&L.push(!1);const Y=[...s.newShapeAnimationStates];M.length>Y.length&&Y.push("none");const q=om(g,M,k,L);return{...s,gameState:q?"gameover":s.gameState,tiles:g,score:k,totalLinesCleared:N,stats:j,nextShapes:M,shapesUsed:s.shapesUsed,openRotationMenus:L,newShapeAnimationStates:Y,shapeOptionBounds:new Array(M.length).fill(null),mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},hasPlacedFirstShape:!0,removingShapeIndex:R,shapeRemovalAnimationState:"removing"}}case"CLEANUP_ANIMATIONS":{const l=rm(s.tiles);return l===s.tiles?s:{...s,tiles:l}}case"DEBUG_FILL_ROW":{const{row:l,excludeColumn:c,color:u}=o.value,d=new Map(s.tiles);for(let y=1;y<=10;y++)if(y!==c){const h=On(l,y);d.set(h,{color:u,isFilled:!0})}const f=Array.from(d.entries()).map(([y,h])=>({key:y,data:h}));return We(void 0,f).catch(y=>{console.error("Failed to save tiles after debug fill row:",y)}),{...s,tiles:d}}case"DEBUG_FILL_COLUMN":{const{column:l,excludeRow:c,color:u}=o.value,d=new Map(s.tiles);for(let y=1;y<=10;y++)if(y!==c){const h=On(y,l);d.set(h,{color:u,isFilled:!0})}const f=Array.from(d.entries()).map(([y,h])=>({key:y,data:h}));return We(void 0,f).catch(y=>{console.error("Failed to save tiles after debug fill column:",y)}),{...s,tiles:d}}case"DEBUG_REMOVE_BLOCK":{const{location:l}=o.value,c=new Map(s.tiles),u=On(l.row,l.column),d=c.get(u);d&&c.set(u,{...d,isFilled:!1});const f=Array.from(c.entries()).map(([y,h])=>({key:y,data:h}));return We(void 0,f).catch(y=>{console.error("Failed to save tiles after debug remove block:",y)}),{...s,tiles:c}}case"DEBUG_ADD_BLOCK":{const{location:l,color:c}=o.value,u=new Map(s.tiles),d=On(l.row,l.column);u.set(d,{color:c,isFilled:!0});const f=Array.from(u.entries()).map(([y,h])=>({key:y,data:h}));return We(void 0,f).catch(y=>{console.error("Failed to save tiles after debug add block:",y)}),{...s,tiles:u}}case"DEBUG_CLEAR_ALL":{const l=new Map;for(let u=1;u<=10;u++)for(let d=1;d<=10;d++){const f=On(u,d);l.set(f,{isFilled:!1,color:"grey"})}const c=Array.from(l.entries()).map(([u,d])=>({key:u,data:d}));return We(void 0,c).catch(u=>{console.error("Failed to save tiles after debug clear all:",u)}),{...s,tiles:l}}case"GENERATE_SUPER_COMBO_PATTERN":{const l=new Map(s.tiles),c=Math.random()>.5;for(let d=1;d<=10;d++)for(let f=1;f<=10;f++){const y=On(d,f),h=d>=4&&d<=7,w=f>=4&&f<=7,v=h&&w&&d-4===f-4,g=h&&w&&d+f===11,x=c?v:g;(h||w)&&!x?l.set(y,{color:"blue",isFilled:!0}):x&&l.set(y,{color:"grey",isFilled:!1})}const u=Array.from(l.entries()).map(([d,f])=>({key:d,data:f}));return We(void 0,u).catch(d=>{console.error("Failed to save tiles after generating super combo pattern:",d)}),{...s,tiles:l}}case"DEBUG_REPLACE_FIRST_SHAPE":{const{shape:l}=o.value;if(s.nextShapes.length===0){const u=[l];return We(void 0,void 0,u,s.savedShape).catch(d=>{console.error("Failed to save shapes after debug replace:",d)}),{...s,nextShapes:u,openRotationMenus:[!1],shapeOptionBounds:[null],newShapeAnimationStates:["none"]}}const c=[...s.nextShapes.slice(1),l];return We(void 0,void 0,c,s.savedShape).catch(u=>{console.error("Failed to save shapes after debug replace:",u)}),{...s,nextShapes:c,openRotationMenus:[...s.openRotationMenus.slice(1),!1],shapeOptionBounds:[...s.shapeOptionBounds.slice(1),null],newShapeAnimationStates:[...s.newShapeAnimationStates.slice(1),"none"]}}default:return s}}function am(s,o){switch(o.type){case"ADD_SCORE":{const{scoreData:l,mousePosition:c}=o.value,u=s.score+l.pointsEarned;return We(u).catch(d=>{console.error("Failed to save score:",d)}),{...s,score:u,mousePosition:c||s.mousePosition}}case"SHOW_COIN_DISPLAY":return{...s,showCoinDisplay:!0};case"HIDE_COIN_DISPLAY":return{...s,showCoinDisplay:!1};case"SPEND_COIN":{const{shapeIndex:l,mousePosition:c}=o.value;if(s.score<=0)return{...s,insufficientFundsError:Date.now()};if(l<0||l>=s.nextShapes.length)return s;const u=Math.max(0,s.score-1),d=[...s.openRotationMenus];return d[l]=!0,We(u).catch(f=>{console.error("Failed to save score:",f)}),{...s,score:u,openRotationMenus:d,mousePosition:c||s.mousePosition}}case"UPDATE_GEM_ICON_POSITION":return console.log("UPDATE_GEM_ICON_POSITION: new position =",o.value),{...s,gemIconPosition:o.value};default:return s}}const um="modulepreload",cm=function(s){return"/"+s},Gc={},dm=function(o,l,c){let u=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),y=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));u=Promise.allSettled(l.map(h=>{if(h=cm(h),h in Gc)return;Gc[h]=!0;const w=h.endsWith(".css"),v=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const g=document.createElement("link");if(g.rel=w?"stylesheet":um,w||(g.as="script"),g.crossOrigin="",g.href=h,y&&g.setAttribute("nonce",y),document.head.appendChild(g),w)return new Promise((x,k)=>{g.addEventListener("load",x),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function d(f){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=f,window.dispatchEvent(y),!y.defaultPrevented)throw f}return u.then(f=>{for(const y of f||[])y.status==="rejected"&&d(y.reason);return o().catch(d)})};function jd(s,o){return`R${s}C${o}`}const fm=()=>{const s=new Map;for(let o=1;o<=10;o++)for(let l=1;l<=10;l++)s.set(jd(o,l),{isFilled:!1,color:"grey"});return s},Dd={gameState:"playing",currentLevel:0,isMapUnlocked:!1,mousePosition:{x:window.innerWidth/2,y:window.innerHeight/2},gemIconPosition:{x:100,y:50},gridTileSize:null,gridBounds:null,tiles:fm(),nextShapes:[],savedShape:null,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},removingShapeIndex:null,shapeRemovalAnimationState:"none",newShapeAnimationStates:[],shapeOptionBounds:[],score:0,totalLinesCleared:0,showCoinDisplay:!1,queueSize:-1,shapesUsed:0,openRotationMenus:[],hasPlacedFirstShape:!1,isTurningModeActive:!1,turningDirection:null,isDoubleTurnModeActive:!1,unlockedModifiers:new Set,hasLoadedPersistedState:!1,clearingAnimations:[],stats:Xp,isStatsOpen:!1,insufficientFundsError:null,currentTheme:"dark"};function pm(s,o){switch(o.type){case"SET_LEVEL":{const{levelIndex:l}=o.value;return{...s,currentLevel:l}}case"OPEN_MAP":return{...s,gameState:"map"};case"CLOSE_MAP":return{...s,gameState:"playing"};case"UNLOCK_MAP":return{...s,isMapUnlocked:!0};case"UNLOCK_MODIFIER":{const{primeId:l}=o.value,c=new Set(s.unlockedModifiers);return c.add(l),yd(c).catch(u=>{console.error("Failed to save unlocked modifiers:",u)}),{...s,unlockedModifiers:c}}case"LOAD_MODIFIERS":{const{unlockedModifiers:l}=o.value;return{...s,unlockedModifiers:l}}case"LOAD_STATS":{const{stats:l}=o.value;return{...s,stats:l}}case"TRIGGER_BACKGROUND_MUSIC":return s;case"ACTIVATE_TURNING_MODE":{const{direction:l}=o.value;return s.score<2?{...s,insufficientFundsError:Date.now()}:{...s,isTurningModeActive:!0,turningDirection:l,isDoubleTurnModeActive:!1}}case"DEACTIVATE_TURNING_MODE":return{...s,isTurningModeActive:!1,turningDirection:null};case"ACTIVATE_DOUBLE_TURN_MODE":return s.score<3?{...s,insufficientFundsError:Date.now()}:{...s,isDoubleTurnModeActive:!0,isTurningModeActive:!1,turningDirection:null};case"DEACTIVATE_DOUBLE_TURN_MODE":return{...s,isDoubleTurnModeActive:!1};case"LOAD_GAME_STATE":{const{gameData:l}=o.value,c=new Map;let u=!1;Array.isArray(l.tiles)&&l.tiles.forEach(f=>{f.block.isFilled&&(u=!0),c.set(jd(f.location.row,f.location.column),{isFilled:f.block.isFilled,color:f.block.color})});const d=l.score>0||u;return{...s,score:l.score,tiles:c,nextShapes:l.nextShapes||s.nextShapes,savedShape:l.savedShape||s.savedShape,hasLoadedPersistedState:!0,hasPlacedFirstShape:d||s.hasPlacedFirstShape}}case"RESET_GAME":return{...Dd,stats:{...s.stats,current:JSON.parse(JSON.stringify(Yr))},unlockedModifiers:s.unlockedModifiers,isMapUnlocked:s.isMapUnlocked,isStatsOpen:!1};case"OPEN_STATS":return{...s,isStatsOpen:!0};case"CLOSE_STATS":return{...s,isStatsOpen:!1};case"INITIALIZATION_COMPLETE":return{...s,hasLoadedPersistedState:!0};case"SET_THEME":{const{theme:l}=o.value;return dm(async()=>{const{saveTheme:c}=await Promise.resolve().then(()=>nh);return{saveTheme:c}},void 0).then(({saveTheme:c})=>{c(l).catch(u=>{console.error("Failed to save theme:",u)})}),{...s,currentTheme:l}}case"CLEANUP_ANIMATIONS":return s;case"DEBUG_INCREMENT_STATS":{let l=JSON.parse(JSON.stringify(s.stats));return["blue","green","red","yellow","purple","orange"].forEach(u=>{l=He(l,[{index:1,color:u}],[]),l=He(l,[{index:1,color:u},{index:2,color:u}],[]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[]),l=He(l,[],[{index:1,color:u}]),l=He(l,[],[{index:1,color:u},{index:2,color:u}]),l=He(l,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),l=He(l,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u},{index:2,color:u}]),l=He(l,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),l=He(l,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),l=He(l,[{index:1,color:u}],[{index:1,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u}]),l=He(l,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}])}),We(void 0,void 0,void 0,void 0,l).catch(u=>{console.error("Failed to save stats after debug increment:",u)}),{...s,stats:l}}default:return s}}const hm=Dd;function mm(s,o){let l=s;return l=im(l,o),l=Wh(l,o),l=Qh(l,o),l=am(l,o),l=pm(l,o),l}function gm(){const{tiles:s,dragState:o}=tt(),l=at(),c=D.useRef(null),{gridSize:u,gridGap:d,gridCellSize:f}=eo(),{isDebugMode:y,handleDebugClick:h}=Hh();D.useEffect(()=>{const g=setInterval(()=>{l({type:"CLEANUP_ANIMATIONS"})},1e3);return()=>clearInterval(g)},[l]),D.useEffect(()=>{const g=x=>{x.key==="Escape"&&o.selectedShape&&!y&&l({type:"RETURN_SHAPE_TO_SELECTOR"})};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[o.selectedShape,l,y]);const w=D.useMemo(()=>{const g=[];return s.forEach((x,k)=>{const{row:N,column:j}=lm(k);g.push({id:`(row: ${N}, column: ${j})`,location:{row:N,column:j},block:{isFilled:x.isFilled,color:x.color}})}),g.sort((x,k)=>x.location.row!==k.location.row?x.location.row-k.location.row:x.location.column-k.location.column),g},[s]),v=new Map(o.hoveredBlockPositions.map(g=>[`${g.location.row},${g.location.column}`,g.block]));return m.jsx("div",{ref:c,className:`grid ${o.selectedShape?"grid-dragging":""}`,style:{"--grid-gap":`${d}px`,"--grid-size":`${u}px`},children:w.map(g=>{const x=`${g.location.row},${g.location.column}`,k=v.get(x),N=(k==null?void 0:k.isFilled)??!1;return m.jsx(Vh,{tile:g,isHovered:N,hoveredBlock:k,onClick:y?()=>h(g.location):void 0,size:f},g.id)})})}const vm=({shape:s,shapeIndex:o,shapeOptionFullSize:l})=>{const c=at(),{dragState:u,isTurningModeActive:d,turningDirection:f,isDoubleTurnModeActive:y,removingShapeIndex:h,shapeRemovalAnimationState:w,shapeOptionBounds:v,score:g}=tt(),x=D.useRef(null),k=h===o&&w==="removing",N=v[o]===null||v[o]===void 0,j=4,A=1,R=A*3,M=(l-j*2-R)/4,L=D.useMemo(()=>Ri(s),[s]),Y=D.useMemo(()=>{const H=M+A,ne=L.minCol+(L.width-1)/2,Se=L.minRow+(L.height-1)/2,ve=1.5,pe=(ve-ne)*H,xe=(ve-Se)*H;return{x:pe,y:xe}},[L,M,A]);D.useEffect(()=>{if(x.current&&N){const H=x.current.getBoundingClientRect();c({type:"SET_SHAPE_OPTION_BOUNDS",value:{index:o,bounds:{top:H.top,left:H.left,width:H.width,height:H.height}}})}},[c,o,s,N]),D.useEffect(()=>{if(h===o&&w==="removing"){const H=setTimeout(()=>{c({type:"COMPLETE_SHAPE_REMOVAL"})},ji.REMOVAL_DURATION);return()=>clearTimeout(H)}},[h,o,w,c]);const q=D.useCallback(H=>{if(H.preventDefault(),!k){if(d){g>=2?(c({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-2}}}),c({type:"ROTATE_SHAPE",value:{shapeIndex:o,clockwise:f==="cw"}}),c({type:"DEACTIVATE_TURNING_MODE"})):c({type:"DEACTIVATE_TURNING_MODE"});return}if(y){g>=3?(c({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-3}}}),c({type:"ROTATE_SHAPE",value:{shapeIndex:o,clockwise:!0}}),c({type:"ROTATE_SHAPE",value:{shapeIndex:o,clockwise:!0}}),c({type:"DEACTIVATE_DOUBLE_TURN_MODE"})):c({type:"DEACTIVATE_DOUBLE_TURN_MODE"});return}u.selectedShapeIndex!==o&&c({type:"SELECT_SHAPE",value:{shapeIndex:o}})}},[c,o,u.selectedShapeIndex,d,f,y,k,g]),se=u.selectedShapeIndex===o,te=k?s.map(H=>H.map(ne=>({...ne,isFilled:!1}))):s,ie=se?0:1;return m.jsx("div",{ref:x,className:`shape-container${se?" selected":""}`,style:{"--shape-cell-size":`${M}px`,"--shape-cell-gap":`${A}px`,"--block-overlap":`${A}px`,"--centering-offset-x":`${Y.x}px`,"--centering-offset-y":`${Y.y}px`,opacity:ie,transition:"opacity 0.15s ease-out"},onPointerDown:q,children:te.map((H,ne)=>H.map((Se,ve)=>m.jsx("div",{className:"shape-tile-visual",children:m.jsx(Jr,{block:Se,size:M})},`${ne}-${ve}`)))})},wi=new WeakMap;let ym=0;const wm=s=>(wi.has(s)||wi.set(s,`shape-${++ym}`),wi.get(s)),Sm=()=>{const s=at(),{nextShapes:o,removingShapeIndex:l,shapeRemovalAnimationState:c}=tt(),u=D.useMemo(()=>{const I=[];for(let L=0;L<3;L++)I.push(Ai());return I},[]);D.useEffect(()=>{o.length===0&&s({type:"SET_AVAILABLE_SHAPES",value:{shapes:u}})},[s,u,o.length]);const d=o,{gameControlsLength:f}=eo(),y=window.innerWidth>=window.innerHeight,h=32,w=12,v=h*2,g=w*2,N=(f-v-g)/(3*1.05)*1.05,j=f,A=3*N+2*h,R=Math.max(0,(j-g-A)/2);return m.jsx("div",{className:"shape-selector",style:{"--shape-selector-width":y?"auto":`${j}px`,"--shape-selector-height":y?`${j}px`:"auto",paddingLeft:y?`${w}px`:`${w+R}px`,paddingTop:y?`${w+R}px`:`${w}px`,"--wrapper-gap":`${h}px`},children:m.jsx("div",{className:`shape-selector-shapes-container ${y?"shape-selector-shapes-container-landscape":"shape-selector-shapes-container-portrait"}`,style:{},children:d.map((I,M)=>{const L=l===M&&c==="removing";return m.jsx("div",{className:`shape-selector-shape-wrapper${L?" removing":""}`,"data-landscape":y?"1":"0",style:{"--shape-wrapper-size":`${N}px`,"--is-landscape":y?"1":"0"},children:m.jsx(vm,{shape:I,shapeIndex:M,shapeOptionFullSize:N})},wm(I))})})})},xm=()=>{const s=at(),o=tt(),{gameControlsWidth:l}=eo(),c=()=>{o.gameState==="playing"&&(o.isTurningModeActive&&o.turningDirection==="cw"?s({type:"DEACTIVATE_TURNING_MODE"}):s({type:"ACTIVATE_TURNING_MODE",value:{direction:"cw"}}))},u=()=>{o.gameState==="playing"&&(o.isTurningModeActive&&o.turningDirection==="ccw"?s({type:"DEACTIVATE_TURNING_MODE"}):s({type:"ACTIVATE_TURNING_MODE",value:{direction:"ccw"}}))},d=()=>{o.gameState==="playing"&&(o.isDoubleTurnModeActive?s({type:"DEACTIVATE_DOUBLE_TURN_MODE"}):s({type:"ACTIVATE_DOUBLE_TURN_MODE"}))},f=o.score<2&&!o.isTurningModeActive||o.gameState!=="playing",y=o.score<2&&!o.isTurningModeActive||o.gameState!=="playing",h=o.score<3&&!o.isDoubleTurnModeActive||o.gameState!=="playing",w=o.isTurningModeActive&&o.turningDirection==="cw",v=o.isTurningModeActive&&o.turningDirection==="ccw",g=o.isDoubleTurnModeActive,x=12,N=12*2,j=x*2,R=(l-N-j)/3;return m.jsxs("div",{className:"purchases-container",style:{"--button-size":`${R}px`},children:[m.jsxs("button",{className:`purchases-container-button purchases-container-button-clockwise ${w?"active":""} ${f?"disabled":""}`,onClick:c,title:f?"Need 2 points to buy clockwise turn":"Buy clockwise turn (2 points)",children:[m.jsx("div",{className:"purchases-container-icon",children:""}),m.jsx("div",{className:"purchases-container-cost",children:"-2"})]}),m.jsxs("button",{className:`purchases-container-button purchases-container-button-double-turn ${g?"active":""} ${h?"disabled":""}`,onClick:d,title:h?"Need 3 points to buy double turn":"Buy double turn (3 points)",children:[m.jsx("div",{className:"purchases-container-icon",children:""}),m.jsx("div",{className:"purchases-container-cost",children:"-3"})]}),m.jsxs("button",{className:`purchases-container-button purchases-container-button-counter-clockwise ${v?"active":""} ${y?"disabled":""}`,onClick:u,title:y?"Need 2 points to buy counter-clockwise turn":"Buy counter-clockwise turn (2 points)",children:[m.jsx("div",{className:"purchases-container-icon",children:""}),m.jsx("div",{className:"purchases-container-cost",children:"-2"})]})]})},Em=()=>{const{gameControlsLength:s,gameControlsWidth:o}=eo(),l=window.innerWidth>=window.innerHeight;return m.jsxs("div",{className:"game-controls-panel",style:{"--controls-height":l?`${s}px`:`${o}px`,"--controls-width":l?`${o}px`:`${s}px`},children:[m.jsx(Sm,{}),m.jsx(xm,{})]})},Cm=({startPosition:s,velocity:o,onComplete:l,delay:c=0,size:u=40,attractTo:d})=>{const[f,y]=D.useState(s),[h,w]=D.useState(0),v=D.useRef(),g=D.useRef(),x=D.useRef(!1),{playSound:k}=Sl(),N=D.useRef({startPosition:s,velocity:o,onComplete:l,delay:c,attractTo:d}),j=!!d,A=j?2e3:1500,R=j?0:450,I=800,M=100,L=.7,Y=5;return D.useEffect(()=>{const{startPosition:q,velocity:se,onComplete:te,delay:ie,attractTo:H}=N.current,ne={x:se.x,y:se.y},Se=setTimeout(()=>{g.current=performance.now();let ve=performance.now(),pe={...q};const xe=Pe=>{if(!g.current)return;const he=(Pe-g.current)/1e3,$=he*1e3,Z=(Pe-ve)/1e3;if(ve=Pe,$>=A){te();return}if(H){const b=H.x-pe.x,ae=H.y-pe.y,Q=Math.sqrt(b*b+ae*ae);if(Q<=Y){x.current||(k("click_into_place"),x.current=!0),y(H),w(1),setTimeout(()=>te(),50);return}const ee=b/Q,re=ae/Q,ce=I*Z;ne.x+=ee*ce,ne.y+=re*ce,pe.x+=ne.x*Z,pe.y+=ne.y*Z}else pe.x=q.x+ne.x*he,pe.y=q.y+ne.y*he+.5*R*he*he;const G=$/A;let T=1;if($<M)T=$/M;else if(!H&&G>=L){const b=(G-L)/(1-L);T=Math.max(0,1-b)}y({x:pe.x,y:pe.y}),w(T),v.current=requestAnimationFrame(xe)};v.current=requestAnimationFrame(xe)},ie);return()=>{clearTimeout(Se),v.current&&cancelAnimationFrame(v.current)}},[]),m.jsx("div",{className:"gem-particle",style:{"--particle-x":`${f.x}px`,"--particle-y":`${f.y}px`,"--particle-opacity":h},children:m.jsx(Md,{size:u})})},km=()=>{const{score:s,gemIconPosition:o,hasLoadedPersistedState:l}=tt(),[c,u]=D.useState([]),d=D.useRef(null),f=D.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]),y=D.useMemo(()=>o,[o]);D.useEffect(()=>{if(!l)return;if(d.current===null){d.current=s;return}if(s===d.current)return;const v=s-d.current,g=Math.abs(v),x=v>0;if(g===0){d.current=s;return}const k=x?f:y,N=g>=10,j=N?Math.min(Math.floor(g/10),10):g;console.log(`GemShower: score change=${v}, pointsForEffect=${g}, gemsToShow=${j}, useLargeGems=${N}`);const A=h(j,k,x,N);console.log(`GemShower: generated ${A.length} gems`),u(R=>[...R,...A]),d.current=s},[s,f,y,l]);const h=(v,g,x,k=!1)=>{const N=[];let A=0;for(let R=0;R<v;R++){let I,M;if(x){const L=Math.random()*2*Math.PI,Y=150+Math.random()*250;I=Y*Math.cos(L),M=Y*Math.sin(L)}else I=(Math.random()*3-1.5)*60,M=0;N.push({id:`gem-${R}-${Date.now()}-${Math.random()}`,startPosition:{...g},velocity:{x:I,y:M},delay:A,size:k?80:40,attractTo:x?y:void 0}),A+=10}return N},w=v=>{u(g=>g.filter(x=>x.id!==v))};return m.jsx("div",{className:"gem-shower-container",children:c.map(v=>m.jsx(Cm,{startPosition:v.startPosition,velocity:v.velocity,delay:v.delay,size:v.size,attractTo:v.attractTo,onComplete:()=>w(v.id)},v.id))})},Tm=()=>m.jsx("div",{className:"game-over-overlay",children:m.jsxs("div",{className:"game-over-content",children:[m.jsx("h1",{className:"game-over-title",children:"Game Over"}),m.jsx("p",{className:"game-over-subtitle",children:"Check your stats to see how you did!"})]})}),Nm=()=>{const{gameState:s,isStatsOpen:o}=tt();return s!=="playing"&&s!=="gameover"?null:m.jsxs("div",{className:"tetrix",children:[m.jsx(gm,{}),m.jsx(Em,{}),m.jsx(km,{}),s==="gameover"&&!o&&m.jsx(Tm,{})]})},Pm=()=>{const{currentLevel:s}=tt(),o=at(),[l,c]=D.useState(s.toString()),u=f=>{f.preventDefault();const y=Number.parseInt(l,10);!Number.isNaN(y)&&y>=0&&(o({type:"SET_LEVEL",value:{levelIndex:y}}),o({type:"CLOSE_MAP"}))},d=()=>{o({type:"CLOSE_MAP"})};return m.jsx("div",{className:"game-map-overlay",children:m.jsxs("div",{className:"game-map",children:[m.jsxs("div",{className:"game-map-header",children:[m.jsx("h1",{children:"Level Map"}),m.jsx("button",{className:"close-button",onClick:d,type:"button",children:""})]}),m.jsxs("div",{className:"map-content",children:[m.jsxs("div",{className:"current-level-display",children:[m.jsx("span",{className:"current-level-label",children:"Current Level:"}),m.jsx("span",{className:"current-level-value",children:s})]}),m.jsxs("form",{onSubmit:u,className:"level-selector-form",children:[m.jsx("label",{htmlFor:"level-input",className:"level-input-label",children:"Enter Level Index:"}),m.jsxs("div",{className:"input-group",children:[m.jsx("input",{id:"level-input",type:"number",value:l,onChange:f=>c(f.target.value),min:"0",max:"999",className:"level-input",placeholder:"0",autoFocus:!0}),m.jsx("button",{type:"submit",className:"level-submit-button",children:"Go to Level"})]})]}),m.jsxs("div",{className:"map-placeholder",children:[m.jsx("p",{className:"placeholder-text",children:" Full level map coming soon!"}),m.jsx("p",{className:"placeholder-description",children:"This will show a visual grid of levels with different challenges, modifiers, and progression paths."})]})]})]})})};function _m(){const[s,o]=D.useState(!1),l=()=>{const c=document.documentElement;c.requestFullscreen&&!s&&(c.requestFullscreen(),o(!0))};return D.useEffect(()=>{const c=()=>{document.fullscreenElement?o(!0):o(!1)};return document.addEventListener("fullscreenchange",c),()=>{document.removeEventListener("fullscreenchange",c)}}),s?null:m.jsx("button",{className:"full-screen-button",onClick:l,"aria-label":"Enter Full Screen",children:m.jsx("span",{children:"+"})})}const Rm=({onClose:s,onStartPlaying:o})=>{const[l,c]=D.useState(0),u=D.useCallback(()=>{localStorage.setItem("hasSeenTutorial","true"),o(),s()},[s,o]),d=[{title:"Drag & Drop",content:m.jsxs("div",{className:"tutorial-media",children:[m.jsx("img",{src:"/assets/DragAndDrop.gif",alt:"Drag and drop demonstration"}),m.jsx("p",{className:"tutorial-description",children:"Drag shapes from the queue and place them on the 10x10 grid."})]})},{title:"Clear Lines",content:m.jsxs("div",{className:"tutorial-media",children:[m.jsx("img",{src:"/assets/Get10InARow.gif",alt:"Clear lines demonstration"}),m.jsx("p",{className:"tutorial-description",children:"Fill an entire row or column to clear it and earn points."})]})},{title:"Combo Bonuses",content:m.jsxs("div",{className:"tutorial-media",children:[m.jsx("img",{src:"/assets/ClearUpTo4LinesInARow.gif",alt:"Combo bonus demonstration"}),m.jsx("p",{className:"tutorial-description",children:"Clear multiple lines at once to earn massive point bonuses!"})]})},{title:"Rotate Shapes",content:m.jsxs("div",{className:"tutorial-media",children:[m.jsx("img",{src:"/assets/TurnShapes.gif",alt:"Rotate shapes demonstration"}),m.jsx("p",{className:"tutorial-description",children:"Spend your hard-earned points to rotate shapes that don't fit."})]})}],f=D.useCallback(()=>{l<d.length-1&&c(l+1)},[l,d.length]),y=D.useCallback(()=>{l>0&&c(l-1)},[l]),h=D.useCallback(w=>{c(w)},[]);return Ae.useEffect(()=>{const w=v=>{v.key==="Escape"&&u()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[u]),vl.createPortal(m.jsx("div",{className:"tutorial-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:m.jsxs("div",{className:"tutorial-content",children:[m.jsx("button",{className:"tutorial-close-x",onClick:u,"aria-label":"Close tutorial",title:"Close tutorial",children:""}),m.jsxs("div",{className:"tutorial-slide",children:[m.jsx("h2",{id:"tutorial-title",className:"tutorial-title",children:d[l].title}),m.jsx("div",{className:"tutorial-body",children:d[l].content})]}),m.jsxs("div",{className:"tutorial-navigation",children:[m.jsx("button",{className:"tutorial-nav-button",onClick:y,disabled:l===0,"aria-label":"Previous slide",children:" Previous"}),m.jsx("div",{className:"tutorial-dots",children:d.map((w,v)=>m.jsx("button",{className:`tutorial-dot ${v===l?"active":""}`,onClick:()=>h(v),"aria-label":`Go to slide ${v+1}`},`slide-${v}-${w.title}`))}),l<d.length-1?m.jsx("button",{className:"tutorial-nav-button",onClick:f,"aria-label":"Next slide",children:"Next "}):m.jsx("button",{className:"tutorial-nav-button tutorial-close-button",onClick:u,"aria-label":"Close tutorial",children:"Start Playing"})]})]})}),document.body)};function Om(){var ae;const{dragState:s,mousePosition:o}=tt(),l=at(),{playSound:c}=Sl(),[u,d]=D.useState(0),[f,y]=D.useState(0),[h,w]=D.useState(0),{state:v}=wl(),{gridSize:g,gridGap:x}=eo(),{PICKUP_DURATION:k,PLACING_DURATION:N,RETURN_DURATION:j,PLACEMENT_SOUND_DURATION:A,INVALID_BLOCK_ANIMATION_DURATION:R}=ji,I=4,M=1,L=x,Y=9*L,q=(g-Y)/10,se=((ae=s.dragOffsets)==null?void 0:ae.touchOffset)??0;if(D.useEffect(()=>{s.phase==="picking-up"&&s.startTime&&c("pickup_shape")},[s.phase,s.startTime,c]),D.useEffect(()=>{if(s.phase!=="picking-up"||!s.sourcePosition){d(s.phase==="dragging"?1:0);return}const Q=performance.now(),ee=re=>{const ce=re-Q,de=Math.min(ce/k,1),ge=1-Math.pow(1-de,3);d(ge),de<1?requestAnimationFrame(ee):d(1)};requestAnimationFrame(ee)},[s.phase,s.sourcePosition,k]),D.useEffect(()=>{if(s.phase!=="placing"||!s.targetPosition){y(0);return}const ee=N-A,re=performance.now();let ce=!1;const de=ge=>{const Le=ge-re,mn=Math.min(Le/N,1);!ce&&Le>=ee&&(ce=!0,c("click_into_place"));const no=Math.pow(mn,3);y(no),mn>=1?l({type:"COMPLETE_PLACEMENT"}):requestAnimationFrame(de)};requestAnimationFrame(de)},[s.phase,s.targetPosition,l,c,N]),D.useEffect(()=>{if(s.phase!=="returning"||!s.sourcePosition){w(0);return}const Q=performance.now(),ee=re=>{const ce=re-Q,de=Math.min(ce/j,1),ge=1-Math.pow(1-de,3);w(ge),de>=1?l({type:"COMPLETE_RETURN"}):requestAnimationFrame(ee)};requestAnimationFrame(ee)},[s.phase,s.sourcePosition,l,j]),!s.selectedShape||s.selectedShapeIndex===null||s.phase==="none")return null;const te=s.selectedShape,ie=s.sourcePosition;let H=q,ne={x:0,y:0};if(ie){const Q=ie.width-I*2,ee=M*3;H=(Q-ee)/4,ne={x:ie.x+ie.width/2,y:ie.y+ie.height/2}}let Se=q,ve=L,pe={x:0,y:0},xe=1;const Pe=(Q,ee)=>{const re=Ri(te),ce=Q+ee,de=re.minCol+(re.width-1)/2,ge=re.minRow+(re.height-1)/2,Le=1.5;return{x:(Le-de)*ce,y:(Le-ge)*ce}};if(s.phase==="picking-up"&&ie){Se=H+(q-H)*u,ve=M+(L-M)*u;const Q=o.x,ee=o.y-se;pe={x:ne.x+(Q-ne.x)*u,y:ne.y+(ee-ne.y)*u}}else if(s.phase==="dragging")Se=q,ve=L,pe={x:o.x,y:o.y-se};else if(s.phase==="placing"&&s.targetPosition){Se=q,ve=L;const Q=s.placementStartPosition??o,ee=Q.x,re=Q.y-se,ce=s.targetPosition.x,de=s.targetPosition.y;pe={x:ee+(ce-ee)*f,y:re+(de-re)*f},xe=1-.05*Math.sin(f*Math.PI)}else if(s.phase==="returning"&&ie){Se=q+(H-q)*h,ve=L+(M-L)*h;const Q=o.x,ee=o.y-se;pe={x:Q+(ne.x-Q)*h,y:ee+(ne.y-ee)*h},xe=1-.2*h}const he=Pe(Se,ve),$=4*Se+3*ve,Z=4*Se+3*ve,G=pe.x-$/2,T=pe.y-Z/2;if(!Number.isFinite(T)||!Number.isFinite(G))return null;const b=new Set(s.invalidBlockPositions.map(Q=>`${Q.shapeRow},${Q.shapeCol}`));return m.jsx("div",{className:`dragging-shape-container ${s.phase==="dragging"?"dragging-phase":""}`,style:{"--container-top":`${T}px`,"--container-left":`${G}px`,"--tile-size":`${Se}px`,"--grid-gap":`${ve}px`,"--block-overlap":`${ve}px`,"--scale":xe,"--centering-offset-x":`${he.x}px`,"--centering-offset-y":`${he.y}px`,"--invalid-anim-duration":`${R}ms`},children:te.map((Q,ee)=>Q.map((re,ce)=>{const de=`${ee},${ce}`,ge=b.has(de),Le=(ee*4+ce)*50;return m.jsx("div",{className:`dragging-shape-cell ${ge?"invalid-cell":""}`,style:{transform:"translate(var(--centering-offset-x), var(--centering-offset-y))"},children:m.jsxs("div",{className:"wiggle-wrapper",style:{"--wiggle-delay":`${Le}ms`},children:[re.isFilled&&m.jsx(Jr,{block:re,size:ge?Se*.5:Se}),!re.isFilled&&v.isEditorOpen&&v.showGridDots&&m.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"white",opacity:.6,pointerEvents:"none"}})]})},`${ee}-${ce}`)}))})}const Mm=()=>{const[s,o]=D.useState([]);return D.useEffect(()=>{const l=c=>{const u={id:Date.now(),text:c.detail.message};o(d=>[...d,u]),setTimeout(()=>{o(d=>d.filter(f=>f.id!==u.id))},3e3)};return window.addEventListener("tetrix-show-toast",l),()=>{window.removeEventListener("tetrix-show-toast",l)}},[]),m.jsx("div",{className:"toast-overlay-container",children:s.map(l=>m.jsx("div",{className:"toast-message",children:l.text},l.id))})},Am=()=>{const{colorOverrides:s}=Od();return D.useEffect(()=>{const o=document.documentElement;["grey","red","orange","yellow","green","blue","purple"].forEach(c=>{const u=s[c];u!=null&&u.background?o.style.setProperty(`--color-${c}-bg`,u.background):o.style.removeProperty(`--color-${c}-bg`),u!=null&&u.borderTop?o.style.setProperty(`--color-${c}-border-top`,u.borderTop):o.style.removeProperty(`--color-${c}-border-top`),u!=null&&u.borderLeft?o.style.setProperty(`--color-${c}-border-left`,u.borderLeft):o.style.removeProperty(`--color-${c}-border-left`),u!=null&&u.borderBottom?o.style.setProperty(`--color-${c}-border-bottom`,u.borderBottom):o.style.removeProperty(`--color-${c}-border-bottom`),u!=null&&u.borderRight?o.style.setProperty(`--color-${c}-border-right`,u.borderRight):o.style.removeProperty(`--color-${c}-border-right`)})},[s]),null};function jm(s,o,l){s/=255,o/=255,l/=255;const c=Math.max(s,o,l),u=Math.min(s,o,l);let d=0,f=0;const y=(c+u)/2;if(c!==u){const h=c-u;switch(f=y>.5?h/(2-c-u):h/(c+u),c){case s:d=((o-l)/h+(o<l?6:0))/6;break;case o:d=((l-s)/h+2)/6;break;case l:d=((s-o)/h+4)/6;break}}return[d*360,f*100,y*100]}function Dm(s,o,l){s/=360,o/=100,l/=100;let c,u,d;if(o===0)c=u=d=l;else{const f=(w,v,g)=>(g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?w+(v-w)*6*g:g<.5?v:g<.6666666666666666?w+(v-w)*(.6666666666666666-g)*6:w),y=l<.5?l*(1+o):l+o-l*o,h=2*l-y;c=f(h,y,s+1/3),u=f(h,y,s),d=f(h,y,s-1/3)}return`rgb(${Math.round(c*255)}, ${Math.round(u*255)}, ${Math.round(d*255)})`}function Lm(s){const o=s.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!o)throw new Error(`Invalid RGB string: ${s}`);return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}function hl(s,o){const[l,c,u]=Lm(s),[d,f,y]=jm(l,c,u),h=Math.max(0,Math.min(100,y+o));return Dm(d,f,h)}function Si(s){const o={};for(const l of Object.keys(s)){const c=s[l];o[l]={bg:c,borderTop:hl(c,20),borderLeft:hl(c,10),borderRight:hl(c,-10),borderBottom:hl(c,-20)}}return o}const Im={grey:"rgb(140, 140, 140)",red:"rgb(239, 68, 68)",orange:"rgb(249, 115, 22)",yellow:"rgb(250, 204, 21)",green:"rgb(34, 197, 94)",blue:"rgb(59, 130, 246)",purple:"rgb(168, 85, 247)"},bm={grey:"rgb(115, 115, 115)",red:"rgb(220, 38, 38)",orange:"rgb(234, 88, 12)",yellow:"rgb(202, 138, 4)",green:"rgb(22, 163, 74)",blue:"rgb(37, 99, 235)",purple:"rgb(147, 51, 234)"},Fm={grey:"rgb(203, 213, 225)",red:"rgb(252, 165, 165)",orange:"rgb(253, 186, 116)",yellow:"rgb(254, 240, 138)",green:"rgb(134, 239, 172)",blue:"rgb(147, 197, 253)",purple:"rgb(216, 180, 254)"},Bm={dark:Si(Im),light:Si(bm),"block-blast":Si(Fm)};function zm(s){const o={};for(const l of Object.keys(s)){const c=s[l];o[`--color-${l}-bg`]=c.bg,o[`--color-${l}-border-top`]=c.borderTop,o[`--color-${l}-border-left`]=c.borderLeft,o[`--color-${l}-border-right`]=c.borderRight,o[`--color-${l}-border-bottom`]=c.borderBottom}return o}const Um=()=>{const{gameState:s,dragState:o,gridTileSize:l,gridBounds:c,tiles:u,currentTheme:d}=tt(),f=at(),{triggerAutoplay:y}=yl(),{playSound:h}=Sl(),[w,v]=D.useState(!1),g=D.useRef(null);D.useEffect(()=>{localStorage.getItem("hasSeenTutorial")||v(!0)},[]),D.useEffect(()=>{const A=R=>{const I={x:R.clientX,y:R.clientY};if(o.phase==="placing"||o.phase==="returning"){f({type:"UPDATE_MOUSE_LOCATION",value:{location:null,position:I,tileSize:l,gridBounds:c,isValid:!1,invalidBlocks:[]}});return}let M=null,L=l,Y=c,q=!1,se=[];if(o.selectedShape&&(g.current||(g.current=document.querySelector(".grid")),g.current)){const te=g.current,ie=te.getBoundingClientRect();Y||(Y={top:ie.top,left:ie.left,width:ie.width,height:ie.height});const H=o.dragOffsets;if(!H){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE");return}L=H.tileSize,M=Fc(R.clientX,R.clientY,te,{rows:10,columns:10},H.touchOffset,o.selectedShape,{gridOffsetX:H.gridOffsetX,gridOffsetY:H.gridOffsetY,tileSize:H.tileSize,gridGap:H.gridGap}),M&&(q=ki(o.selectedShape,M,u),se=ih(o.selectedShape,M,u))}f({type:"UPDATE_MOUSE_LOCATION",value:{location:M,position:I,tileSize:L,gridBounds:Y,isValid:q,invalidBlocks:se}})};return document.addEventListener("pointermove",A),()=>{document.removeEventListener("pointermove",A),g.current=null}},[f,o.selectedShape,o.dragOffsets,o.hoveredBlockPositions,o.isValidPlacement,o.invalidBlockPositions,o.phase,l,c,u]),D.useEffect(()=>{const A=R=>{if(!o.selectedShape)return;g.current||(g.current=document.querySelector(".grid"));const I=g.current;if(!I){f({type:"RETURN_SHAPE_TO_SELECTOR"});return}const M=o.dragOffsets;if(!M){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE"),f({type:"RETURN_SHAPE_TO_SELECTOR"});return}const L=Fc(R.clientX,R.clientY,I,{rows:10,columns:10},M.touchOffset,o.selectedShape,{gridOffsetX:M.gridOffsetX,gridOffsetY:M.gridOffsetY,tileSize:M.tileSize,gridGap:M.gridGap});if(L===null||!ki(o.selectedShape,L,u)){h("invalid_placement"),f({type:"RETURN_SHAPE_TO_SELECTOR"});return}f({type:"PLACE_SHAPE",value:{location:L,mousePosition:{x:R.clientX,y:R.clientY}}})};return document.addEventListener("pointerup",A),()=>{document.removeEventListener("pointerup",A)}},[f,o.selectedShape,o.dragOffsets,u,h]);const k={dark:{background:"rgb(25, 25, 25)",gameBackground:"rgb(25, 25, 25)",text:"rgb(200, 200, 200)",textSecondary:"rgb(150, 150, 150)",gridBg:"rgb(10, 10, 10)",tileBg:"rgb(30, 30, 30)",tileBorder:"rgb(50, 50, 50)",headerBg:"rgb(25, 25, 25)",headerBorder:"rgba(255, 255, 255, 0.1)",shapeSelectorBg:"linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 50%, rgba(240, 147, 251, 0.2) 100%)",shapeSelectorBorder:"rgba(255, 255, 255, 0.3)",overlayBg:"rgba(0, 0, 0, 0.85)",buttonBg:"rgba(255, 255, 255, 0.1)",buttonHover:"rgba(255, 255, 255, 0.2)"},light:{background:"rgb(245, 245, 245)",gameBackground:"rgb(235, 235, 235)",text:"rgb(20, 20, 20)",textSecondary:"rgb(100, 100, 100)",gridBg:"rgb(220, 220, 220)",tileBg:"rgb(255, 255, 255)",tileBorder:"rgb(200, 200, 200)",headerBg:"rgb(255, 255, 255)",headerBorder:"rgba(0, 0, 0, 0.1)",shapeSelectorBg:"linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(118, 75, 162, 0.15) 50%, rgba(240, 147, 251, 0.15) 100%)",shapeSelectorBorder:"rgba(0, 0, 0, 0.2)",overlayBg:"linear-gradient(135deg, rgba(245, 245, 245, 0.98) 0%, rgba(235, 235, 235, 0.98) 100%)",buttonBg:"rgba(0, 0, 0, 0.05)",buttonHover:"rgba(0, 0, 0, 0.1)"},"block-blast":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",gameBackground:"rgba(0, 0, 0, 0.15)",text:"rgb(255, 255, 255)",textSecondary:"rgba(255, 255, 255, 0.8)",gridBg:"rgba(255, 255, 255, 0.1)",tileBg:"rgba(255, 255, 255, 0.05)",tileBorder:"rgba(255, 255, 255, 0.2)",headerBg:"rgba(255, 255, 255, 0.1)",headerBorder:"rgba(255, 255, 255, 0.2)",shapeSelectorBg:"linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.1) 100%)",shapeSelectorBorder:"rgba(255, 255, 255, 0.4)",overlayBg:"rgba(102, 126, 234, 0.95)",buttonBg:"rgba(255, 255, 255, 0.15)",buttonHover:"rgba(255, 255, 255, 0.25)"}}[d],N=zm(Bm[d]),j={background:k.background,color:k.text,"--theme-text":k.text,"--theme-text-secondary":k.textSecondary,"--theme-game-bg":k.gameBackground,"--theme-grid-bg":k.gridBg,"--theme-tile-bg":k.tileBg,"--theme-tile-border":k.tileBorder,"--theme-header-bg":k.headerBg,"--theme-header-border":k.headerBorder,"--theme-shape-selector-bg":k.shapeSelectorBg,"--theme-shape-selector-border":k.shapeSelectorBorder,"--theme-overlay-bg":k.overlayBg,"--theme-button-bg":k.buttonBg,"--theme-button-hover":k.buttonHover,"--theme-animation-color":d==="light"?"rgba(100, 100, 100, 0.55)":"rgba(255, 255, 255, 0.55)",...N};return m.jsxs("div",{className:"App",style:j,children:[m.jsx(Am,{}),m.jsx($h,{onShowTutorial:()=>v(!0)}),m.jsx("div",{className:"game-container",children:s==="playing"?m.jsx(Nm,{}):m.jsx(Pm,{})}),m.jsx(_m,{}),w&&m.jsx(Rm,{onClose:()=>v(!1),onStartPlaying:y}),m.jsx(xh,{}),m.jsx(Om,{}),m.jsx(Mm,{})]})};function $m({children:s}){const[o,l]=D.useReducer(mm,hm),[c,u]=D.useState(!1);return D.useEffect(()=>{(async()=>{var f;try{console.log("TetrixProvider: Attempting to load saved game state...");const[y,h,w,v]=await Promise.all([xd(),wd(),_i(),Sd()]);v&&(v==="dark"||v==="light"||v==="block-blast")&&l({type:"SET_THEME",value:{theme:v}}),l({type:"LOAD_MODIFIERS",value:{unlockedModifiers:h}}),w&&l({type:"LOAD_STATS",value:{stats:w}}),(y==null?void 0:y.tiles.length)===100?(console.log("TetrixProvider: Found valid saved game state, restoring...",{score:y.score,tilesCount:y.tiles.length,shapesCount:y.nextShapes.length,hasSavedShape:!!y.savedShape}),l({type:"LOAD_GAME_STATE",value:{gameData:y}})):console.log("TetrixProvider: No valid saved game state found (tiles count:",((f=y==null?void 0:y.tiles)==null?void 0:f.length)??"undefined",")")}catch(y){console.error("Failed to load saved game state:",y)}finally{l({type:"INITIALIZATION_COMPLETE"}),u(!0)}})()},[]),c?m.jsx(Nd.Provider,{value:o,children:m.jsx(Pd.Provider,{value:l,children:s})}):null}class Gm extends D.Component{constructor(){super(...arguments);Pc(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(l){return console.log("Error boundary caught error:",l),{hasError:!0,error:l,errorInfo:null}}componentDidCatch(l,c){console.error("Uncaught error:",l,c),console.log("Error boundary activated!"),this.setState({error:l,errorInfo:c})}render(){var l;return this.state.hasError?m.jsx("div",{className:"rant-error-boundary-container",children:m.jsxs("div",{className:"rant-error-boundary-content",children:[m.jsx("h1",{className:"rant-error-boundary-title",children:"Application Error"}),m.jsxs("div",{className:"rant-error-boundary-details",children:[m.jsx("strong",{children:"Error Details:"}),m.jsx("br",{}),((l=this.state.error)==null?void 0:l.message)||"Unknown error occurred"]}),m.jsx("p",{className:"rant-error-boundary-message",children:"The application has encountered an error and cannot continue. Please refresh the page to restart the application."}),m.jsx("button",{onClick:()=>globalThis.location.reload(),className:"rant-error-boundary-button",children:"Refresh Page"}),m.jsx("div",{className:"rant-error-boundary-footer",children:"If this problem persists, maybe try not clicking that button so much next time."})]})}):this.props.children}}Up.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(Gm,{children:m.jsx(Uh,{children:m.jsx(rh,{children:m.jsx($m,{children:m.jsx(lh,{children:m.jsx(Eh,{children:m.jsx(Um,{})})})})})})})}));

var lp=Object.defineProperty;var ip=(s,l,i)=>l in s?lp(s,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[l]=i;var Ec=(s,l,i)=>ip(s,typeof l!="symbol"?l+"":l,i);(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function d(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function sp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var as={exports:{}},qr={},us={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc;function ap(){if(xc)return fe;xc=1;var s=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function O(N,L,ae){this.props=N,this.context=L,this.refs=M,this.updater=ae||_}O.prototype.isReactComponent={},O.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function W(){}W.prototype=O.prototype;function U(N,L,ae){this.props=N,this.context=L,this.refs=M,this.updater=ae||_}var D=U.prototype=new W;D.constructor=U,k(D,O.prototype),D.isPureReactComponent=!0;var j=Array.isArray,G=Object.prototype.hasOwnProperty,J={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function V(N,L,ae){var ue,te={},X=null,se=null;if(L!=null)for(ue in L.ref!==void 0&&(se=L.ref),L.key!==void 0&&(X=""+L.key),L)G.call(L,ue)&&!Z.hasOwnProperty(ue)&&(te[ue]=L[ue]);var ie=arguments.length-2;if(ie===1)te.children=ae;else if(1<ie){for(var de=Array(ie),Pe=0;Pe<ie;Pe++)de[Pe]=arguments[Pe+2];te.children=de}if(N&&N.defaultProps)for(ue in ie=N.defaultProps,ie)te[ue]===void 0&&(te[ue]=ie[ue]);return{$$typeof:s,type:N,key:X,ref:se,props:te,_owner:J.current}}function oe(N,L){return{$$typeof:s,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function ce(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function he(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return L[ae]})}var xe=/\/+/g;function me(N,L){return typeof N=="object"&&N!==null&&N.key!=null?he(""+N.key):L.toString(36)}function ye(N,L,ae,ue,te){var X=typeof N;(X==="undefined"||X==="boolean")&&(N=null);var se=!1;if(N===null)se=!0;else switch(X){case"string":case"number":se=!0;break;case"object":switch(N.$$typeof){case s:case l:se=!0}}if(se)return se=N,te=te(se),N=ue===""?"."+me(se,0):ue,j(te)?(ae="",N!=null&&(ae=N.replace(xe,"$&/")+"/"),ye(te,L,ae,"",function(Pe){return Pe})):te!=null&&(ce(te)&&(te=oe(te,ae+(!te.key||se&&se.key===te.key?"":(""+te.key).replace(xe,"$&/")+"/")+N)),L.push(te)),1;if(se=0,ue=ue===""?".":ue+":",j(N))for(var ie=0;ie<N.length;ie++){X=N[ie];var de=ue+me(X,ie);se+=ye(X,L,ae,de,te)}else if(de=E(N),typeof de=="function")for(N=de.call(N),ie=0;!(X=N.next()).done;)X=X.value,de=ue+me(X,ie++),se+=ye(X,L,ae,de,te);else if(X==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return se}function Se(N,L,ae){if(N==null)return N;var ue=[],te=0;return ye(N,ue,"","",function(X){return L.call(ae,X,te++)}),ue}function De(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var we={current:null},$={transition:null},ee={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:$,ReactCurrentOwner:J};function H(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:Se,forEach:function(N,L,ae){Se(N,function(){L.apply(this,arguments)},ae)},count:function(N){var L=0;return Se(N,function(){L++}),L},toArray:function(N){return Se(N,function(L){return L})||[]},only:function(N){if(!ce(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},fe.Component=O,fe.Fragment=i,fe.Profiler=u,fe.PureComponent=U,fe.StrictMode=d,fe.Suspense=m,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,fe.act=H,fe.cloneElement=function(N,L,ae){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ue=k({},N.props),te=N.key,X=N.ref,se=N._owner;if(L!=null){if(L.ref!==void 0&&(X=L.ref,se=J.current),L.key!==void 0&&(te=""+L.key),N.type&&N.type.defaultProps)var ie=N.type.defaultProps;for(de in L)G.call(L,de)&&!Z.hasOwnProperty(de)&&(ue[de]=L[de]===void 0&&ie!==void 0?ie[de]:L[de])}var de=arguments.length-2;if(de===1)ue.children=ae;else if(1<de){ie=Array(de);for(var Pe=0;Pe<de;Pe++)ie[Pe]=arguments[Pe+2];ue.children=ie}return{$$typeof:s,type:N.type,key:te,ref:X,props:ue,_owner:se}},fe.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},fe.createElement=V,fe.createFactory=function(N){var L=V.bind(null,N);return L.type=N,L},fe.createRef=function(){return{current:null}},fe.forwardRef=function(N){return{$$typeof:y,render:N}},fe.isValidElement=ce,fe.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:De}},fe.memo=function(N,L){return{$$typeof:v,type:N,compare:L===void 0?null:L}},fe.startTransition=function(N){var L=$.transition;$.transition={};try{N()}finally{$.transition=L}},fe.unstable_act=H,fe.useCallback=function(N,L){return we.current.useCallback(N,L)},fe.useContext=function(N){return we.current.useContext(N)},fe.useDebugValue=function(){},fe.useDeferredValue=function(N){return we.current.useDeferredValue(N)},fe.useEffect=function(N,L){return we.current.useEffect(N,L)},fe.useId=function(){return we.current.useId()},fe.useImperativeHandle=function(N,L,ae){return we.current.useImperativeHandle(N,L,ae)},fe.useInsertionEffect=function(N,L){return we.current.useInsertionEffect(N,L)},fe.useLayoutEffect=function(N,L){return we.current.useLayoutEffect(N,L)},fe.useMemo=function(N,L){return we.current.useMemo(N,L)},fe.useReducer=function(N,L,ae){return we.current.useReducer(N,L,ae)},fe.useRef=function(N){return we.current.useRef(N)},fe.useState=function(N){return we.current.useState(N)},fe.useSyncExternalStore=function(N,L,ae){return we.current.useSyncExternalStore(N,L,ae)},fe.useTransition=function(){return we.current.useTransition()},fe.version="18.3.1",fe}var Cc;function ys(){return Cc||(Cc=1,us.exports=ap()),us.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc;function up(){if(kc)return qr;kc=1;var s=ys(),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(y,m,v){var p,g={},E=null,_=null;v!==void 0&&(E=""+v),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(_=m.ref);for(p in m)d.call(m,p)&&!c.hasOwnProperty(p)&&(g[p]=m[p]);if(y&&y.defaultProps)for(p in m=y.defaultProps,m)g[p]===void 0&&(g[p]=m[p]);return{$$typeof:l,type:y,key:E,ref:_,props:g,_owner:u.current}}return qr.Fragment=i,qr.jsx=h,qr.jsxs=h,qr}var Nc;function cp(){return Nc||(Nc=1,as.exports=up()),as.exports}var w=cp(),A=ys();const Ae=sp(A);var cl={},cs={exports:{}},it={},ds={exports:{}},fs={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc;function dp(){return Pc||(Pc=1,function(s){function l($,ee){var H=$.length;$.push(ee);e:for(;0<H;){var N=H-1>>>1,L=$[N];if(0<u(L,ee))$[N]=ee,$[H]=L,H=N;else break e}}function i($){return $.length===0?null:$[0]}function d($){if($.length===0)return null;var ee=$[0],H=$.pop();if(H!==ee){$[0]=H;e:for(var N=0,L=$.length,ae=L>>>1;N<ae;){var ue=2*(N+1)-1,te=$[ue],X=ue+1,se=$[X];if(0>u(te,H))X<L&&0>u(se,te)?($[N]=se,$[X]=H,N=X):($[N]=te,$[ue]=H,N=ue);else if(X<L&&0>u(se,H))$[N]=se,$[X]=H,N=X;else break e}}return ee}function u($,ee){var H=$.sortIndex-ee.sortIndex;return H!==0?H:$.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,y=h.now();s.unstable_now=function(){return h.now()-y}}var m=[],v=[],p=1,g=null,E=3,_=!1,k=!1,M=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D($){for(var ee=i(v);ee!==null;){if(ee.callback===null)d(v);else if(ee.startTime<=$)d(v),ee.sortIndex=ee.expirationTime,l(m,ee);else break;ee=i(v)}}function j($){if(M=!1,D($),!k)if(i(m)!==null)k=!0,De(G);else{var ee=i(v);ee!==null&&we(j,ee.startTime-$)}}function G($,ee){k=!1,M&&(M=!1,W(V),V=-1),_=!0;var H=E;try{for(D(ee),g=i(m);g!==null&&(!(g.expirationTime>ee)||$&&!he());){var N=g.callback;if(typeof N=="function"){g.callback=null,E=g.priorityLevel;var L=N(g.expirationTime<=ee);ee=s.unstable_now(),typeof L=="function"?g.callback=L:g===i(m)&&d(m),D(ee)}else d(m);g=i(m)}if(g!==null)var ae=!0;else{var ue=i(v);ue!==null&&we(j,ue.startTime-ee),ae=!1}return ae}finally{g=null,E=H,_=!1}}var J=!1,Z=null,V=-1,oe=5,ce=-1;function he(){return!(s.unstable_now()-ce<oe)}function xe(){if(Z!==null){var $=s.unstable_now();ce=$;var ee=!0;try{ee=Z(!0,$)}finally{ee?me():(J=!1,Z=null)}}else J=!1}var me;if(typeof U=="function")me=function(){U(xe)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Se=ye.port2;ye.port1.onmessage=xe,me=function(){Se.postMessage(null)}}else me=function(){O(xe,0)};function De($){Z=$,J||(J=!0,me())}function we($,ee){V=O(function(){$(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){k||_||(k=!0,De(G))},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_getFirstCallbackNode=function(){return i(m)},s.unstable_next=function($){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var H=E;E=ee;try{return $()}finally{E=H}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=E;E=$;try{return ee()}finally{E=H}},s.unstable_scheduleCallback=function($,ee,H){var N=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?N+H:N):H=N,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,$={id:p++,callback:ee,priorityLevel:$,startTime:H,expirationTime:L,sortIndex:-1},H>N?($.sortIndex=H,l(v,$),i(m)===null&&$===i(v)&&(M?(W(V),V=-1):M=!0,we(j,H-N))):($.sortIndex=L,l(m,$),k||_||(k=!0,De(G))),$},s.unstable_shouldYield=he,s.unstable_wrapCallback=function($){var ee=E;return function(){var H=E;E=ee;try{return $.apply(this,arguments)}finally{E=H}}}}(fs)),fs}var Tc;function fp(){return Tc||(Tc=1,ds.exports=dp()),ds.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function pp(){if(_c)return it;_c=1;var s=ys(),l=fp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,u={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)d.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function E(e){return m.call(g,e)?!0:m.call(p,e)?!1:v.test(e)?g[e]=!0:(p[e]=!0,!1)}function _(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,t,n,r){if(t===null||typeof t>"u"||_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,n,r,o,a,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=f}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W,U);O[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W,U);O[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W,U);O[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,n,r){var o=O.hasOwnProperty(t)?O[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k(t,n,o,r)&&(n=null),r||o===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var j=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),he=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),$=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,N;function L(e){if(N===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var ae=!1;function ue(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var r=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){r=R}e.call(t.prototype)}else{try{throw Error()}catch(R){r=R}e()}}catch(R){if(R&&r&&typeof R.stack=="string"){for(var o=R.stack.split(`
`),a=r.stack.split(`
`),f=o.length-1,S=a.length-1;1<=f&&0<=S&&o[f]!==a[S];)S--;for(;1<=f&&0<=S;f--,S--)if(o[f]!==a[S]){if(f!==1||S!==1)do if(f--,S--,0>S||o[f]!==a[S]){var x=`
`+o[f].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=f&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function te(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function X(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Portal";case oe:return"Profiler";case V:return"StrictMode";case me:return"Suspense";case ye:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case he:return(e.displayName||"Context")+".Consumer";case ce:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case De:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}function se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function de(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pe(e){var t=de(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){r=""+f,a.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pt(e){e._valueTracker||(e._valueTracker=Pe(e))}function ar(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=de(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function In(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ml(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _s(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ie(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rs(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function gl(e,t){Rs(e,t);var n=ie(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&vl(e,t.type,ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ms(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vl(e,t,n){(t!=="number"||In(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ur=Array.isArray;function jn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ie(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Os(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(ur(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ie(n)}}function As(e,t){var n=ie(t.value),r=ie(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ds(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ls(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ls(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var to,Is=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=to.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ud=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(e){ud.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dr[t]=dr[e]})});function js(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dr.hasOwnProperty(e)&&dr[e]?(""+t).trim():t+"px"}function Fs(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=js(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var cd=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(cd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function El(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kl=null,Fn=null,zn=null;function zs(e){if(e=Dr(e)){if(typeof kl!="function")throw Error(i(280));var t=e.stateNode;t&&(t=No(t),kl(e.stateNode,e.type,t))}}function Us(e){Fn?zn?zn.push(e):zn=[e]:Fn=e}function Bs(){if(Fn){var e=Fn,t=zn;if(zn=Fn=null,zs(e),t)for(e=0;e<t.length;e++)zs(t[e])}}function $s(e,t){return e(t)}function Gs(){}var Nl=!1;function Vs(e,t,n){if(Nl)return e(t,n);Nl=!0;try{return $s(e,t,n)}finally{Nl=!1,(Fn!==null||zn!==null)&&(Gs(),Bs())}}function fr(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Pl=!1;if(y)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Pl=!1}function dd(e,t,n,r,o,a,f,S,x){var R=Array.prototype.slice.call(arguments,3);try{t.apply(n,R)}catch(F){this.onError(F)}}var hr=!1,no=null,ro=!1,Tl=null,fd={onError:function(e){hr=!0,no=e}};function pd(e,t,n,r,o,a,f,S,x){hr=!1,no=null,dd.apply(fd,arguments)}function hd(e,t,n,r,o,a,f,S,x){if(pd.apply(this,arguments),hr){if(hr){var R=no;hr=!1,no=null}else throw Error(i(198));ro||(ro=!0,Tl=R)}}function gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ws(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hs(e){if(gn(e)!==e)throw Error(i(188))}function md(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Hs(o),e;if(a===r)return Hs(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var f=!1,S=o.child;S;){if(S===n){f=!0,n=o,r=a;break}if(S===r){f=!0,r=o,n=a;break}S=S.sibling}if(!f){for(S=a.child;S;){if(S===n){f=!0,n=a,r=o;break}if(S===r){f=!0,r=a,n=o;break}S=S.sibling}if(!f)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Qs(e){return e=md(e),e!==null?bs(e):null}function bs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bs(e);if(t!==null)return t;e=e.sibling}return null}var qs=l.unstable_scheduleCallback,Ys=l.unstable_cancelCallback,gd=l.unstable_shouldYield,vd=l.unstable_requestPaint,Le=l.unstable_now,yd=l.unstable_getCurrentPriorityLevel,_l=l.unstable_ImmediatePriority,Ks=l.unstable_UserBlockingPriority,oo=l.unstable_NormalPriority,wd=l.unstable_LowPriority,Xs=l.unstable_IdlePriority,lo=null,At=null;function Sd(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Cd,Ed=Math.log,xd=Math.LN2;function Cd(e){return e>>>=0,e===0?32:31-(Ed(e)/xd|0)|0}var io=64,so=4194304;function mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ao(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,f=n&268435455;if(f!==0){var S=f&~o;S!==0?r=mr(S):(a&=f,a!==0&&(r=mr(a)))}else f=n&~o,f!==0?r=mr(f):a!==0&&(r=mr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),o=1<<n,r|=e[n],t&=~o;return r}function kd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var f=31-Nt(a),S=1<<f,x=o[f];x===-1?(!(S&n)||S&r)&&(o[f]=kd(S,t)):x<=t&&(e.expiredLanes|=S),a&=~S}}function Rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Js(){var e=io;return io<<=1,!(io&4194240)&&(io=64),e}function Ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Pd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Nt(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Ol(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ee=0;function Zs(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ea,Al,ta,na,ra,Dl=!1,uo=[],bt=null,qt=null,Yt=null,vr=new Map,yr=new Map,Kt=[],Td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oa(e,t){switch(e){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(t.pointerId)}}function wr(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Dr(t),t!==null&&Al(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function _d(e,t,n,r,o){switch(t){case"focusin":return bt=wr(bt,e,t,n,r,o),!0;case"dragenter":return qt=wr(qt,e,t,n,r,o),!0;case"mouseover":return Yt=wr(Yt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return vr.set(a,wr(vr.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,yr.set(a,wr(yr.get(a)||null,e,t,n,r,o)),!0}return!1}function la(e){var t=vn(e.target);if(t!==null){var n=gn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ws(n),t!==null){e.blockedOn=t,ra(e.priority,function(){ta(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xl=r,n.target.dispatchEvent(r),xl=null}else return t=Dr(n),t!==null&&Al(t),e.blockedOn=n,!1;t.shift()}return!0}function ia(e,t,n){co(e)&&n.delete(t)}function Rd(){Dl=!1,bt!==null&&co(bt)&&(bt=null),qt!==null&&co(qt)&&(qt=null),Yt!==null&&co(Yt)&&(Yt=null),vr.forEach(ia),yr.forEach(ia)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Dl||(Dl=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Rd)))}function Er(e){function t(o){return Sr(o,e)}if(0<uo.length){Sr(uo[0],e);for(var n=1;n<uo.length;n++){var r=uo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bt!==null&&Sr(bt,e),qt!==null&&Sr(qt,e),Yt!==null&&Sr(Yt,e),vr.forEach(t),yr.forEach(t),n=0;n<Kt.length;n++)r=Kt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)la(n),n.blockedOn===null&&Kt.shift()}var Un=j.ReactCurrentBatchConfig,fo=!0;function Md(e,t,n,r){var o=Ee,a=Un.transition;Un.transition=null;try{Ee=1,Ll(e,t,n,r)}finally{Ee=o,Un.transition=a}}function Od(e,t,n,r){var o=Ee,a=Un.transition;Un.transition=null;try{Ee=4,Ll(e,t,n,r)}finally{Ee=o,Un.transition=a}}function Ll(e,t,n,r){if(fo){var o=Il(e,t,n,r);if(o===null)Jl(e,t,r,po,n),oa(e,r);else if(_d(o,e,t,n,r))r.stopPropagation();else if(oa(e,r),t&4&&-1<Td.indexOf(e)){for(;o!==null;){var a=Dr(o);if(a!==null&&ea(a),a=Il(e,t,n,r),a===null&&Jl(e,t,r,po,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Jl(e,t,r,null,n)}}var po=null;function Il(e,t,n,r){if(po=null,e=Cl(r),e=vn(e),e!==null)if(t=gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ws(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return po=e,null}function sa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yd()){case _l:return 1;case Ks:return 4;case oo:case wd:return 16;case Xs:return 536870912;default:return 16}default:return 16}}var Xt=null,jl=null,ho=null;function aa(){if(ho)return ho;var e,t=jl,n=t.length,r,o="value"in Xt?Xt.value:Xt.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===o[a-r];r++);return ho=o.slice(e,1<r?1-r:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function ua(){return!1}function at(e){function t(n,r,o,a,f){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=f,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(a):a[S]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?go:ua,this.isPropagationStopped=ua,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=at(Bn),xr=H({},Bn,{view:0,detail:0}),Ad=at(xr),zl,Ul,Cr,vo=H({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(zl=e.screenX-Cr.screenX,Ul=e.screenY-Cr.screenY):Ul=zl=0,Cr=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),ca=at(vo),Dd=H({},vo,{dataTransfer:0}),Ld=at(Dd),Id=H({},xr,{relatedTarget:0}),Bl=at(Id),jd=H({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=at(jd),zd=H({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ud=at(zd),Bd=H({},Bn,{data:0}),da=at(Bd),$d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vd[e])?!!t[e]:!1}function $l(){return Wd}var Hd=H({},xr,{key:function(e){if(e.key){var t=$d[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qd=at(Hd),bd=H({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=at(bd),qd=H({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Yd=at(qd),Kd=H({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=at(Kd),Jd=H({},vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=at(Jd),ef=[9,13,27,32],Gl=y&&"CompositionEvent"in window,kr=null;y&&"documentMode"in document&&(kr=document.documentMode);var tf=y&&"TextEvent"in window&&!kr,pa=y&&(!Gl||kr&&8<kr&&11>=kr),ha=" ",ma=!1;function ga(e,t){switch(e){case"keyup":return ef.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function nf(e,t){switch(e){case"compositionend":return va(t);case"keypress":return t.which!==32?null:(ma=!0,ha);case"textInput":return e=t.data,e===ha&&ma?null:e;default:return null}}function rf(e,t){if($n)return e==="compositionend"||!Gl&&ga(e,t)?(e=aa(),ho=jl=Xt=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pa&&t.locale!=="ko"?null:t.data;default:return null}}var of={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!of[e.type]:t==="textarea"}function wa(e,t,n,r){Us(r),t=xo(t,"onChange"),0<t.length&&(n=new Fl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nr=null,Pr=null;function lf(e){Fa(e,0)}function yo(e){var t=Qn(e);if(ar(t))return e}function sf(e,t){if(e==="change")return t}var Sa=!1;if(y){var Vl;if(y){var Wl="oninput"in document;if(!Wl){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),Wl=typeof Ea.oninput=="function"}Vl=Wl}else Vl=!1;Sa=Vl&&(!document.documentMode||9<document.documentMode)}function xa(){Nr&&(Nr.detachEvent("onpropertychange",Ca),Pr=Nr=null)}function Ca(e){if(e.propertyName==="value"&&yo(Pr)){var t=[];wa(t,Pr,e,Cl(e)),Vs(lf,t)}}function af(e,t,n){e==="focusin"?(xa(),Nr=t,Pr=n,Nr.attachEvent("onpropertychange",Ca)):e==="focusout"&&xa()}function uf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(Pr)}function cf(e,t){if(e==="click")return yo(t)}function df(e,t){if(e==="input"||e==="change")return yo(t)}function ff(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:ff;function Tr(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!m.call(t,o)||!Pt(e[o],t[o]))return!1}return!0}function ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Na(e,t){var n=ka(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ka(n)}}function Pa(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pa(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ta(){for(var e=window,t=In();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=In(e.document)}return t}function Hl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pf(e){var t=Ta(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pa(n.ownerDocument.documentElement,n)){if(r!==null&&Hl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Na(n,a);var f=Na(n,r);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hf=y&&"documentMode"in document&&11>=document.documentMode,Gn=null,Ql=null,_r=null,bl=!1;function _a(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bl||Gn==null||Gn!==In(r)||(r=Gn,"selectionStart"in r&&Hl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Tr(_r,r)||(_r=r,r=xo(Ql,"onSelect"),0<r.length&&(t=new Fl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gn)))}function wo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vn={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionend:wo("Transition","TransitionEnd")},ql={},Ra={};y&&(Ra=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function So(e){if(ql[e])return ql[e];if(!Vn[e])return e;var t=Vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ra)return ql[e]=t[n];return e}var Ma=So("animationend"),Oa=So("animationiteration"),Aa=So("animationstart"),Da=So("transitionend"),La=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){La.set(e,t),c(t,[e])}for(var Yl=0;Yl<Ia.length;Yl++){var Kl=Ia[Yl],mf=Kl.toLowerCase(),gf=Kl[0].toUpperCase()+Kl.slice(1);Jt(mf,"on"+gf)}Jt(Ma,"onAnimationEnd"),Jt(Oa,"onAnimationIteration"),Jt(Aa,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(Da,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function ja(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hd(r,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var f=r.length-1;0<=f;f--){var S=r[f],x=S.instance,R=S.currentTarget;if(S=S.listener,x!==a&&o.isPropagationStopped())break e;ja(o,S,R),a=x}else for(f=0;f<r.length;f++){if(S=r[f],x=S.instance,R=S.currentTarget,S=S.listener,x!==a&&o.isPropagationStopped())break e;ja(o,S,R),a=x}}}if(ro)throw e=Tl,ro=!1,Tl=null,e}function ke(e,t){var n=t[oi];n===void 0&&(n=t[oi]=new Set);var r=e+"__bubble";n.has(r)||(za(t,e,2,!1),n.add(r))}function Xl(e,t,n){var r=0;t&&(r|=4),za(n,e,r,t)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[Eo]){e[Eo]=!0,d.forEach(function(n){n!=="selectionchange"&&(vf.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eo]||(t[Eo]=!0,Xl("selectionchange",!1,t))}}function za(e,t,n,r){switch(sa(t)){case 1:var o=Md;break;case 4:o=Od;break;default:o=Ll}n=o.bind(null,t,n,e),o=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Jl(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var S=r.stateNode.containerInfo;if(S===o||S.nodeType===8&&S.parentNode===o)break;if(f===4)for(f=r.return;f!==null;){var x=f.tag;if((x===3||x===4)&&(x=f.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;f=f.return}for(;S!==null;){if(f=vn(S),f===null)return;if(x=f.tag,x===5||x===6){r=a=f;continue e}S=S.parentNode}}r=r.return}Vs(function(){var R=a,F=Cl(n),z=[];e:{var I=La.get(e);if(I!==void 0){var Q=Fl,q=e;switch(e){case"keypress":if(mo(n)===0)break e;case"keydown":case"keyup":Q=Qd;break;case"focusin":q="focus",Q=Bl;break;case"focusout":q="blur",Q=Bl;break;case"beforeblur":case"afterblur":Q=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Yd;break;case Ma:case Oa:case Aa:Q=Fd;break;case Da:Q=Xd;break;case"scroll":Q=Ad;break;case"wheel":Q=Zd;break;case"copy":case"cut":case"paste":Q=Ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=fa}var Y=(t&4)!==0,Ie=!Y&&e==="scroll",P=Y?I!==null?I+"Capture":null:I;Y=[];for(var C=R,T;C!==null;){T=C;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,P!==null&&(B=fr(C,P),B!=null&&Y.push(Or(C,B,T)))),Ie)break;C=C.return}0<Y.length&&(I=new Q(I,q,null,n,F),z.push({event:I,listeners:Y}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",I&&n!==xl&&(q=n.relatedTarget||n.fromElement)&&(vn(q)||q[zt]))break e;if((Q||I)&&(I=F.window===F?F:(I=F.ownerDocument)?I.defaultView||I.parentWindow:window,Q?(q=n.relatedTarget||n.toElement,Q=R,q=q?vn(q):null,q!==null&&(Ie=gn(q),q!==Ie||q.tag!==5&&q.tag!==6)&&(q=null)):(Q=null,q=R),Q!==q)){if(Y=ca,B="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Y=fa,B="onPointerLeave",P="onPointerEnter",C="pointer"),Ie=Q==null?I:Qn(Q),T=q==null?I:Qn(q),I=new Y(B,C+"leave",Q,n,F),I.target=Ie,I.relatedTarget=T,B=null,vn(F)===R&&(Y=new Y(P,C+"enter",q,n,F),Y.target=T,Y.relatedTarget=Ie,B=Y),Ie=B,Q&&q)t:{for(Y=Q,P=q,C=0,T=Y;T;T=Wn(T))C++;for(T=0,B=P;B;B=Wn(B))T++;for(;0<C-T;)Y=Wn(Y),C--;for(;0<T-C;)P=Wn(P),T--;for(;C--;){if(Y===P||P!==null&&Y===P.alternate)break t;Y=Wn(Y),P=Wn(P)}Y=null}else Y=null;Q!==null&&Ua(z,I,Q,Y,!1),q!==null&&Ie!==null&&Ua(z,Ie,q,Y,!0)}}e:{if(I=R?Qn(R):window,Q=I.nodeName&&I.nodeName.toLowerCase(),Q==="select"||Q==="input"&&I.type==="file")var K=sf;else if(ya(I))if(Sa)K=df;else{K=uf;var ne=af}else(Q=I.nodeName)&&Q.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(K=cf);if(K&&(K=K(e,R))){wa(z,K,n,F);break e}ne&&ne(e,I,R),e==="focusout"&&(ne=I._wrapperState)&&ne.controlled&&I.type==="number"&&vl(I,"number",I.value)}switch(ne=R?Qn(R):window,e){case"focusin":(ya(ne)||ne.contentEditable==="true")&&(Gn=ne,Ql=R,_r=null);break;case"focusout":_r=Ql=Gn=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,_a(z,n,F);break;case"selectionchange":if(hf)break;case"keydown":case"keyup":_a(z,n,F)}var re;if(Gl)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else $n?ga(e,n)&&(le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(le="onCompositionStart");le&&(pa&&n.locale!=="ko"&&($n||le!=="onCompositionStart"?le==="onCompositionEnd"&&$n&&(re=aa()):(Xt=F,jl="value"in Xt?Xt.value:Xt.textContent,$n=!0)),ne=xo(R,le),0<ne.length&&(le=new da(le,e,null,n,F),z.push({event:le,listeners:ne}),re?le.data=re:(re=va(n),re!==null&&(le.data=re)))),(re=tf?nf(e,n):rf(e,n))&&(R=xo(R,"onBeforeInput"),0<R.length&&(F=new da("onBeforeInput","beforeinput",null,n,F),z.push({event:F,listeners:R}),F.data=re))}Fa(z,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=fr(e,n),a!=null&&r.unshift(Or(e,a,o)),a=fr(e,t),a!=null&&r.push(Or(e,a,o))),e=e.return}return r}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ua(e,t,n,r,o){for(var a=t._reactName,f=[];n!==null&&n!==r;){var S=n,x=S.alternate,R=S.stateNode;if(x!==null&&x===r)break;S.tag===5&&R!==null&&(S=R,o?(x=fr(n,a),x!=null&&f.unshift(Or(n,x,S))):o||(x=fr(n,a),x!=null&&f.push(Or(n,x,S)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var yf=/\r\n?/g,wf=/\u0000|\uFFFD/g;function Ba(e){return(typeof e=="string"?e:""+e).replace(yf,`
`).replace(wf,"")}function Co(e,t,n){if(t=Ba(t),Ba(e)!==t&&n)throw Error(i(425))}function ko(){}var Zl=null,ei=null;function ti(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ni=typeof setTimeout=="function"?setTimeout:void 0,Sf=typeof clearTimeout=="function"?clearTimeout:void 0,$a=typeof Promise=="function"?Promise:void 0,Ef=typeof queueMicrotask=="function"?queueMicrotask:typeof $a<"u"?function(e){return $a.resolve(null).then(e).catch(xf)}:ni;function xf(e){setTimeout(function(){throw e})}function ri(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Er(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Hn,Ar="__reactProps$"+Hn,zt="__reactContainer$"+Hn,oi="__reactEvents$"+Hn,Cf="__reactListeners$"+Hn,kf="__reactHandles$"+Hn;function vn(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ga(e);e!==null;){if(n=e[Dt])return n;e=Ga(e)}return t}e=n,n=e.parentNode}return null}function Dr(e){return e=e[Dt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function No(e){return e[Ar]||null}var li=[],bn=-1;function en(e){return{current:e}}function Ne(e){0>bn||(e.current=li[bn],li[bn]=null,bn--)}function Ce(e,t){bn++,li[bn]=e.current,e.current=t}var tn={},Ye=en(tn),tt=en(!1),yn=tn;function qn(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function nt(e){return e=e.childContextTypes,e!=null}function Po(){Ne(tt),Ne(Ye)}function Va(e,t,n){if(Ye.current!==tn)throw Error(i(168));Ce(Ye,t),Ce(tt,n)}function Wa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(i(108,se(e)||"Unknown",o));return H({},n,r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,yn=Ye.current,Ce(Ye,e),Ce(tt,tt.current),!0}function Ha(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Wa(e,t,yn),r.__reactInternalMemoizedMergedChildContext=e,Ne(tt),Ne(Ye),Ce(Ye,e)):Ne(tt),Ce(tt,n)}var Ut=null,_o=!1,ii=!1;function Qa(e){Ut===null?Ut=[e]:Ut.push(e)}function Nf(e){_o=!0,Qa(e)}function nn(){if(!ii&&Ut!==null){ii=!0;var e=0,t=Ee;try{var n=Ut;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ut=null,_o=!1}catch(o){throw Ut!==null&&(Ut=Ut.slice(e+1)),qs(_l,nn),o}finally{Ee=t,ii=!1}}return null}var Yn=[],Kn=0,Ro=null,Mo=0,ht=[],mt=0,wn=null,Bt=1,$t="";function Sn(e,t){Yn[Kn++]=Mo,Yn[Kn++]=Ro,Ro=e,Mo=t}function ba(e,t,n){ht[mt++]=Bt,ht[mt++]=$t,ht[mt++]=wn,wn=e;var r=Bt;e=$t;var o=32-Nt(r)-1;r&=~(1<<o),n+=1;var a=32-Nt(t)+o;if(30<a){var f=o-o%5;a=(r&(1<<f)-1).toString(32),r>>=f,o-=f,Bt=1<<32-Nt(t)+o|n<<o|r,$t=a+e}else Bt=1<<a|n<<o|r,$t=e}function si(e){e.return!==null&&(Sn(e,1),ba(e,1,0))}function ai(e){for(;e===Ro;)Ro=Yn[--Kn],Yn[Kn]=null,Mo=Yn[--Kn],Yn[Kn]=null;for(;e===wn;)wn=ht[--mt],ht[mt]=null,$t=ht[--mt],ht[mt]=null,Bt=ht[--mt],ht[mt]=null}var ut=null,ct=null,Te=!1,Tt=null;function qa(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ya(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Bt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,ct=null,!0):!1;default:return!1}}function ui(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ci(e){if(Te){var t=ct;if(t){var n=t;if(!Ya(e,t)){if(ui(e))throw Error(i(418));t=Zt(n.nextSibling);var r=ut;t&&Ya(e,t)?qa(r,n):(e.flags=e.flags&-4097|2,Te=!1,ut=e)}}else{if(ui(e))throw Error(i(418));e.flags=e.flags&-4097|2,Te=!1,ut=e}}}function Ka(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Oo(e){if(e!==ut)return!1;if(!Te)return Ka(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ti(e.type,e.memoizedProps)),t&&(t=ct)){if(ui(e))throw Xa(),Error(i(418));for(;t;)qa(e,t),t=Zt(t.nextSibling)}if(Ka(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?Zt(e.stateNode.nextSibling):null;return!0}function Xa(){for(var e=ct;e;)e=Zt(e.nextSibling)}function Xn(){ct=ut=null,Te=!1}function di(e){Tt===null?Tt=[e]:Tt.push(e)}var Pf=j.ReactCurrentBatchConfig;function Lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(f){var S=o.refs;f===null?delete S[a]:S[a]=f},t._stringRef=a,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ao(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){var t=e._init;return t(e._payload)}function Za(e){function t(P,C){if(e){var T=P.deletions;T===null?(P.deletions=[C],P.flags|=16):T.push(C)}}function n(P,C){if(!e)return null;for(;C!==null;)t(P,C),C=C.sibling;return null}function r(P,C){for(P=new Map;C!==null;)C.key!==null?P.set(C.key,C):P.set(C.index,C),C=C.sibling;return P}function o(P,C){return P=dn(P,C),P.index=0,P.sibling=null,P}function a(P,C,T){return P.index=T,e?(T=P.alternate,T!==null?(T=T.index,T<C?(P.flags|=2,C):T):(P.flags|=2,C)):(P.flags|=1048576,C)}function f(P){return e&&P.alternate===null&&(P.flags|=2),P}function S(P,C,T,B){return C===null||C.tag!==6?(C=ns(T,P.mode,B),C.return=P,C):(C=o(C,T),C.return=P,C)}function x(P,C,T,B){var K=T.type;return K===Z?F(P,C,T.props.children,B,T.key):C!==null&&(C.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===De&&Ja(K)===C.type)?(B=o(C,T.props),B.ref=Lr(P,C,T),B.return=P,B):(B=nl(T.type,T.key,T.props,null,P.mode,B),B.ref=Lr(P,C,T),B.return=P,B)}function R(P,C,T,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==T.containerInfo||C.stateNode.implementation!==T.implementation?(C=rs(T,P.mode,B),C.return=P,C):(C=o(C,T.children||[]),C.return=P,C)}function F(P,C,T,B,K){return C===null||C.tag!==7?(C=_n(T,P.mode,B,K),C.return=P,C):(C=o(C,T),C.return=P,C)}function z(P,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return C=ns(""+C,P.mode,T),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case G:return T=nl(C.type,C.key,C.props,null,P.mode,T),T.ref=Lr(P,null,C),T.return=P,T;case J:return C=rs(C,P.mode,T),C.return=P,C;case De:var B=C._init;return z(P,B(C._payload),T)}if(ur(C)||ee(C))return C=_n(C,P.mode,T,null),C.return=P,C;Ao(P,C)}return null}function I(P,C,T,B){var K=C!==null?C.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return K!==null?null:S(P,C,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case G:return T.key===K?x(P,C,T,B):null;case J:return T.key===K?R(P,C,T,B):null;case De:return K=T._init,I(P,C,K(T._payload),B)}if(ur(T)||ee(T))return K!==null?null:F(P,C,T,B,null);Ao(P,T)}return null}function Q(P,C,T,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return P=P.get(T)||null,S(C,P,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case G:return P=P.get(B.key===null?T:B.key)||null,x(C,P,B,K);case J:return P=P.get(B.key===null?T:B.key)||null,R(C,P,B,K);case De:var ne=B._init;return Q(P,C,T,ne(B._payload),K)}if(ur(B)||ee(B))return P=P.get(T)||null,F(C,P,B,K,null);Ao(C,B)}return null}function q(P,C,T,B){for(var K=null,ne=null,re=C,le=C=0,We=null;re!==null&&le<T.length;le++){re.index>le?(We=re,re=null):We=re.sibling;var ve=I(P,re,T[le],B);if(ve===null){re===null&&(re=We);break}e&&re&&ve.alternate===null&&t(P,re),C=a(ve,C,le),ne===null?K=ve:ne.sibling=ve,ne=ve,re=We}if(le===T.length)return n(P,re),Te&&Sn(P,le),K;if(re===null){for(;le<T.length;le++)re=z(P,T[le],B),re!==null&&(C=a(re,C,le),ne===null?K=re:ne.sibling=re,ne=re);return Te&&Sn(P,le),K}for(re=r(P,re);le<T.length;le++)We=Q(re,P,le,T[le],B),We!==null&&(e&&We.alternate!==null&&re.delete(We.key===null?le:We.key),C=a(We,C,le),ne===null?K=We:ne.sibling=We,ne=We);return e&&re.forEach(function(fn){return t(P,fn)}),Te&&Sn(P,le),K}function Y(P,C,T,B){var K=ee(T);if(typeof K!="function")throw Error(i(150));if(T=K.call(T),T==null)throw Error(i(151));for(var ne=K=null,re=C,le=C=0,We=null,ve=T.next();re!==null&&!ve.done;le++,ve=T.next()){re.index>le?(We=re,re=null):We=re.sibling;var fn=I(P,re,ve.value,B);if(fn===null){re===null&&(re=We);break}e&&re&&fn.alternate===null&&t(P,re),C=a(fn,C,le),ne===null?K=fn:ne.sibling=fn,ne=fn,re=We}if(ve.done)return n(P,re),Te&&Sn(P,le),K;if(re===null){for(;!ve.done;le++,ve=T.next())ve=z(P,ve.value,B),ve!==null&&(C=a(ve,C,le),ne===null?K=ve:ne.sibling=ve,ne=ve);return Te&&Sn(P,le),K}for(re=r(P,re);!ve.done;le++,ve=T.next())ve=Q(re,P,le,ve.value,B),ve!==null&&(e&&ve.alternate!==null&&re.delete(ve.key===null?le:ve.key),C=a(ve,C,le),ne===null?K=ve:ne.sibling=ve,ne=ve);return e&&re.forEach(function(op){return t(P,op)}),Te&&Sn(P,le),K}function Ie(P,C,T,B){if(typeof T=="object"&&T!==null&&T.type===Z&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case G:e:{for(var K=T.key,ne=C;ne!==null;){if(ne.key===K){if(K=T.type,K===Z){if(ne.tag===7){n(P,ne.sibling),C=o(ne,T.props.children),C.return=P,P=C;break e}}else if(ne.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===De&&Ja(K)===ne.type){n(P,ne.sibling),C=o(ne,T.props),C.ref=Lr(P,ne,T),C.return=P,P=C;break e}n(P,ne);break}else t(P,ne);ne=ne.sibling}T.type===Z?(C=_n(T.props.children,P.mode,B,T.key),C.return=P,P=C):(B=nl(T.type,T.key,T.props,null,P.mode,B),B.ref=Lr(P,C,T),B.return=P,P=B)}return f(P);case J:e:{for(ne=T.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===T.containerInfo&&C.stateNode.implementation===T.implementation){n(P,C.sibling),C=o(C,T.children||[]),C.return=P,P=C;break e}else{n(P,C);break}else t(P,C);C=C.sibling}C=rs(T,P.mode,B),C.return=P,P=C}return f(P);case De:return ne=T._init,Ie(P,C,ne(T._payload),B)}if(ur(T))return q(P,C,T,B);if(ee(T))return Y(P,C,T,B);Ao(P,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,C!==null&&C.tag===6?(n(P,C.sibling),C=o(C,T),C.return=P,P=C):(n(P,C),C=ns(T,P.mode,B),C.return=P,P=C),f(P)):n(P,C)}return Ie}var Jn=Za(!0),eu=Za(!1),Do=en(null),Lo=null,Zn=null,fi=null;function pi(){fi=Zn=Lo=null}function hi(e){var t=Do.current;Ne(Do),e._currentValue=t}function mi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){Lo=e,fi=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(fi!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(Lo===null)throw Error(i(308));Zn=e,Lo.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var En=null;function gi(e){En===null?En=[e]:En.push(e)}function tu(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,gi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Gt(e,n)}return o=r.interleaved,o===null?(t.next=t,gi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Gt(e,n)}function Io(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ol(e,n)}}function ru(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=f:a=a.next=f,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var o=e.updateQueue;rn=!1;var a=o.firstBaseUpdate,f=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var x=S,R=x.next;x.next=null,f===null?a=R:f.next=R,f=x;var F=e.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==f&&(S===null?F.firstBaseUpdate=R:S.next=R,F.lastBaseUpdate=x))}if(a!==null){var z=o.baseState;f=0,F=R=x=null,S=a;do{var I=S.lane,Q=S.eventTime;if((r&I)===I){F!==null&&(F=F.next={eventTime:Q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var q=e,Y=S;switch(I=t,Q=n,Y.tag){case 1:if(q=Y.payload,typeof q=="function"){z=q.call(Q,z,I);break e}z=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Y.payload,I=typeof q=="function"?q.call(Q,z,I):q,I==null)break e;z=H({},z,I);break e;case 2:rn=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,I=o.effects,I===null?o.effects=[S]:I.push(S))}else Q={eventTime:Q,lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(R=F=Q,x=z):F=F.next=Q,f|=I;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;I=S,S=I.next,I.next=null,o.lastBaseUpdate=I,o.shared.pending=null}}while(!0);if(F===null&&(x=z),o.baseState=x,o.firstBaseUpdate=R,o.lastBaseUpdate=F,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);kn|=f,e.lanes=f,e.memoizedState=z}}function ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(i(191,o));o.call(r)}}}var Ir={},Lt=en(Ir),jr=en(Ir),Fr=en(Ir);function xn(e){if(e===Ir)throw Error(i(174));return e}function yi(e,t){switch(Ce(Fr,t),Ce(jr,e),Ce(Lt,Ir),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wl(t,e)}Ne(Lt),Ce(Lt,t)}function tr(){Ne(Lt),Ne(jr),Ne(Fr)}function lu(e){xn(Fr.current);var t=xn(Lt.current),n=wl(t,e.type);t!==n&&(Ce(jr,e),Ce(Lt,n))}function wi(e){jr.current===e&&(Ne(Lt),Ne(jr))}var _e=en(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Si=[];function Ei(){for(var e=0;e<Si.length;e++)Si[e]._workInProgressVersionPrimary=null;Si.length=0}var zo=j.ReactCurrentDispatcher,xi=j.ReactCurrentBatchConfig,Cn=0,Re=null,Be=null,Ge=null,Uo=!1,zr=!1,Ur=0,Tf=0;function Ke(){throw Error(i(321))}function Ci(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function ki(e,t,n,r,o,a){if(Cn=a,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zo.current=e===null||e.memoizedState===null?Of:Af,e=n(r,o),zr){a=0;do{if(zr=!1,Ur=0,25<=a)throw Error(i(301));a+=1,Ge=Be=null,t.updateQueue=null,zo.current=Df,e=n(r,o)}while(zr)}if(zo.current=Go,t=Be!==null&&Be.next!==null,Cn=0,Ge=Be=Re=null,Uo=!1,t)throw Error(i(300));return e}function Ni(){var e=Ur!==0;return Ur=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Re.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function vt(){if(Be===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ge===null?Re.memoizedState:Ge.next;if(t!==null)Ge=t,Be=e;else{if(e===null)throw Error(i(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ge===null?Re.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Br(e,t){return typeof t=="function"?t(e):t}function Pi(e){var t=vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=Be,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var f=o.next;o.next=a.next,a.next=f}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var S=f=null,x=null,R=a;do{var F=R.lane;if((Cn&F)===F)x!==null&&(x=x.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),r=R.hasEagerState?R.eagerState:e(r,R.action);else{var z={lane:F,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};x===null?(S=x=z,f=r):x=x.next=z,Re.lanes|=F,kn|=F}R=R.next}while(R!==null&&R!==a);x===null?f=r:x.next=S,Pt(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=f,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Re.lanes|=a,kn|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do a=e(a,f.action),f=f.next;while(f!==o);Pt(a,t.memoizedState)||(rt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function iu(){}function su(e,t){var n=Re,r=vt(),o=t(),a=!Pt(r.memoizedState,o);if(a&&(r.memoizedState=o,rt=!0),r=r.queue,_i(cu.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,$r(9,uu.bind(null,n,r,o,t),void 0,null),Ve===null)throw Error(i(349));Cn&30||au(n,t,o)}return o}function au(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uu(e,t,n,r){t.value=n,t.getSnapshot=r,du(t)&&fu(e)}function cu(e,t,n){return n(function(){du(t)&&fu(e)})}function du(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function fu(e){var t=Gt(e,1);t!==null&&Ot(t,e,1,-1)}function pu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t.queue=e,e=e.dispatch=Mf.bind(null,Re,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hu(){return vt().memoizedState}function Bo(e,t,n,r){var o=It();Re.flags|=e,o.memoizedState=$r(1|t,n,void 0,r===void 0?null:r)}function $o(e,t,n,r){var o=vt();r=r===void 0?null:r;var a=void 0;if(Be!==null){var f=Be.memoizedState;if(a=f.destroy,r!==null&&Ci(r,f.deps)){o.memoizedState=$r(t,n,a,r);return}}Re.flags|=e,o.memoizedState=$r(1|t,n,a,r)}function mu(e,t){return Bo(8390656,8,e,t)}function _i(e,t){return $o(2048,8,e,t)}function gu(e,t){return $o(4,2,e,t)}function vu(e,t){return $o(4,4,e,t)}function yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wu(e,t,n){return n=n!=null?n.concat([e]):null,$o(4,4,yu.bind(null,t,e),n)}function Ri(){}function Su(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ci(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eu(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ci(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xu(e,t,n){return Cn&21?(Pt(n,t)||(n=Js(),Re.lanes|=n,kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function _f(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=xi.transition;xi.transition={};try{e(!1),t()}finally{Ee=n,xi.transition=r}}function Cu(){return vt().memoizedState}function Rf(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ku(e))Nu(t,n);else if(n=tu(e,t,n,r),n!==null){var o=et();Ot(n,e,r,o),Pu(n,t,r)}}function Mf(e,t,n){var r=un(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ku(e))Nu(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var f=t.lastRenderedState,S=a(f,n);if(o.hasEagerState=!0,o.eagerState=S,Pt(S,f)){var x=t.interleaved;x===null?(o.next=o,gi(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=tu(e,t,o,r),n!==null&&(o=et(),Ot(n,e,r,o),Pu(n,t,r))}}function ku(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Nu(e,t){zr=Uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ol(e,n)}}var Go={readContext:gt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Of={readContext:gt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:mu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bo(4194308,4,yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rf.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:pu,useDebugValue:Ri,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=pu(!1),t=e[0];return e=_f.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,o=It();if(Te){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ve===null)throw Error(i(349));Cn&30||au(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,mu(cu.bind(null,r,a,e),[e]),r.flags|=2048,$r(9,uu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=It(),t=Ve.identifierPrefix;if(Te){var n=$t,r=Bt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Af={readContext:gt,useCallback:Su,useContext:gt,useEffect:_i,useImperativeHandle:wu,useInsertionEffect:gu,useLayoutEffect:vu,useMemo:Eu,useReducer:Pi,useRef:hu,useState:function(){return Pi(Br)},useDebugValue:Ri,useDeferredValue:function(e){var t=vt();return xu(t,Be.memoizedState,e)},useTransition:function(){var e=Pi(Br)[0],t=vt().memoizedState;return[e,t]},useMutableSource:iu,useSyncExternalStore:su,useId:Cu,unstable_isNewReconciler:!1},Df={readContext:gt,useCallback:Su,useContext:gt,useEffect:_i,useImperativeHandle:wu,useInsertionEffect:gu,useLayoutEffect:vu,useMemo:Eu,useReducer:Ti,useRef:hu,useState:function(){return Ti(Br)},useDebugValue:Ri,useDeferredValue:function(e){var t=vt();return Be===null?t.memoizedState=e:xu(t,Be.memoizedState,e)},useTransition:function(){var e=Ti(Br)[0],t=vt().memoizedState;return[e,t]},useMutableSource:iu,useSyncExternalStore:su,useId:Cu,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:H({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),o=un(e),a=Vt(r,o);a.payload=t,n!=null&&(a.callback=n),t=on(e,a,o),t!==null&&(Ot(t,e,o,r),Io(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),o=un(e),a=Vt(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=on(e,a,o),t!==null&&(Ot(t,e,o,r),Io(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=un(e),o=Vt(n,r);o.tag=2,t!=null&&(o.callback=t),t=on(e,o,r),t!==null&&(Ot(t,e,r,n),Io(t,e,r))}};function Tu(e,t,n,r,o,a,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,f):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,r)||!Tr(o,a):!0}function _u(e,t,n){var r=!1,o=tn,a=t.contextType;return typeof a=="object"&&a!==null?a=gt(a):(o=nt(t)?yn:Ye.current,r=t.contextTypes,a=(r=r!=null)?qn(e,o):tn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ru(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Oi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},vi(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=gt(a):(a=nt(t)?yn:Ye.current,o.context=qn(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Mi(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vo.enqueueReplaceState(o,o.state,null),jo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",r=t;do n+=te(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Ai(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lf=typeof WeakMap=="function"?WeakMap:Map;function Mu(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ko||(Ko=!0,qi=r),Di(e,t)},n}function Ou(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Di(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Di(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function Au(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lf;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=qf.bind(null,e,t,n),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,on(n,t,1))),n.lanes|=1),e)}var If=j.ReactCurrentOwner,rt=!1;function Ze(e,t,n,r){t.child=e===null?eu(t,null,n,r):Jn(t,e.child,n,r)}function Iu(e,t,n,r,o){n=n.render;var a=t.ref;return er(t,o),r=ki(e,t,n,r,a,o),n=Ni(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wt(e,t,o)):(Te&&n&&si(t),t.flags|=1,Ze(e,t,r,o),t.child)}function ju(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!ts(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Fu(e,t,a,r,o)):(e=nl(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var f=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(f,r)&&e.ref===t.ref)return Wt(e,t,o)}return t.flags|=1,e=dn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Fu(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Tr(a,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,Wt(e,t,o)}return Li(e,t,n,r,o)}function zu(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(or,dt),dt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(or,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ce(or,dt),dt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ce(or,dt),dt|=r;return Ze(e,t,o,n),t.child}function Uu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Li(e,t,n,r,o){var a=nt(n)?yn:Ye.current;return a=qn(t,a),er(t,o),n=ki(e,t,n,r,a,o),r=Ni(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wt(e,t,o)):(Te&&r&&si(t),t.flags|=1,Ze(e,t,n,o),t.child)}function Bu(e,t,n,r,o){if(nt(n)){var a=!0;To(t)}else a=!1;if(er(t,o),t.stateNode===null)Ho(e,t),_u(t,n,r),Oi(t,n,r,o),r=!0;else if(e===null){var f=t.stateNode,S=t.memoizedProps;f.props=S;var x=f.context,R=n.contextType;typeof R=="object"&&R!==null?R=gt(R):(R=nt(n)?yn:Ye.current,R=qn(t,R));var F=n.getDerivedStateFromProps,z=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function";z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S!==r||x!==R)&&Ru(t,f,r,R),rn=!1;var I=t.memoizedState;f.state=I,jo(t,r,f,o),x=t.memoizedState,S!==r||I!==x||tt.current||rn?(typeof F=="function"&&(Mi(t,n,F,r),x=t.memoizedState),(S=rn||Tu(t,n,S,r,I,x,R))?(z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),f.props=r,f.state=x,f.context=R,r=S):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,nu(e,t),S=t.memoizedProps,R=t.type===t.elementType?S:_t(t.type,S),f.props=R,z=t.pendingProps,I=f.context,x=n.contextType,typeof x=="object"&&x!==null?x=gt(x):(x=nt(n)?yn:Ye.current,x=qn(t,x));var Q=n.getDerivedStateFromProps;(F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S!==z||I!==x)&&Ru(t,f,r,x),rn=!1,I=t.memoizedState,f.state=I,jo(t,r,f,o);var q=t.memoizedState;S!==z||I!==q||tt.current||rn?(typeof Q=="function"&&(Mi(t,n,Q,r),q=t.memoizedState),(R=rn||Tu(t,n,R,r,I,q,x)||!1)?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,q,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=q),f.props=r,f.state=q,f.context=x,r=R):(typeof f.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return Ii(e,t,n,r,a,o)}function Ii(e,t,n,r,o,a){Uu(e,t);var f=(t.flags&128)!==0;if(!r&&!f)return o&&Ha(t,n,!1),Wt(e,t,a);r=t.stateNode,If.current=t;var S=f&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&f?(t.child=Jn(t,e.child,null,a),t.child=Jn(t,null,S,a)):Ze(e,t,S,a),t.memoizedState=r.state,o&&Ha(t,n,!0),t.child}function $u(e){var t=e.stateNode;t.pendingContext?Va(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Va(e,t.context,!1),yi(e,t.containerInfo)}function Gu(e,t,n,r,o){return Xn(),di(o),t.flags|=256,Ze(e,t,n,r),t.child}var ji={dehydrated:null,treeContext:null,retryLane:0};function Fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r=t.pendingProps,o=_e.current,a=!1,f=(t.flags&128)!==0,S;if((S=f)||(S=e!==null&&e.memoizedState===null?!1:(o&2)!==0),S?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ce(_e,o&1),e===null)return ci(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=r.children,e=r.fallback,a?(r=t.mode,a=t.child,f={mode:"hidden",children:f},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=f):a=rl(f,r,0,null),e=_n(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fi(n),t.memoizedState=ji,e):zi(t,f));if(o=e.memoizedState,o!==null&&(S=o.dehydrated,S!==null))return jf(e,t,f,r,S,o,n);if(a){a=r.fallback,f=t.mode,o=e.child,S=o.sibling;var x={mode:"hidden",children:r.children};return!(f&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=dn(o,x),r.subtreeFlags=o.subtreeFlags&14680064),S!==null?a=dn(S,a):(a=_n(a,f,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,f=e.child.memoizedState,f=f===null?Fi(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},a.memoizedState=f,a.childLanes=e.childLanes&~n,t.memoizedState=ji,r}return a=e.child,e=a.sibling,r=dn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zi(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wo(e,t,n,r){return r!==null&&di(r),Jn(t,e.child,null,n),e=zi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jf(e,t,n,r,o,a,f){if(n)return t.flags&256?(t.flags&=-257,r=Ai(Error(i(422))),Wo(e,t,f,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=rl({mode:"visible",children:r.children},o,0,null),a=_n(a,o,f,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Jn(t,e.child,null,f),t.child.memoizedState=Fi(f),t.memoizedState=ji,a);if(!(t.mode&1))return Wo(e,t,f,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var S=r.dgst;return r=S,a=Error(i(419)),r=Ai(a,r,void 0),Wo(e,t,f,r)}if(S=(f&e.childLanes)!==0,rt||S){if(r=Ve,r!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|f)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Gt(e,o),Ot(r,e,o,-1))}return es(),r=Ai(Error(i(421))),Wo(e,t,f,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Yf.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ct=Zt(o.nextSibling),ut=t,Te=!0,Tt=null,e!==null&&(ht[mt++]=Bt,ht[mt++]=$t,ht[mt++]=wn,Bt=e.id,$t=e.overflow,wn=t),t=zi(t,r.children),t.flags|=4096,t)}function Wu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mi(e.return,t,n)}function Ui(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Hu(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ze(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,n,t);else if(e.tag===19)Wu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(_e,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Fo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ui(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Fo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ui(t,!0,n,null,a);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ff(e,t,n){switch(t.tag){case 3:$u(t),Xn();break;case 5:lu(t);break;case 1:nt(t.type)&&To(t);break;case 4:yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ce(Do,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Vu(e,t,n):(Ce(_e,_e.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);Ce(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hu(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ce(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,zu(e,t,n)}return Wt(e,t,n)}var Qu,Bi,bu,qu;Qu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bi=function(){},bu=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,xn(Lt.current);var a=null;switch(n){case"input":o=ml(e,o),r=ml(e,r),a=[];break;case"select":o=H({},o,{value:void 0}),r=H({},r,{value:void 0}),a=[];break;case"textarea":o=yl(e,o),r=yl(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ko)}Sl(n,r);var f;n=null;for(R in o)if(!r.hasOwnProperty(R)&&o.hasOwnProperty(R)&&o[R]!=null)if(R==="style"){var S=o[R];for(f in S)S.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(u.hasOwnProperty(R)?a||(a=[]):(a=a||[]).push(R,null));for(R in r){var x=r[R];if(S=o!=null?o[R]:void 0,r.hasOwnProperty(R)&&x!==S&&(x!=null||S!=null))if(R==="style")if(S){for(f in S)!S.hasOwnProperty(f)||x&&x.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in x)x.hasOwnProperty(f)&&S[f]!==x[f]&&(n||(n={}),n[f]=x[f])}else n||(a||(a=[]),a.push(R,n)),n=x;else R==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(a=a||[]).push(R,x)):R==="children"?typeof x!="string"&&typeof x!="number"||(a=a||[]).push(R,""+x):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(u.hasOwnProperty(R)?(x!=null&&R==="onScroll"&&ke("scroll",e),a||S===x||(a=[])):(a=a||[]).push(R,x))}n&&(a=a||[]).push("style",n);var R=a;(t.updateQueue=R)&&(t.flags|=4)}},qu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gr(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zf(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return nt(t.type)&&Po(),Xe(t),null;case 3:return r=t.stateNode,tr(),Ne(tt),Ne(Ye),Ei(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Xi(Tt),Tt=null))),Bi(e,t),Xe(t),null;case 5:wi(t);var o=xn(Fr.current);if(n=t.type,e!==null&&t.stateNode!=null)bu(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Xe(t),null}if(e=xn(Lt.current),Oo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Dt]=t,r[Ar]=a,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)ke(Rr[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":_s(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":Os(r,a),ke("invalid",r)}Sl(n,a),o=null;for(var f in a)if(a.hasOwnProperty(f)){var S=a[f];f==="children"?typeof S=="string"?r.textContent!==S&&(a.suppressHydrationWarning!==!0&&Co(r.textContent,S,e),o=["children",S]):typeof S=="number"&&r.textContent!==""+S&&(a.suppressHydrationWarning!==!0&&Co(r.textContent,S,e),o=["children",""+S]):u.hasOwnProperty(f)&&S!=null&&f==="onScroll"&&ke("scroll",r)}switch(n){case"input":pt(r),Ms(r,a,!0);break;case"textarea":pt(r),Ds(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ko)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ls(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=f.createElement(n,{is:r.is}):(e=f.createElement(n),n==="select"&&(f=e,r.multiple?f.multiple=!0:r.size&&(f.size=r.size))):e=f.createElementNS(e,n),e[Dt]=t,e[Ar]=r,Qu(e,t,!1,!1),t.stateNode=e;e:{switch(f=El(n,r),n){case"dialog":ke("cancel",e),ke("close",e),o=r;break;case"iframe":case"object":case"embed":ke("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)ke(Rr[o],e);o=r;break;case"source":ke("error",e),o=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),o=r;break;case"details":ke("toggle",e),o=r;break;case"input":_s(e,r),o=ml(e,r),ke("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=H({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Os(e,r),o=yl(e,r),ke("invalid",e);break;default:o=r}Sl(n,o),S=o;for(a in S)if(S.hasOwnProperty(a)){var x=S[a];a==="style"?Fs(e,x):a==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Is(e,x)):a==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&cr(e,x):typeof x=="number"&&cr(e,""+x):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(u.hasOwnProperty(a)?x!=null&&a==="onScroll"&&ke("scroll",e):x!=null&&D(e,a,x,f))}switch(n){case"input":pt(e),Ms(e,r,!1);break;case"textarea":pt(e),Ds(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ie(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?jn(e,!!r.multiple,a,!1):r.defaultValue!=null&&jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)qu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(n=xn(Fr.current),xn(Lt.current),Oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dt]=t,(a=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Co(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Co(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=t,t.stateNode=r}return Xe(t),null;case 13:if(Ne(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&ct!==null&&t.mode&1&&!(t.flags&128))Xa(),Xn(),t.flags|=98560,a=!1;else if(a=Oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));a[Dt]=t}else Xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),a=!1}else Tt!==null&&(Xi(Tt),Tt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?$e===0&&($e=3):es())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return tr(),Bi(e,t),e===null&&Mr(t.stateNode.containerInfo),Xe(t),null;case 10:return hi(t.type._context),Xe(t),null;case 17:return nt(t.type)&&Po(),Xe(t),null;case 19:if(Ne(_e),a=t.memoizedState,a===null)return Xe(t),null;if(r=(t.flags&128)!==0,f=a.rendering,f===null)if(r)Gr(a,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=Fo(e),f!==null){for(t.flags|=128,Gr(a,!1),r=f.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,f=a.alternate,f===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,e=f.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(_e,_e.current&1|2),t.child}e=e.sibling}a.tail!==null&&Le()>lr&&(t.flags|=128,r=!0,Gr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Fo(f),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!Te)return Xe(t),null}else 2*Le()-a.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,r=!0,Gr(a,!1),t.lanes=4194304);a.isBackwards?(f.sibling=t.child,t.child=f):(n=a.last,n!==null?n.sibling=f:t.child=f,a.last=f)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Le(),t.sibling=null,n=_e.current,Ce(_e,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Zi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Uf(e,t){switch(ai(t),t.tag){case 1:return nt(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),Ne(tt),Ne(Ye),Ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wi(t),null;case 13:if(Ne(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(_e),null;case 4:return tr(),null;case 10:return hi(t.type._context),null;case 22:case 23:return Zi(),null;case 24:return null;default:return null}}var Qo=!1,Je=!1,Bf=typeof WeakSet=="function"?WeakSet:Set,b=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function $i(e,t,n){try{n()}catch(r){Me(e,t,r)}}var Yu=!1;function $f(e,t){if(Zl=fo,e=Ta(),Hl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var f=0,S=-1,x=-1,R=0,F=0,z=e,I=null;t:for(;;){for(var Q;z!==n||o!==0&&z.nodeType!==3||(S=f+o),z!==a||r!==0&&z.nodeType!==3||(x=f+r),z.nodeType===3&&(f+=z.nodeValue.length),(Q=z.firstChild)!==null;)I=z,z=Q;for(;;){if(z===e)break t;if(I===n&&++R===o&&(S=f),I===a&&++F===r&&(x=f),(Q=z.nextSibling)!==null)break;z=I,I=z.parentNode}z=Q}n=S===-1||x===-1?null:{start:S,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},fo=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var q=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var Y=q.memoizedProps,Ie=q.memoizedState,P=t.stateNode,C=P.getSnapshotBeforeUpdate(t.elementType===t.type?Y:_t(t.type,Y),Ie);P.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(B){Me(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return q=Yu,Yu=!1,q}function Vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&$i(t,n,a)}o=o.next}while(o!==r)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ku(e){var t=e.alternate;t!==null&&(e.alternate=null,Ku(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[Ar],delete t[oi],delete t[Cf],delete t[kf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xu(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ko));else if(r!==4&&(e=e.child,e!==null))for(Vi(e,t,n),e=e.sibling;e!==null;)Vi(e,t,n),e=e.sibling}function Wi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wi(e,t,n),e=e.sibling;e!==null;)Wi(e,t,n),e=e.sibling}var Qe=null,Rt=!1;function ln(e,t,n){for(n=n.child;n!==null;)Zu(e,t,n),n=n.sibling}function Zu(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(lo,n)}catch{}switch(n.tag){case 5:Je||rr(n,t);case 6:var r=Qe,o=Rt;Qe=null,ln(e,t,n),Qe=r,Rt=o,Qe!==null&&(Rt?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Rt?(e=Qe,n=n.stateNode,e.nodeType===8?ri(e.parentNode,n):e.nodeType===1&&ri(e,n),Er(e)):ri(Qe,n.stateNode));break;case 4:r=Qe,o=Rt,Qe=n.stateNode.containerInfo,Rt=!0,ln(e,t,n),Qe=r,Rt=o;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,f=a.destroy;a=a.tag,f!==void 0&&(a&2||a&4)&&$i(n,t,f),o=o.next}while(o!==r)}ln(e,t,n);break;case 1:if(!Je&&(rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(S){Me(n,t,S)}ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,ln(e,t,n),Je=r):ln(e,t,n);break;default:ln(e,t,n)}}function ec(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bf),t.forEach(function(r){var o=Kf.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,f=t,S=f;e:for(;S!==null;){switch(S.tag){case 5:Qe=S.stateNode,Rt=!1;break e;case 3:Qe=S.stateNode.containerInfo,Rt=!0;break e;case 4:Qe=S.stateNode.containerInfo,Rt=!0;break e}S=S.return}if(Qe===null)throw Error(i(160));Zu(a,f,o),Qe=null,Rt=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(R){Me(o,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tc(t,e),t=t.sibling}function tc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),jt(e),r&4){try{Vr(3,e,e.return),bo(3,e)}catch(Y){Me(e,e.return,Y)}try{Vr(5,e,e.return)}catch(Y){Me(e,e.return,Y)}}break;case 1:Mt(t,e),jt(e),r&512&&n!==null&&rr(n,n.return);break;case 5:if(Mt(t,e),jt(e),r&512&&n!==null&&rr(n,n.return),e.flags&32){var o=e.stateNode;try{cr(o,"")}catch(Y){Me(e,e.return,Y)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,f=n!==null?n.memoizedProps:a,S=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{S==="input"&&a.type==="radio"&&a.name!=null&&Rs(o,a),El(S,f);var R=El(S,a);for(f=0;f<x.length;f+=2){var F=x[f],z=x[f+1];F==="style"?Fs(o,z):F==="dangerouslySetInnerHTML"?Is(o,z):F==="children"?cr(o,z):D(o,F,z,R)}switch(S){case"input":gl(o,a);break;case"textarea":As(o,a);break;case"select":var I=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var Q=a.value;Q!=null?jn(o,!!a.multiple,Q,!1):I!==!!a.multiple&&(a.defaultValue!=null?jn(o,!!a.multiple,a.defaultValue,!0):jn(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ar]=a}catch(Y){Me(e,e.return,Y)}}break;case 6:if(Mt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(Y){Me(e,e.return,Y)}}break;case 3:if(Mt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(Y){Me(e,e.return,Y)}break;case 4:Mt(t,e),jt(e);break;case 13:Mt(t,e),jt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(bi=Le())),r&4&&ec(e);break;case 22:if(F=n!==null&&n.memoizedState!==null,e.mode&1?(Je=(R=Je)||F,Mt(t,e),Je=R):Mt(t,e),jt(e),r&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!F&&e.mode&1)for(b=e,F=e.child;F!==null;){for(z=b=F;b!==null;){switch(I=b,Q=I.child,I.tag){case 0:case 11:case 14:case 15:Vr(4,I,I.return);break;case 1:rr(I,I.return);var q=I.stateNode;if(typeof q.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(Y){Me(r,n,Y)}}break;case 5:rr(I,I.return);break;case 22:if(I.memoizedState!==null){oc(z);continue}}Q!==null?(Q.return=I,b=Q):oc(z)}F=F.sibling}e:for(F=null,z=e;;){if(z.tag===5){if(F===null){F=z;try{o=z.stateNode,R?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(S=z.stateNode,x=z.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=js("display",f))}catch(Y){Me(e,e.return,Y)}}}else if(z.tag===6){if(F===null)try{z.stateNode.nodeValue=R?"":z.memoizedProps}catch(Y){Me(e,e.return,Y)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;F===z&&(F=null),z=z.return}F===z&&(F=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Mt(t,e),jt(e),r&4&&ec(e);break;case 21:break;default:Mt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xu(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(cr(o,""),r.flags&=-33);var a=Ju(e);Wi(e,a,o);break;case 3:case 4:var f=r.stateNode.containerInfo,S=Ju(e);Vi(e,S,f);break;default:throw Error(i(161))}}catch(x){Me(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gf(e,t,n){b=e,nc(e)}function nc(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var o=b,a=o.child;if(o.tag===22&&r){var f=o.memoizedState!==null||Qo;if(!f){var S=o.alternate,x=S!==null&&S.memoizedState!==null||Je;S=Qo;var R=Je;if(Qo=f,(Je=x)&&!R)for(b=o;b!==null;)f=b,x=f.child,f.tag===22&&f.memoizedState!==null?lc(o):x!==null?(x.return=f,b=x):lc(o);for(;a!==null;)b=a,nc(a),a=a.sibling;b=o,Qo=S,Je=R}rc(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,b=a):rc(e)}}function rc(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Je||bo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Je)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ou(t,a,r);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ou(t,f,n)}break;case 5:var S=t.stateNode;if(n===null&&t.flags&4){n=S;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var F=R.memoizedState;if(F!==null){var z=F.dehydrated;z!==null&&Er(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Je||t.flags&512&&Gi(t)}catch(I){Me(t,t.return,I)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function oc(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function lc(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bo(4,t)}catch(x){Me(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(x){Me(t,o,x)}}var a=t.return;try{Gi(t)}catch(x){Me(t,a,x)}break;case 5:var f=t.return;try{Gi(t)}catch(x){Me(t,f,x)}}}catch(x){Me(t,t.return,x)}if(t===e){b=null;break}var S=t.sibling;if(S!==null){S.return=t.return,b=S;break}b=t.return}}var Vf=Math.ceil,qo=j.ReactCurrentDispatcher,Hi=j.ReactCurrentOwner,yt=j.ReactCurrentBatchConfig,ge=0,Ve=null,Fe=null,be=0,dt=0,or=en(0),$e=0,Wr=null,kn=0,Yo=0,Qi=0,Hr=null,ot=null,bi=0,lr=1/0,Ht=null,Ko=!1,qi=null,sn=null,Xo=!1,an=null,Jo=0,Qr=0,Yi=null,Zo=-1,el=0;function et(){return ge&6?Le():Zo!==-1?Zo:Zo=Le()}function un(e){return e.mode&1?ge&2&&be!==0?be&-be:Pf.transition!==null?(el===0&&(el=Js()),el):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:sa(e.type)),e):1}function Ot(e,t,n,r){if(50<Qr)throw Qr=0,Yi=null,Error(i(185));gr(e,n,r),(!(ge&2)||e!==Ve)&&(e===Ve&&(!(ge&2)&&(Yo|=n),$e===4&&cn(e,be)),lt(e,r),n===1&&ge===0&&!(t.mode&1)&&(lr=Le()+500,_o&&nn()))}function lt(e,t){var n=e.callbackNode;Nd(e,t);var r=ao(e,e===Ve?be:0);if(r===0)n!==null&&Ys(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ys(n),t===1)e.tag===0?Nf(sc.bind(null,e)):Qa(sc.bind(null,e)),Ef(function(){!(ge&6)&&nn()}),n=null;else{switch(Zs(r)){case 1:n=_l;break;case 4:n=Ks;break;case 16:n=oo;break;case 536870912:n=Xs;break;default:n=oo}n=mc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zo=-1,el=0,ge&6)throw Error(i(327));var n=e.callbackNode;if(ir()&&e.callbackNode!==n)return null;var r=ao(e,e===Ve?be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tl(e,r);else{t=r;var o=ge;ge|=2;var a=uc();(Ve!==e||be!==t)&&(Ht=null,lr=Le()+500,Pn(e,t));do try{Qf();break}catch(S){ac(e,S)}while(!0);pi(),qo.current=a,ge=o,Fe!==null?t=0:(Ve=null,be=0,t=$e)}if(t!==0){if(t===2&&(o=Rl(e),o!==0&&(r=o,t=Ki(e,o))),t===1)throw n=Wr,Pn(e,0),cn(e,r),lt(e,Le()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Wf(o)&&(t=tl(e,r),t===2&&(a=Rl(e),a!==0&&(r=a,t=Ki(e,a))),t===1))throw n=Wr,Pn(e,0),cn(e,r),lt(e,Le()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:Tn(e,ot,Ht);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=bi+500-Le(),10<t)){if(ao(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ni(Tn.bind(null,e,ot,Ht),t);break}Tn(e,ot,Ht);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var f=31-Nt(r);a=1<<f,f=t[f],f>o&&(o=f),r&=~a}if(r=o,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vf(r/1960))-r,10<r){e.timeoutHandle=ni(Tn.bind(null,e,ot,Ht),r);break}Tn(e,ot,Ht);break;case 5:Tn(e,ot,Ht);break;default:throw Error(i(329))}}}return lt(e,Le()),e.callbackNode===n?ic.bind(null,e):null}function Ki(e,t){var n=Hr;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=tl(e,t),e!==2&&(t=ot,ot=n,t!==null&&Xi(t)),e}function Xi(e){ot===null?ot=e:ot.push.apply(ot,e)}function Wf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Pt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Qi,t&=~Yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(ge&6)throw Error(i(327));ir();var t=ao(e,0);if(!(t&1))return lt(e,Le()),null;var n=tl(e,t);if(e.tag!==0&&n===2){var r=Rl(e);r!==0&&(t=r,n=Ki(e,r))}if(n===1)throw n=Wr,Pn(e,0),cn(e,t),lt(e,Le()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tn(e,ot,Ht),lt(e,Le()),null}function Ji(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(lr=Le()+500,_o&&nn())}}function Nn(e){an!==null&&an.tag===0&&!(ge&6)&&ir();var t=ge;ge|=1;var n=yt.transition,r=Ee;try{if(yt.transition=null,Ee=1,e)return e()}finally{Ee=r,yt.transition=n,ge=t,!(ge&6)&&nn()}}function Zi(){dt=or.current,Ne(or)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sf(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(ai(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:tr(),Ne(tt),Ne(Ye),Ei();break;case 5:wi(r);break;case 4:tr();break;case 13:Ne(_e);break;case 19:Ne(_e);break;case 10:hi(r.type._context);break;case 22:case 23:Zi()}n=n.return}if(Ve=e,Fe=e=dn(e.current,null),be=dt=t,$e=0,Wr=null,Qi=Yo=kn=0,ot=Hr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var f=a.next;a.next=o,r.next=f}n.pending=r}En=null}return e}function ac(e,t){do{var n=Fe;try{if(pi(),zo.current=Go,Uo){for(var r=Re.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Uo=!1}if(Cn=0,Ge=Be=Re=null,zr=!1,Ur=0,Hi.current=null,n===null||n.return===null){$e=1,Wr=t,Fe=null;break}e:{var a=e,f=n.return,S=n,x=t;if(t=be,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var R=x,F=S,z=F.tag;if(!(F.mode&1)&&(z===0||z===11||z===15)){var I=F.alternate;I?(F.updateQueue=I.updateQueue,F.memoizedState=I.memoizedState,F.lanes=I.lanes):(F.updateQueue=null,F.memoizedState=null)}var Q=Du(f);if(Q!==null){Q.flags&=-257,Lu(Q,f,S,a,t),Q.mode&1&&Au(a,R,t),t=Q,x=R;var q=t.updateQueue;if(q===null){var Y=new Set;Y.add(x),t.updateQueue=Y}else q.add(x);break e}else{if(!(t&1)){Au(a,R,t),es();break e}x=Error(i(426))}}else if(Te&&S.mode&1){var Ie=Du(f);if(Ie!==null){!(Ie.flags&65536)&&(Ie.flags|=256),Lu(Ie,f,S,a,t),di(nr(x,S));break e}}a=x=nr(x,S),$e!==4&&($e=2),Hr===null?Hr=[a]:Hr.push(a),a=f;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var P=Mu(a,x,t);ru(a,P);break e;case 1:S=x;var C=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(sn===null||!sn.has(T)))){a.flags|=65536,t&=-t,a.lanes|=t;var B=Ou(a,S,t);ru(a,B);break e}}a=a.return}while(a!==null)}dc(n)}catch(K){t=K,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function uc(){var e=qo.current;return qo.current=Go,e===null?Go:e}function es(){($e===0||$e===3||$e===2)&&($e=4),Ve===null||!(kn&268435455)&&!(Yo&268435455)||cn(Ve,be)}function tl(e,t){var n=ge;ge|=2;var r=uc();(Ve!==e||be!==t)&&(Ht=null,Pn(e,t));do try{Hf();break}catch(o){ac(e,o)}while(!0);if(pi(),ge=n,qo.current=r,Fe!==null)throw Error(i(261));return Ve=null,be=0,$e}function Hf(){for(;Fe!==null;)cc(Fe)}function Qf(){for(;Fe!==null&&!gd();)cc(Fe)}function cc(e){var t=hc(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?dc(e):Fe=t,Hi.current=null}function dc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uf(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Fe=null;return}}else if(n=zf(n,t,dt),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);$e===0&&($e=5)}function Tn(e,t,n){var r=Ee,o=yt.transition;try{yt.transition=null,Ee=1,bf(e,t,n,r)}finally{yt.transition=o,Ee=r}return null}function bf(e,t,n,r){do ir();while(an!==null);if(ge&6)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Pd(e,a),e===Ve&&(Fe=Ve=null,be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xo||(Xo=!0,mc(oo,function(){return ir(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var f=Ee;Ee=1;var S=ge;ge|=4,Hi.current=null,$f(e,n),tc(n,e),pf(ei),fo=!!Zl,ei=Zl=null,e.current=n,Gf(n),vd(),ge=S,Ee=f,yt.transition=a}else e.current=n;if(Xo&&(Xo=!1,an=e,Jo=o),a=e.pendingLanes,a===0&&(sn=null),Sd(n.stateNode),lt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ko)throw Ko=!1,e=qi,qi=null,e;return Jo&1&&e.tag!==0&&ir(),a=e.pendingLanes,a&1?e===Yi?Qr++:(Qr=0,Yi=e):Qr=0,nn(),null}function ir(){if(an!==null){var e=Zs(Jo),t=yt.transition,n=Ee;try{if(yt.transition=null,Ee=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,Jo=0,ge&6)throw Error(i(331));var o=ge;for(ge|=4,b=e.current;b!==null;){var a=b,f=a.child;if(b.flags&16){var S=a.deletions;if(S!==null){for(var x=0;x<S.length;x++){var R=S[x];for(b=R;b!==null;){var F=b;switch(F.tag){case 0:case 11:case 15:Vr(8,F,a)}var z=F.child;if(z!==null)z.return=F,b=z;else for(;b!==null;){F=b;var I=F.sibling,Q=F.return;if(Ku(F),F===R){b=null;break}if(I!==null){I.return=Q,b=I;break}b=Q}}}var q=a.alternate;if(q!==null){var Y=q.child;if(Y!==null){q.child=null;do{var Ie=Y.sibling;Y.sibling=null,Y=Ie}while(Y!==null)}}b=a}}if(a.subtreeFlags&2064&&f!==null)f.return=a,b=f;else e:for(;b!==null;){if(a=b,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vr(9,a,a.return)}var P=a.sibling;if(P!==null){P.return=a.return,b=P;break e}b=a.return}}var C=e.current;for(b=C;b!==null;){f=b;var T=f.child;if(f.subtreeFlags&2064&&T!==null)T.return=f,b=T;else e:for(f=C;b!==null;){if(S=b,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:bo(9,S)}}catch(K){Me(S,S.return,K)}if(S===f){b=null;break e}var B=S.sibling;if(B!==null){B.return=S.return,b=B;break e}b=S.return}}if(ge=o,nn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(lo,e)}catch{}r=!0}return r}finally{Ee=n,yt.transition=t}}return!1}function fc(e,t,n){t=nr(n,t),t=Mu(e,t,1),e=on(e,t,1),t=et(),e!==null&&(gr(e,1,t),lt(e,t))}function Me(e,t,n){if(e.tag===3)fc(e,e,n);else for(;t!==null;){if(t.tag===3){fc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=nr(n,e),e=Ou(t,e,1),t=on(t,e,1),e=et(),t!==null&&(gr(t,1,e),lt(t,e));break}}t=t.return}}function qf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(be&n)===n&&($e===4||$e===3&&(be&130023424)===be&&500>Le()-bi?Pn(e,0):Qi|=n),lt(e,t)}function pc(e,t){t===0&&(e.mode&1?(t=so,so<<=1,!(so&130023424)&&(so=4194304)):t=1);var n=et();e=Gt(e,t),e!==null&&(gr(e,t,n),lt(e,n))}function Yf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pc(e,n)}function Kf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}r!==null&&r.delete(t),pc(e,n)}var hc;hc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,Ff(e,t,n);rt=!!(e.flags&131072)}else rt=!1,Te&&t.flags&1048576&&ba(t,Mo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var o=qn(t,Ye.current);er(t,n),o=ki(null,t,r,e,o,n);var a=Ni();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(a=!0,To(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,vi(t),o.updater=Vo,t.stateNode=o,o._reactInternals=t,Oi(t,r,e,n),t=Ii(null,t,r,!0,a,n)):(t.tag=0,Te&&a&&si(t),Ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Jf(r),e=_t(r,e),o){case 0:t=Li(null,t,r,e,n);break e;case 1:t=Bu(null,t,r,e,n);break e;case 11:t=Iu(null,t,r,e,n);break e;case 14:t=ju(null,t,r,_t(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Li(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Bu(e,t,r,o,n);case 3:e:{if($u(t),e===null)throw Error(i(387));r=t.pendingProps,a=t.memoizedState,o=a.element,nu(e,t),jo(t,r,null,n);var f=t.memoizedState;if(r=f.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=nr(Error(i(423)),t),t=Gu(e,t,r,n,o);break e}else if(r!==o){o=nr(Error(i(424)),t),t=Gu(e,t,r,n,o);break e}else for(ct=Zt(t.stateNode.containerInfo.firstChild),ut=t,Te=!0,Tt=null,n=eu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===o){t=Wt(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return lu(t),e===null&&ci(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,f=o.children,ti(r,o)?f=null:a!==null&&ti(r,a)&&(t.flags|=32),Uu(e,t),Ze(e,t,f,n),t.child;case 6:return e===null&&ci(t),null;case 13:return Vu(e,t,n);case 4:return yi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jn(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Iu(e,t,r,o,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,f=o.value,Ce(Do,r._currentValue),r._currentValue=f,a!==null)if(Pt(a.value,f)){if(a.children===o.children&&!tt.current){t=Wt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var S=a.dependencies;if(S!==null){f=a.child;for(var x=S.firstContext;x!==null;){if(x.context===r){if(a.tag===1){x=Vt(-1,n&-n),x.tag=2;var R=a.updateQueue;if(R!==null){R=R.shared;var F=R.pending;F===null?x.next=x:(x.next=F.next,F.next=x),R.pending=x}}a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),mi(a.return,n,t),S.lanes|=n;break}x=x.next}}else if(a.tag===10)f=a.type===t.type?null:a.child;else if(a.tag===18){if(f=a.return,f===null)throw Error(i(341));f.lanes|=n,S=f.alternate,S!==null&&(S.lanes|=n),mi(f,n,t),f=a.sibling}else f=a.child;if(f!==null)f.return=a;else for(f=a;f!==null;){if(f===t){f=null;break}if(a=f.sibling,a!==null){a.return=f.return,f=a;break}f=f.return}a=f}Ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,er(t,n),o=gt(o),r=r(o),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,o=_t(r,t.pendingProps),o=_t(r.type,o),ju(e,t,r,o,n);case 15:return Fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Ho(e,t),t.tag=1,nt(r)?(e=!0,To(t)):e=!1,er(t,n),_u(t,r,o),Oi(t,r,o,n),Ii(null,t,r,!0,e,n);case 19:return Hu(e,t,n);case 22:return zu(e,t,n)}throw Error(i(156,t.tag))};function mc(e,t){return qs(e,t)}function Xf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new Xf(e,t,n,r)}function ts(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jf(e){if(typeof e=="function")return ts(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xe)return 11;if(e===Se)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nl(e,t,n,r,o,a){var f=2;if(r=e,typeof e=="function")ts(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Z:return _n(n.children,o,a,t);case V:f=8,o|=8;break;case oe:return e=wt(12,n,t,o|2),e.elementType=oe,e.lanes=a,e;case me:return e=wt(13,n,t,o),e.elementType=me,e.lanes=a,e;case ye:return e=wt(19,n,t,o),e.elementType=ye,e.lanes=a,e;case we:return rl(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:f=10;break e;case he:f=9;break e;case xe:f=11;break e;case Se:f=14;break e;case De:f=16,r=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=wt(f,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function _n(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function rl(e,t,n,r){return e=wt(22,e,r,t),e.elementType=we,e.lanes=n,e.stateNode={isHidden:!1},e}function ns(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function rs(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function os(e,t,n,r,o,a,f,S,x){return e=new Zf(e,t,n,S,x),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vi(a),e}function ep(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gc(e){if(!e)return tn;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(nt(n))return Wa(e,n,t)}return t}function vc(e,t,n,r,o,a,f,S,x){return e=os(n,r,!0,e,o,a,f,S,x),e.context=gc(null),n=e.current,r=et(),o=un(n),a=Vt(r,o),a.callback=t??null,on(n,a,o),e.current.lanes=o,gr(e,o,r),lt(e,r),e}function ol(e,t,n,r){var o=t.current,a=et(),f=un(o);return n=gc(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(a,f),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=on(o,t,f),e!==null&&(Ot(e,o,f,a),Io(e,o,f)),f}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ls(e,t){yc(e,t),(e=e.alternate)&&yc(e,t)}var wc=typeof reportError=="function"?reportError:function(e){console.error(e)};function is(e){this._internalRoot=e}il.prototype.render=is.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));ol(e,t,null,null)},il.prototype.unmount=is.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){ol(null,e,null,null)}),t[zt]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=na();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&la(e)}};function ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sc(){}function tp(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var R=ll(f);a.call(R)}}var f=vc(t,r,e,0,null,!1,!1,"",Sc);return e._reactRootContainer=f,e[zt]=f.current,Mr(e.nodeType===8?e.parentNode:e),Nn(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var S=r;r=function(){var R=ll(x);S.call(R)}}var x=os(e,0,!1,null,null,!1,!1,"",Sc);return e._reactRootContainer=x,e[zt]=x.current,Mr(e.nodeType===8?e.parentNode:e),Nn(function(){ol(t,x,n,r)}),x}function al(e,t,n,r,o){var a=n._reactRootContainer;if(a){var f=a;if(typeof o=="function"){var S=o;o=function(){var x=ll(f);S.call(x)}}ol(t,f,e,o)}else f=tp(n,t,e,o,r);return ll(f)}ea=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mr(t.pendingLanes);n!==0&&(Ol(t,n|1),lt(t,Le()),!(ge&6)&&(lr=Le()+500,nn()))}break;case 13:Nn(function(){var r=Gt(e,1);if(r!==null){var o=et();Ot(r,e,1,o)}}),ls(e,1)}},Al=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=et();Ot(t,e,134217728,n)}ls(e,134217728)}},ta=function(e){if(e.tag===13){var t=un(e),n=Gt(e,t);if(n!==null){var r=et();Ot(n,e,t,r)}ls(e,t)}},na=function(){return Ee},ra=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}},kl=function(e,t,n){switch(t){case"input":if(gl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=No(r);if(!o)throw Error(i(90));ar(r),gl(r,o)}}}break;case"textarea":As(e,n);break;case"select":t=n.value,t!=null&&jn(e,!!n.multiple,t,!1)}},$s=Ji,Gs=Nn;var np={usingClientEntryPoint:!1,Events:[Dr,Qn,No,Us,Bs,Ji]},br={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qs(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{lo=ul.inject(rp),At=ul}catch{}}return it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np,it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ss(t))throw Error(i(200));return ep(e,t,null,n)},it.createRoot=function(e,t){if(!ss(e))throw Error(i(299));var n=!1,r="",o=wc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=os(e,1,!1,null,null,n,!1,r,o),e[zt]=t.current,Mr(e.nodeType===8?e.parentNode:e),new is(t)},it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Qs(t),e=e===null?null:e.stateNode,e},it.flushSync=function(e){return Nn(e)},it.hydrate=function(e,t,n){if(!sl(t))throw Error(i(200));return al(null,e,t,!0,n)},it.hydrateRoot=function(e,t,n){if(!ss(e))throw Error(i(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",f=wc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=vc(t,null,e,1,n??null,o,!1,a,f),e[zt]=t.current,Mr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new il(t)},it.render=function(e,t,n){if(!sl(t))throw Error(i(200));return al(null,e,t,!1,n)},it.unmountComponentAtNode=function(e){if(!sl(e))throw Error(i(40));return e._reactRootContainer?(Nn(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1},it.unstable_batchedUpdates=Ji,it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sl(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return al(e,t,n,!1,r)},it.version="18.3.1-next-f1338f8080-20240426",it}var Rc;function Fc(){if(Rc)return cs.exports;Rc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),cs.exports=pp(),cs.exports}var Mc;function hp(){if(Mc)return cl;Mc=1;var s=Fc();return cl.createRoot=s.createRoot,cl.hydrateRoot=s.hydrateRoot,cl}var mp=hp(),ws=Fc(),gp=Object.defineProperty,dl=Object.getOwnPropertySymbols,zc=Object.prototype.hasOwnProperty,Uc=Object.prototype.propertyIsEnumerable,Oc=(s,l,i)=>l in s?gp(s,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[l]=i,hs=(s,l)=>{for(var i in l||(l={}))zc.call(l,i)&&Oc(s,i,l[i]);if(dl)for(var i of dl(l))Uc.call(l,i)&&Oc(s,i,l[i]);return s},ms=(s,l)=>{var i={};for(var d in s)zc.call(s,d)&&l.indexOf(d)<0&&(i[d]=s[d]);if(s!=null&&dl)for(var d of dl(s))l.indexOf(d)<0&&Uc.call(s,d)&&(i[d]=s[d]);return i};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var An;(s=>{const l=class pe{constructor(m,v,p,g){if(this.version=m,this.errorCorrectionLevel=v,this.modules=[],this.isFunction=[],m<pe.MIN_VERSION||m>pe.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let E=[];for(let k=0;k<this.size;k++)E.push(!1);for(let k=0;k<this.size;k++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(p);if(this.drawCodewords(_),g==-1){let k=1e9;for(let M=0;M<8;M++){this.applyMask(M),this.drawFormatBits(M);const O=this.getPenaltyScore();O<k&&(g=M,k=O),this.applyMask(M)}}u(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(m,v){const p=s.QrSegment.makeSegments(m);return pe.encodeSegments(p,v)}static encodeBinary(m,v){const p=s.QrSegment.makeBytes(m);return pe.encodeSegments([p],v)}static encodeSegments(m,v,p=1,g=40,E=-1,_=!0){if(!(pe.MIN_VERSION<=p&&p<=g&&g<=pe.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");let k,M;for(k=p;;k++){const D=pe.getNumDataCodewords(k,v)*8,j=h.getTotalBits(m,k);if(j<=D){M=j;break}if(k>=g)throw new RangeError("Data too long")}for(const D of[pe.Ecc.MEDIUM,pe.Ecc.QUARTILE,pe.Ecc.HIGH])_&&M<=pe.getNumDataCodewords(k,D)*8&&(v=D);let O=[];for(const D of m){i(D.mode.modeBits,4,O),i(D.numChars,D.mode.numCharCountBits(k),O);for(const j of D.getData())O.push(j)}u(O.length==M);const W=pe.getNumDataCodewords(k,v)*8;u(O.length<=W),i(0,Math.min(4,W-O.length),O),i(0,(8-O.length%8)%8,O),u(O.length%8==0);for(let D=236;O.length<W;D^=253)i(D,8,O);let U=[];for(;U.length*8<O.length;)U.push(0);return O.forEach((D,j)=>U[j>>>3]|=D<<7-(j&7)),new pe(k,v,U,E)}getModule(m,v){return 0<=m&&m<this.size&&0<=v&&v<this.size&&this.modules[v][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),v=m.length;for(let p=0;p<v;p++)for(let g=0;g<v;g++)p==0&&g==0||p==0&&g==v-1||p==v-1&&g==0||this.drawAlignmentPattern(m[p],m[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const v=this.errorCorrectionLevel.formatBits<<3|m;let p=v;for(let E=0;E<10;E++)p=p<<1^(p>>>9)*1335;const g=(v<<10|p)^21522;u(g>>>15==0);for(let E=0;E<=5;E++)this.setFunctionModule(8,E,d(g,E));this.setFunctionModule(8,7,d(g,6)),this.setFunctionModule(8,8,d(g,7)),this.setFunctionModule(7,8,d(g,8));for(let E=9;E<15;E++)this.setFunctionModule(14-E,8,d(g,E));for(let E=0;E<8;E++)this.setFunctionModule(this.size-1-E,8,d(g,E));for(let E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,d(g,E));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let p=0;p<12;p++)m=m<<1^(m>>>11)*7973;const v=this.version<<12|m;u(v>>>18==0);for(let p=0;p<18;p++){const g=d(v,p),E=this.size-11+p%3,_=Math.floor(p/3);this.setFunctionModule(E,_,g),this.setFunctionModule(_,E,g)}}drawFinderPattern(m,v){for(let p=-4;p<=4;p++)for(let g=-4;g<=4;g++){const E=Math.max(Math.abs(g),Math.abs(p)),_=m+g,k=v+p;0<=_&&_<this.size&&0<=k&&k<this.size&&this.setFunctionModule(_,k,E!=2&&E!=4)}}drawAlignmentPattern(m,v){for(let p=-2;p<=2;p++)for(let g=-2;g<=2;g++)this.setFunctionModule(m+g,v+p,Math.max(Math.abs(g),Math.abs(p))!=1)}setFunctionModule(m,v,p){this.modules[v][m]=p,this.isFunction[v][m]=!0}addEccAndInterleave(m){const v=this.version,p=this.errorCorrectionLevel;if(m.length!=pe.getNumDataCodewords(v,p))throw new RangeError("Invalid argument");const g=pe.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][v],E=pe.ECC_CODEWORDS_PER_BLOCK[p.ordinal][v],_=Math.floor(pe.getNumRawDataModules(v)/8),k=g-_%g,M=Math.floor(_/g);let O=[];const W=pe.reedSolomonComputeDivisor(E);for(let D=0,j=0;D<g;D++){let G=m.slice(j,j+M-E+(D<k?0:1));j+=G.length;const J=pe.reedSolomonComputeRemainder(G,W);D<k&&G.push(0),O.push(G.concat(J))}let U=[];for(let D=0;D<O[0].length;D++)O.forEach((j,G)=>{(D!=M-E||G>=k)&&U.push(j[D])});return u(U.length==_),U}drawCodewords(m){if(m.length!=Math.floor(pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let v=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let g=0;g<this.size;g++)for(let E=0;E<2;E++){const _=p-E,M=(p+1&2)==0?this.size-1-g:g;!this.isFunction[M][_]&&v<m.length*8&&(this.modules[M][_]=d(m[v>>>3],7-(v&7)),v++)}}u(v==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let v=0;v<this.size;v++)for(let p=0;p<this.size;p++){let g;switch(m){case 0:g=(p+v)%2==0;break;case 1:g=v%2==0;break;case 2:g=p%3==0;break;case 3:g=(p+v)%3==0;break;case 4:g=(Math.floor(p/3)+Math.floor(v/2))%2==0;break;case 5:g=p*v%2+p*v%3==0;break;case 6:g=(p*v%2+p*v%3)%2==0;break;case 7:g=((p+v)%2+p*v%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[v][p]&&g&&(this.modules[v][p]=!this.modules[v][p])}}getPenaltyScore(){let m=0;for(let E=0;E<this.size;E++){let _=!1,k=0,M=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[E][O]==_?(k++,k==5?m+=pe.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,M),_||(m+=this.finderPenaltyCountPatterns(M)*pe.PENALTY_N3),_=this.modules[E][O],k=1);m+=this.finderPenaltyTerminateAndCount(_,k,M)*pe.PENALTY_N3}for(let E=0;E<this.size;E++){let _=!1,k=0,M=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[O][E]==_?(k++,k==5?m+=pe.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,M),_||(m+=this.finderPenaltyCountPatterns(M)*pe.PENALTY_N3),_=this.modules[O][E],k=1);m+=this.finderPenaltyTerminateAndCount(_,k,M)*pe.PENALTY_N3}for(let E=0;E<this.size-1;E++)for(let _=0;_<this.size-1;_++){const k=this.modules[E][_];k==this.modules[E][_+1]&&k==this.modules[E+1][_]&&k==this.modules[E+1][_+1]&&(m+=pe.PENALTY_N2)}let v=0;for(const E of this.modules)v=E.reduce((_,k)=>_+(k?1:0),v);const p=this.size*this.size,g=Math.ceil(Math.abs(v*20-p*10)/p)-1;return u(0<=g&&g<=9),m+=g*pe.PENALTY_N4,u(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,v=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let p=[6];for(let g=this.size-7;p.length<m;g-=v)p.splice(1,0,g);return p}}static getNumRawDataModules(m){if(m<pe.MIN_VERSION||m>pe.MAX_VERSION)throw new RangeError("Version number out of range");let v=(16*m+128)*m+64;if(m>=2){const p=Math.floor(m/7)+2;v-=(25*p-10)*p-55,m>=7&&(v-=36)}return u(208<=v&&v<=29648),v}static getNumDataCodewords(m,v){return Math.floor(pe.getNumRawDataModules(m)/8)-pe.ECC_CODEWORDS_PER_BLOCK[v.ordinal][m]*pe.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let v=[];for(let g=0;g<m-1;g++)v.push(0);v.push(1);let p=1;for(let g=0;g<m;g++){for(let E=0;E<v.length;E++)v[E]=pe.reedSolomonMultiply(v[E],p),E+1<v.length&&(v[E]^=v[E+1]);p=pe.reedSolomonMultiply(p,2)}return v}static reedSolomonComputeRemainder(m,v){let p=v.map(g=>0);for(const g of m){const E=g^p.shift();p.push(0),v.forEach((_,k)=>p[k]^=pe.reedSolomonMultiply(_,E))}return p}static reedSolomonMultiply(m,v){if(m>>>8||v>>>8)throw new RangeError("Byte out of range");let p=0;for(let g=7;g>=0;g--)p=p<<1^(p>>>7)*285,p^=(v>>>g&1)*m;return u(p>>>8==0),p}finderPenaltyCountPatterns(m){const v=m[1];u(v<=this.size*3);const p=v>0&&m[2]==v&&m[3]==v*3&&m[4]==v&&m[5]==v;return(p&&m[0]>=v*4&&m[6]>=v?1:0)+(p&&m[6]>=v*4&&m[0]>=v?1:0)}finderPenaltyTerminateAndCount(m,v,p){return m&&(this.finderPenaltyAddHistory(v,p),v=0),v+=this.size,this.finderPenaltyAddHistory(v,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(m,v){v[0]==0&&(m+=this.size),v.pop(),v.unshift(m)}};l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=l;function i(y,m,v){if(m<0||m>31||y>>>m)throw new RangeError("Value out of range");for(let p=m-1;p>=0;p--)v.push(y>>>p&1)}function d(y,m){return(y>>>m&1)!=0}function u(y){if(!y)throw new Error("Assertion error")}const c=class Oe{constructor(m,v,p){if(this.mode=m,this.numChars=v,this.bitData=p,v<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(m){let v=[];for(const p of m)i(p,8,v);return new Oe(Oe.Mode.BYTE,m.length,v)}static makeNumeric(m){if(!Oe.isNumeric(m))throw new RangeError("String contains non-numeric characters");let v=[];for(let p=0;p<m.length;){const g=Math.min(m.length-p,3);i(parseInt(m.substring(p,p+g),10),g*3+1,v),p+=g}return new Oe(Oe.Mode.NUMERIC,m.length,v)}static makeAlphanumeric(m){if(!Oe.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let v=[],p;for(p=0;p+2<=m.length;p+=2){let g=Oe.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p))*45;g+=Oe.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p+1)),i(g,11,v)}return p<m.length&&i(Oe.ALPHANUMERIC_CHARSET.indexOf(m.charAt(p)),6,v),new Oe(Oe.Mode.ALPHANUMERIC,m.length,v)}static makeSegments(m){return m==""?[]:Oe.isNumeric(m)?[Oe.makeNumeric(m)]:Oe.isAlphanumeric(m)?[Oe.makeAlphanumeric(m)]:[Oe.makeBytes(Oe.toUtf8ByteArray(m))]}static makeEci(m){let v=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,v);else if(m<16384)i(2,2,v),i(m,14,v);else if(m<1e6)i(6,3,v),i(m,21,v);else throw new RangeError("ECI assignment value out of range");return new Oe(Oe.Mode.ECI,0,v)}static isNumeric(m){return Oe.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return Oe.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,v){let p=0;for(const g of m){const E=g.mode.numCharCountBits(v);if(g.numChars>=1<<E)return 1/0;p+=4+E+g.bitData.length}return p}static toUtf8ByteArray(m){m=encodeURI(m);let v=[];for(let p=0;p<m.length;p++)m.charAt(p)!="%"?v.push(m.charCodeAt(p)):(v.push(parseInt(m.substring(p+1,p+3),16)),p+=2);return v}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=c;s.QrSegment=c})(An||(An={}));(s=>{(l=>{const i=class{constructor(u,c){this.ordinal=u,this.formatBits=c}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),l.Ecc=i})(s.QrCode||(s.QrCode={}))})(An||(An={}));(s=>{(l=>{const i=class{constructor(u,c){this.modeBits=u,this.numBitsCharCount=c}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),l.Mode=i})(s.QrSegment||(s.QrSegment={}))})(An||(An={}));var sr=An;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vp={L:sr.QrCode.Ecc.LOW,M:sr.QrCode.Ecc.MEDIUM,Q:sr.QrCode.Ecc.QUARTILE,H:sr.QrCode.Ecc.HIGH},Bc=128,$c="L",Gc="#FFFFFF",Vc="#000000",Wc=!1,Hc=1,yp=4,wp=0,Sp=.1;function Qc(s,l=0){const i=[];return s.forEach(function(d,u){let c=null;d.forEach(function(h,y){if(!h&&c!==null){i.push(`M${c+l} ${u+l}h${y-c}v1H${c+l}z`),c=null;return}if(y===d.length-1){if(!h)return;c===null?i.push(`M${y+l},${u+l} h1v1H${y+l}z`):i.push(`M${c+l},${u+l} h${y+1-c}v1H${c+l}z`);return}h&&c===null&&(c=y)})}),i.join("")}function bc(s,l){return s.slice().map((i,d)=>d<l.y||d>=l.y+l.h?i:i.map((u,c)=>c<l.x||c>=l.x+l.w?u:!1))}function Ep(s,l,i,d){if(d==null)return null;const u=s.length+i*2,c=Math.floor(l*Sp),h=u/l,y=(d.width||c)*h,m=(d.height||c)*h,v=d.x==null?s.length/2-y/2:d.x*h,p=d.y==null?s.length/2-m/2:d.y*h,g=d.opacity==null?1:d.opacity;let E=null;if(d.excavate){let k=Math.floor(v),M=Math.floor(p),O=Math.ceil(y+v-k),W=Math.ceil(m+p-M);E={x:k,y:M,w:O,h:W}}const _=d.crossOrigin;return{x:v,y:p,h:m,w:y,excavation:E,opacity:g,crossOrigin:_}}function xp(s,l){return l!=null?Math.max(Math.floor(l),0):s?yp:wp}function qc({value:s,level:l,minVersion:i,includeMargin:d,marginSize:u,imageSettings:c,size:h,boostLevel:y}){let m=Ae.useMemo(()=>{const k=(Array.isArray(s)?s:[s]).reduce((M,O)=>(M.push(...sr.QrSegment.makeSegments(O)),M),[]);return sr.QrCode.encodeSegments(k,vp[l],i,void 0,void 0,y)},[s,l,i,y]);const{cells:v,margin:p,numCells:g,calculatedImageSettings:E}=Ae.useMemo(()=>{let _=m.getModules();const k=xp(d,u),M=_.length+k*2,O=Ep(_,h,k,c);return{cells:_,margin:k,numCells:M,calculatedImageSettings:O}},[m,h,c,d,u]);return{qrcode:m,margin:p,cells:v,numCells:g,calculatedImageSettings:E}}var Cp=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),kp=Ae.forwardRef(function(l,i){const d=l,{value:u,size:c=Bc,level:h=$c,bgColor:y=Gc,fgColor:m=Vc,includeMargin:v=Wc,minVersion:p=Hc,boostLevel:g,marginSize:E,imageSettings:_}=d,M=ms(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:O}=M,W=ms(M,["style"]),U=_==null?void 0:_.src,D=Ae.useRef(null),j=Ae.useRef(null),G=Ae.useCallback(ye=>{D.current=ye,typeof i=="function"?i(ye):i&&(i.current=ye)},[i]),[J,Z]=Ae.useState(!1),{margin:V,cells:oe,numCells:ce,calculatedImageSettings:he}=qc({value:u,level:h,minVersion:p,boostLevel:g,includeMargin:v,marginSize:E,imageSettings:_,size:c});Ae.useEffect(()=>{if(D.current!=null){const ye=D.current,Se=ye.getContext("2d");if(!Se)return;let De=oe;const we=j.current,$=he!=null&&we!==null&&we.complete&&we.naturalHeight!==0&&we.naturalWidth!==0;$&&he.excavation!=null&&(De=bc(oe,he.excavation));const ee=window.devicePixelRatio||1;ye.height=ye.width=c*ee;const H=c/ce*ee;Se.scale(H,H),Se.fillStyle=y,Se.fillRect(0,0,ce,ce),Se.fillStyle=m,Cp?Se.fill(new Path2D(Qc(De,V))):oe.forEach(function(N,L){N.forEach(function(ae,ue){ae&&Se.fillRect(ue+V,L+V,1,1)})}),he&&(Se.globalAlpha=he.opacity),$&&Se.drawImage(we,he.x+V,he.y+V,he.w,he.h)}}),Ae.useEffect(()=>{Z(!1)},[U]);const xe=hs({height:c,width:c},O);let me=null;return U!=null&&(me=Ae.createElement("img",{src:U,key:U,style:{display:"none"},onLoad:()=>{Z(!0)},ref:j,crossOrigin:he==null?void 0:he.crossOrigin})),Ae.createElement(Ae.Fragment,null,Ae.createElement("canvas",hs({style:xe,height:c,width:c,ref:G,role:"img"},W)),me)});kp.displayName="QRCodeCanvas";var Yc=Ae.forwardRef(function(l,i){const d=l,{value:u,size:c=Bc,level:h=$c,bgColor:y=Gc,fgColor:m=Vc,includeMargin:v=Wc,minVersion:p=Hc,boostLevel:g,title:E,marginSize:_,imageSettings:k}=d,M=ms(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:O,cells:W,numCells:U,calculatedImageSettings:D}=qc({value:u,level:h,minVersion:p,boostLevel:g,includeMargin:v,marginSize:_,imageSettings:k,size:c});let j=W,G=null;k!=null&&D!=null&&(D.excavation!=null&&(j=bc(W,D.excavation)),G=Ae.createElement("image",{href:k.src,height:D.h,width:D.w,x:D.x+O,y:D.y+O,preserveAspectRatio:"none",opacity:D.opacity,crossOrigin:D.crossOrigin}));const J=Qc(j,O);return Ae.createElement("svg",hs({height:c,width:c,viewBox:`0 0 ${U} ${U}`,ref:i,role:"img"},M),!!E&&Ae.createElement("title",null,E),Ae.createElement("path",{fill:y,d:`M0,0 h${U}v${U}H0z`,shapeRendering:"crispEdges"}),Ae.createElement("path",{fill:m,d:J,shapeRendering:"crispEdges"}),G)});Yc.displayName="QRCodeSVG";const je={total:0,colors:{}},Xr={shapesPlaced:{...je},linesCleared:{...je},rowsCleared:{...je},doubleRows:{...je},tripleRows:{...je},quadrupleRows:{...je},doubleRowsWithSingleColumns:{...je},tripleRowsWithSingleColumns:{...je},tripleRowsWithDoubleColumns:{...je},quadrupleRowsWithSingleColumns:{...je},columnsCleared:{...je},doubleColumns:{...je},tripleColumns:{...je},quadrupleColumns:{...je},doubleColumnsWithSingleRows:{...je},tripleColumnsWithDoubleRows:{...je},tripleColumnsWithSingleRows:{...je},quadrupleColumnsWithSingleRows:{...je},singleColumnBySingleRow:{...je},doubleColumnByDoubleRow:{...je},quadrupleRowByQuadrupleColumn:{...je}},Np={allTime:JSON.parse(JSON.stringify(Xr)),highScore:JSON.parse(JSON.stringify(Xr)),current:JSON.parse(JSON.stringify(Xr)),lastUpdated:Date.now()},Kc="TetrixGameDB",Pp=3,Ft="gameState",St="score",Et="tiles",xt="shapes",ze="settings",Ct="modifiers",kt="stats";function Tp(){return typeof indexedDB<"u"}async function _p(){const s=indexedDB.deleteDatabase(Kc);return new Promise((l,i)=>{s.onsuccess=()=>{setTimeout(()=>{Xc().then(l).catch(i)},100)},s.onerror=()=>{console.error("Failed to delete corrupted database"),i(new Error("Database schema mismatch and failed to recreate"))}})}function Xc(){return new Promise((s,l)=>{const i=indexedDB.open(Kc,Pp);i.onerror=()=>{console.error("Failed to open IndexedDB:",i.error),l(new Error(`Failed to open IndexedDB: ${i.error}`))},i.onsuccess=async()=>{const d=i.result,c=[Ft,St,Et,xt,ze,Ct,kt].filter(h=>!d.objectStoreNames.contains(h));if(c.length>0){console.warn("Missing object stores:",c,"Recreating database..."),d.close();try{const h=await _p();s(h)}catch(h){l(h)}return}s(d)},i.onupgradeneeded=d=>{const u=d.target.result;console.log("Upgrading database from version",d.oldVersion,"to",d.newVersion),u.objectStoreNames.contains(Ft)||(console.log("Creating",Ft,"store"),u.createObjectStore(Ft)),u.objectStoreNames.contains(St)||(console.log("Creating",St,"store"),u.createObjectStore(St)),u.objectStoreNames.contains(Et)||(console.log("Creating",Et,"store"),u.createObjectStore(Et)),u.objectStoreNames.contains(xt)||(console.log("Creating",xt,"store"),u.createObjectStore(xt)),u.objectStoreNames.contains(ze)||(console.log("Creating",ze,"store"),u.createObjectStore(ze)),u.objectStoreNames.contains(Ct)||(console.log("Creating",Ct,"store"),u.createObjectStore(Ct)),u.objectStoreNames.contains(kt)||(console.log("Creating",kt,"store"),u.createObjectStore(kt))}})}function Ue(){return Tp()?Xc():Promise.reject(new Error("IndexedDB not available in this environment"))}async function Rp(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([Ft],"readonly").objectStore(Ft).get("current");c.onsuccess=()=>{const h=c.result;if(h!=null&&h.tiles&&Array.isArray(h.tiles)){const y={score:h.score||0,tiles:h.tiles||[],nextShapes:h.nextShapes||[],savedShape:h.savedShape||null};l(y)}else l(null)},c.onerror=()=>{console.error("Failed to load game state:",c.error),i(new Error(`Failed to load game state: ${c.error}`))}})}catch(s){return console.error("Error loading game state:",s),null}}async function Mp(s){try{const l=await Ue(),i={score:s,lastUpdated:Date.now()};return new Promise((d,u)=>{try{const c=l.transaction([St],"readwrite");c.onerror=()=>{console.error("Transaction failed for score save:",c.error),u(new Error(`Transaction failed: ${c.error}`))};const y=c.objectStore(St).put(i,"current");y.onsuccess=()=>{console.log("Score saved successfully:",s),d()},y.onerror=()=>{console.error("Failed to save score:",y.error),u(new Error(`Failed to save score: ${y.error}`))}}catch(c){console.error("Failed to create transaction for score save:",c),u(new Error(`Transaction creation failed: ${c}`))}})}catch(l){throw console.error("Error saving score:",l),l}}async function Op(s){try{const l=await Ue(),i={tiles:s,lastUpdated:Date.now()};return new Promise((d,u)=>{const y=l.transaction([Et],"readwrite").objectStore(Et).put(i,"current");y.onsuccess=()=>{console.log("Tiles saved successfully"),d()},y.onerror=()=>{console.error("Failed to save tiles:",y.error),u(new Error(`Failed to save tiles: ${y.error}`))}})}catch(l){throw console.error("Error saving tiles:",l),l}}async function Ap(s,l){try{const i=await Ue(),d={nextShapes:s,savedShape:l,lastUpdated:Date.now()};return new Promise((u,c)=>{const m=i.transaction([xt],"readwrite").objectStore(xt).put(d,"current");m.onsuccess=()=>{console.log("Shapes saved successfully"),u()},m.onerror=()=>{console.error("Failed to save shapes:",m.error),c(new Error(`Failed to save shapes: ${m.error}`))}})}catch(i){throw console.error("Error saving shapes:",i),i}}async function Dp(s){try{const l=await Ue();let i={isMuted:!1,lastUpdated:Date.now()},d=!1;try{const h=await Ss();i=(h==null?void 0:h.soundEffects)||i,d=(h==null?void 0:h.debugUnlocked)||!1}catch{}const c={music:{isMuted:s,lastUpdated:Date.now()},soundEffects:i,debugUnlocked:d,lastUpdated:Date.now()};return new Promise((h,y)=>{const p=l.transaction([ze],"readwrite").objectStore(ze).put(c,"current");p.onsuccess=()=>{console.log("Music settings saved successfully:",s),h()},p.onerror=()=>{console.error("Failed to save music settings:",p.error),y(new Error(`Failed to save music settings: ${p.error}`))}})}catch(l){throw console.error("Error saving music settings:",l),l}}async function Lp(s){try{const l=await Ue();let i={isMuted:!1,lastUpdated:Date.now()},d=!1;try{const h=await Ss();i=(h==null?void 0:h.music)||i,d=(h==null?void 0:h.debugUnlocked)||!1}catch{}const u={isMuted:s,lastUpdated:Date.now()},c={music:i,soundEffects:u,debugUnlocked:d,lastUpdated:Date.now()};return new Promise((h,y)=>{const p=l.transaction([ze],"readwrite").objectStore(ze).put(c,"current");p.onsuccess=()=>{console.log("Sound effects settings saved successfully:",s),h()},p.onerror=()=>{console.error("Failed to save sound effects settings:",p.error),y(new Error(`Failed to save sound effects settings: ${p.error}`))}})}catch(l){throw console.error("Error saving sound effects settings:",l),l}}async function Ip(s){try{const l=await Ue(),i={...s,lastUpdated:Date.now()};return new Promise((d,u)=>{const y=l.transaction([kt],"readwrite").objectStore(kt).put(i,"current");y.onsuccess=()=>{d()},y.onerror=()=>{console.error("Failed to save stats:",y.error),u(new Error(`Failed to save stats: ${y.error}`))}})}catch(l){throw console.error("Error saving stats:",l),l}}async function jp(s){try{const l=await Ue();let i={isMuted:!1,lastUpdated:Date.now()},d={isMuted:!1,lastUpdated:Date.now()};try{const c=await Ss();i=(c==null?void 0:c.music)||i,d=(c==null?void 0:c.soundEffects)||d}catch{}const u={music:i,soundEffects:d,debugUnlocked:s,lastUpdated:Date.now()};return new Promise((c,h)=>{const v=l.transaction([ze],"readwrite").objectStore(ze).put(u,"current");v.onsuccess=()=>{console.log("Debug settings saved successfully:",s),c()},v.onerror=()=>{console.error("Failed to save debug settings:",v.error),h(new Error(`Failed to save debug settings: ${v.error}`))}})}catch(l){throw console.error("Error saving debug settings:",l),l}}async function Fp(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([ze],"readonly").objectStore(ze).get("current");c.onsuccess=()=>{const h=c.result;l((h==null?void 0:h.debugUnlocked)??!1)},c.onerror=()=>{console.error("Failed to load debug settings:",c.error),i(new Error(`Failed to load debug settings: ${c.error}`))}})}catch(s){return console.error("Error loading debug settings:",s),!1}}async function zp(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([St],"readonly").objectStore(St).get("current");c.onsuccess=()=>{const h=c.result;l((h==null?void 0:h.score)??0)},c.onerror=()=>{console.error("Failed to load score:",c.error),i(new Error(`Failed to load score: ${c.error}`))}})}catch(s){return console.error("Error loading score:",s),0}}async function Up(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([Et],"readonly").objectStore(Et).get("current");c.onsuccess=()=>{const h=c.result;h!=null&&h.tiles&&Array.isArray(h.tiles)?l(h.tiles):l(null)},c.onerror=()=>{console.error("Failed to load tiles:",c.error),i(new Error(`Failed to load tiles: ${c.error}`))}})}catch(s){return console.error("Error loading tiles:",s),null}}async function Jc(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([xt],"readonly").objectStore(xt).get("current");c.onsuccess=()=>{const h=c.result;l(h?{nextShapes:h.nextShapes||[],savedShape:h.savedShape||null}:null)},c.onerror=()=>{console.error("Failed to load shapes:",c.error),i(new Error(`Failed to load shapes: ${c.error}`))}})}catch(s){return console.error("Error loading shapes:",s),null}}async function Bp(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([ze],"readonly").objectStore(ze).get("current");c.onsuccess=()=>{var y;const h=c.result;l(((y=h==null?void 0:h.music)==null?void 0:y.isMuted)??!1)},c.onerror=()=>{console.error("Failed to load music settings:",c.error),i(new Error(`Failed to load music settings: ${c.error}`))}})}catch(s){return console.error("Error loading music settings:",s),!1}}async function $p(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([ze],"readonly").objectStore(ze).get("current");c.onsuccess=()=>{var y;const h=c.result;l(((y=h==null?void 0:h.soundEffects)==null?void 0:y.isMuted)??!1)},c.onerror=()=>{console.error("Failed to load sound effects settings:",c.error),i(new Error(`Failed to load sound effects settings: ${c.error}`))}})}catch(s){return console.error("Error loading sound effects settings:",s),!1}}async function Zc(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([kt],"readonly").objectStore(kt).get("current");c.onsuccess=()=>{const h=c.result;l(h||null)},c.onerror=()=>{console.error("Failed to load stats:",c.error),i(new Error(`Failed to load stats: ${c.error}`))}})}catch(s){return console.error("Error loading stats:",s),null}}async function Gp(s){try{const l=await Ue(),i={unlockedModifiers:Array.from(s),lastUpdated:Date.now()};return new Promise((d,u)=>{const y=l.transaction([Ct],"readwrite").objectStore(Ct).put(i,"current");y.onsuccess=()=>{console.log("Modifiers saved successfully:",i.unlockedModifiers),d()},y.onerror=()=>{console.error("Failed to save modifiers:",y.error),u(new Error(`Failed to save modifiers: ${y.error}`))}})}catch(l){throw console.error("Error saving modifiers:",l),l}}async function Vp(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([Ct],"readonly").objectStore(Ct).get("current");c.onsuccess=()=>{const h=c.result;h!=null&&h.unlockedModifiers&&Array.isArray(h.unlockedModifiers)?l(new Set(h.unlockedModifiers)):l(new Set)},c.onerror=()=>{console.error("Failed to load modifiers:",c.error),i(new Error(`Failed to load modifiers: ${c.error}`))}})}catch(s){return console.error("Error loading modifiers:",s),new Set}}async function Ss(){try{const s=await Ue();return new Promise((l,i)=>{const c=s.transaction([ze],"readonly").objectStore(ze).get("current");c.onsuccess=()=>{const h=c.result;l(h||null)},c.onerror=()=>{console.error("Failed to load game settings:",c.error),i(new Error(`Failed to load game settings: ${c.error}`))}})}catch(s){return console.error("Error loading game settings:",s),null}}async function Wp(){var s;try{const[l,i,d]=await Promise.all([zp(),Up(),Jc()]);let u=[];if(i&&Array.isArray(i)&&(i.length>0&&"key"in i[0]&&"data"in i[0]?u=i.map(h=>{const y=h.key.match(/R(\d+)C(\d+)/);if(!y)throw new Error(`Invalid tile key: ${h.key}`);const m=parseInt(y[1],10),v=parseInt(y[2],10);return{id:`(row: ${m}, column: ${v})`,location:{row:m,column:v},block:{isFilled:h.data.isFilled,color:h.data.color}}}):u=i),u.length===100)return console.log("Loaded game state from granular stores"),{score:l,tiles:u,nextShapes:(d==null?void 0:d.nextShapes)??[],savedShape:(d==null?void 0:d.savedShape)??null};console.log("Granular stores empty, trying legacy store...");const c=await Rp();if(((s=c==null?void 0:c.tiles)==null?void 0:s.length)===100){console.log("Loaded game state from legacy store");const h=c.tiles.map(y=>({key:`R${y.location.row}C${y.location.column}`,data:{isFilled:y.block.isFilled,color:y.block.color}}));return qe(c.score,h,c.nextShapes,c.savedShape).catch(y=>{console.error("Failed to migrate legacy data to granular stores:",y)}),c}return console.log("No saved game state found in either granular or legacy stores"),null}catch(l){return console.error("Error loading complete game state:",l),null}}async function qe(s,l,i,d,u){const c=[];s!==void 0&&c.push(Mp(s).catch(h=>{console.warn("Failed to save score, continuing without persistence:",h.message)})),l&&c.push(Op(l).catch(h=>{console.warn("Failed to save tiles, continuing without persistence:",h.message)})),(i!==void 0||d!==void 0)&&c.push((async()=>{try{const h=await Jc();await Ap(i??(h==null?void 0:h.nextShapes)??[],d??(h==null?void 0:h.savedShape)??null)}catch(h){console.warn("Failed to save shapes, continuing without persistence:",h instanceof Error?h.message:"Unknown error")}})()),u&&c.push(Ip(u).catch(h=>{console.warn("Failed to save stats, continuing without persistence:",h.message)})),await Promise.all(c)}async function Hp(){try{let s=null;try{s=await Zc()}catch(i){console.warn("Failed to load stats during clear:",i)}const l=await Ue();return new Promise((i,d)=>{const u=l.transaction([Ft,St,Et,xt,Ct,kt],"readwrite"),c=u.objectStore(Ft),h=u.objectStore(St),y=u.objectStore(Et),m=u.objectStore(xt),v=u.objectStore(Ct),p=u.objectStore(kt);if(c.delete("current"),h.delete("current"),y.delete("current"),m.delete("current"),v.delete("current"),s){const g={...s,current:JSON.parse(JSON.stringify(Xr)),lastUpdated:Date.now()};p.put(g,"current"),console.log("Game stats reset (history preserved)")}else p.delete("current");u.oncomplete=()=>{console.log("Game data cleared successfully (settings preserved)"),i()},u.onerror=()=>{console.error("Failed to clear game data:",u.error),d(new Error(`Failed to clear game data: ${u.error}`))}})}catch(s){throw console.error("Error clearing game data:",s),s}}async function Qp(){try{const s=await Ue();await new Promise((l,i)=>{const d=s.transaction([Ft,St,Et,xt,ze,Ct,kt],"readwrite"),u=d.objectStore(Ft),c=d.objectStore(St),h=d.objectStore(Et),y=d.objectStore(xt),m=d.objectStore(ze),v=d.objectStore(Ct),p=d.objectStore(kt);u.delete("current"),c.delete("current"),h.delete("current"),y.delete("current"),m.delete("current"),v.delete("current"),p.delete("current"),d.oncomplete=()=>{console.log("All data (including settings) cleared successfully"),l()},d.onerror=()=>{console.error("Failed to clear all data:",d.error),i(new Error(`Failed to clear all data: ${d.error}`))}});try{localStorage.clear(),console.log("localStorage cleared")}catch(l){console.warn("Failed to clear localStorage:",l)}if("caches"in globalThis)try{const l=await caches.keys();await Promise.all(l.map(i=>caches.delete(i))),console.log("Service worker caches cleared")}catch(l){console.warn("Failed to clear caches:",l)}if("serviceWorker"in navigator)try{const l=await navigator.serviceWorker.getRegistrations();await Promise.all(l.map(i=>i.unregister())),console.log("Service workers unregistered")}catch(l){console.warn("Failed to unregister service workers:",l)}console.log("Reloading page from server..."),globalThis.location.reload()}catch(s){console.error("Error during full data clear:",s),globalThis.location.reload()}}const ed=A.createContext(null),pl=()=>{const s=A.useContext(ed);if(!s)throw new Error("useMusicControl must be used within a MusicControlContext.Provider");return s},bp=({children:s})=>{const[l,i]=A.useState(!1),[d,u]=A.useState(!1),[c,h]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const g=await Bp();i(g)}catch(g){console.error("Failed to load music settings:",g);try{const E=localStorage.getItem("tetrix-music-muted");i(E?JSON.parse(E):!1)}catch{i(!1)}}finally{h(!1)}})()},[]);const y=A.useCallback(()=>{const p=!l;i(p),p||u(!0),Dp(p).catch(g=>{console.error("Failed to save music settings to IndexedDB:",g);try{localStorage.setItem("tetrix-music-muted",JSON.stringify(p))}catch(E){console.error("Failed to save music mute preference to localStorage:",E)}})},[l]),m=A.useCallback(()=>{u(!0)},[]),v={isMuted:l||c,toggleMute:y,shouldPlayMusic:d,triggerAutoplay:m};return w.jsx(ed.Provider,{value:v,children:s})},td=A.createContext(null),qp=()=>{const s=A.useContext(td);if(!s)throw new Error("useSoundEffectsControl must be used within a SoundEffectsControlContext.Provider");return s},nd=A.createContext(null),rd=A.createContext(null);function st(){const s=A.useContext(nd);if(!s)throw new Error("useTetrixStateContext must be used within a TetrixStateProvider");return s}function ft(){const s=A.useContext(rd);if(!s)throw new Error("useTetrixDispatchContext must be used within a TetrixDispatchProvider");return s}const od=A.createContext(null),Yr=["add-block","fill-row","fill-column","remove","clear-all"];function Yp({children:s}){const[l,i]=A.useState({isEditorOpen:!1,currentTool:"none",selectedColor:"blue",showInstructions:!0,hasShownInstructions:!1,showGridDots:!0}),d=()=>{i(g=>({...g,isEditorOpen:!0,currentTool:g.currentTool==="none"?"add-block":g.currentTool,showInstructions:!g.hasShownInstructions,hasShownInstructions:!0}))},u=()=>{i(g=>({...g,isEditorOpen:!1,currentTool:"none"}))},c=()=>{i(g=>({...g,showInstructions:!1}))},h=()=>{i(g=>({...g,showGridDots:!g.showGridDots}))},y=g=>{i(E=>({...E,currentTool:g}))},m=g=>{i(E=>({...E,selectedColor:g}))},v=g=>{i(E=>{const _=Yr.indexOf(E.currentTool);let k;return g==="forward"?k=(_+1)%Yr.length:k=(_-1+Yr.length)%Yr.length,{...E,currentTool:Yr[k]}})},p=A.useMemo(()=>({state:l,openEditor:d,closeEditor:u,setTool:y,setColor:m,cycleTool:v,hideInstructions:c,toggleGridDots:h}),[l]);return w.jsx(od.Provider,{value:p,children:s})}function hl(){const s=A.useContext(od);if(!s)throw new Error("useDebugEditor must be used within a DebugEditorProvider");return s}function Es(s){var c;let l=s.length,i=-1,d=((c=s[0])==null?void 0:c.length)??0,u=-1;for(let h=0;h<s.length;h++)for(let y=0;y<s[h].length;y++)s[h][y].isFilled&&(l=Math.min(l,h),i=Math.max(i,h),d=Math.min(d,y),u=Math.max(u,y));return{minRow:l,maxRow:i,minCol:d,maxCol:u,width:u-d+1,height:i-l+1}}function gs(s,l){const i=[];for(let d=0;d<4;d++)for(let u=0;u<4;u++){const c=s[d][u];c.isFilled&&i.push({location:{row:l.row+d,column:l.column+u},block:c})}return i}function Kp(s,l,i){const d=Es(s),u=d.minCol+(d.width-1)/2,c=d.minRow+(d.height-1)/2,h=1.5,y=(u-h)*(l+i),m=(c-h)*(l+i);return{offsetX:y,offsetY:m}}function Ac(s,l,i,d,u=0,c,h){const y=i.getBoundingClientRect();if(c&&!h)return console.error("mousePositionToGridLocation called with shape but no precomputedOffsets - this is a logic error"),null;const m=(h==null?void 0:h.gridGap)??2,v=(h==null?void 0:h.tileSize)??(y.width-m*9)/d.columns,p=v+m,g=s,E=l-u;let _=g,k=E;c&&h&&(_=g+h.gridOffsetX,k=E+h.gridOffsetY);const M=v*3.5;if(_<y.left-M||_>y.right+M||k<y.top-M||k>y.bottom+M)return null;const O=_-y.left,W=k-y.top,U=O/p,D=W/p,j=Math.floor(U+.5)+1;return{row:Math.floor(D+.5)+1,column:j}}function On(s){const l=s.length,i=new Array(l).fill(null).map(()=>new Array(l).fill(null).map(()=>({...s[0][0],isFilled:!1})));for(let d=0;d<l;d++)for(let u=0;u<l;u++)i[u][l-1-d]=s[d][u];return i}function xs(s){return s.map(l=>l.map(i=>({...i})))}function Jr(s=7){const l=["grey","red","orange","yellow","green","blue","purple"],i=Math.max(1,Math.min(7,s)),d=l.slice(0,i),u=Math.floor(Math.random()*d.length);return d[u]}function Cs(s,l){return`R${s}C${l}`}function vs(s,l,i){if(l===null)return!1;for(let d=0;d<4;d++)for(let u=0;u<4;u++)if(s[d][u].isFilled){const h=l.row+d,y=l.column+u;if(h<1||h>10||y<1||y>10)return!1;const m=Cs(h,y),v=i.get(m);if(v!=null&&v.isFilled)return!1}return!0}function Xp(s,l,i){const d=[];if(l===null)return d;for(let u=0;u<4;u++)for(let c=0;c<4;c++)if(s[u][c].isFilled){const y=l.row+u,m=l.column+c,v=y<1||y>10||m<1||m>10;let p=!1;if(!v){const g=Cs(y,m),E=i.get(g);p=(E==null?void 0:E.isFilled)??!1}(v||p)&&d.push({shapeRow:u,shapeCol:c})}return d}function Dn(){return{color:Jr(),isFilled:!1}}function Ln(s){return{color:s,isFilled:!0}}function Jp(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[l(),l(),l(),l()],[i(),i(),i(),i()],[l(),l(),l(),l()]]}function Zp(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[l(),i(),i(),l()],[l(),i(),i(),l()],[l(),l(),l(),l()]]}function eh(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[l(),i(),l(),l()],[i(),i(),i(),l()],[l(),l(),l(),l()]]}function th(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[l(),i(),i(),l()],[i(),i(),l(),l()],[l(),l(),l(),l()]]}function nh(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[i(),i(),l(),l()],[l(),i(),i(),l()],[l(),l(),l(),l()]]}function rh(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[i(),l(),l(),l()],[i(),i(),i(),l()],[l(),l(),l(),l()]]}function oh(s){const l=Dn,i=()=>Ln(s);return[[l(),l(),l(),l()],[i(),i(),i(),l()],[i(),l(),l(),l()],[l(),l(),l(),l()]]}function lh(){const s=Jr(),l=()=>({color:Jr(),isFilled:!1}),i=()=>({color:s,isFilled:!0}),d=[[i(),l(),l(),l()],[l(),i(),l(),l()],[l(),l(),i(),l()],[l(),l(),l(),i()]],u=Math.floor(Math.random()*2);let c=xs(d);for(let h=0;h<u;h++)c=On(c);return c}function ks(){const s=Jr(),l=()=>({color:Jr(),isFilled:!1}),i=()=>({color:s,isFilled:!0}),d=[{template:[[l(),l(),l(),l()],[l(),l(),l(),l()],[i(),i(),i(),i()],[l(),l(),l(),l()]],rotations:2},{template:[[l(),l(),l(),l()],[l(),i(),i(),l()],[l(),i(),i(),l()],[l(),l(),l(),l()]],rotations:1},{template:[[l(),l(),l(),l()],[l(),i(),l(),l()],[i(),i(),i(),l()],[l(),l(),l(),l()]],rotations:4},{template:[[l(),l(),l(),l()],[l(),i(),i(),l()],[i(),i(),l(),l()],[l(),l(),l(),l()]],rotations:2},{template:[[l(),l(),l(),l()],[i(),i(),l(),l()],[l(),i(),i(),l()],[l(),l(),l(),l()]],rotations:2},{template:[[l(),l(),l(),l()],[i(),l(),l(),l()],[i(),i(),i(),l()],[l(),l(),l(),l()]],rotations:4},{template:[[l(),l(),l(),l()],[i(),i(),i(),l()],[i(),l(),l(),l()],[l(),l(),l(),l()]],rotations:4}],{template:u,rotations:c}=d[Math.floor(Math.random()*d.length)],h=Math.floor(Math.random()*c);let y=xs(u);for(let m=0;m<h;m++)y=On(y);return y}function ih(s){const l=new Array(11).fill(null).map(()=>new Array(11).fill(!1));for(let i=1;i<=10;i++)for(let d=1;d<=10;d++){const u=s.get(Cs(i,d));u!=null&&u.isFilled&&(l[i][d]=!0)}for(let i=1;i<=7;i++)for(let d=1;d<=7;d++)if(sh(l,i,d))return!0;return!1}function sh(s,l,i){const d=Dc(s,l,i,!0),u=Lc(s,l,i,!0);if(d&&u)return!0;const c=Dc(s,l,i,!1),h=Lc(s,l,i,!1);return c&&h}function Dc(s,l,i,d){for(let u=0;u<4;u++){const c=l+u,h=d?i+u:i+(3-u);if(!ah(s,c,h))return!1}return!0}function Lc(s,l,i,d){for(let u=0;u<4;u++){const c=i+u,h=d?l+u:l+(3-u);if(!uh(s,c,h))return!1}return!0}function ah(s,l,i){let d=0,u=!1;for(let c=1;c<=10;c++)s[l][c]?d++:c===i&&(u=!0);return d===9&&u}function uh(s,l,i){let d=0,u=!1;for(let c=1;c<=10;c++)s[c][l]?d++:c===i&&(u=!0);return d===9&&u}const ch=["grey","red","orange","yellow","green","blue","purple"],dh=()=>{const{state:s,closeEditor:l,setTool:i,setColor:d,cycleTool:u,hideInstructions:c,toggleGridDots:h}=hl(),y=ft(),m=A.useCallback(v=>{const p=s.selectedColor;let g;switch(v){case"I":g=Jp(p);break;case"O":g=Zp(p);break;case"T":g=eh(p);break;case"S":g=th(p);break;case"Z":g=nh(p);break;case"J":g=rh(p);break;case"L":g=oh(p);break;default:return}y({type:"DEBUG_REPLACE_FIRST_SHAPE",value:{shape:g}})},[s.selectedColor,y]);return A.useEffect(()=>{if(!s.isEditorOpen)return;const v=p=>{p.preventDefault();const g=p.deltaY>0?"forward":"backward";u(g)};return globalThis.addEventListener("wheel",v,{passive:!1}),()=>{globalThis.removeEventListener("wheel",v)}},[s.isEditorOpen,u]),A.useEffect(()=>{if(!s.isEditorOpen)return;const v=p=>{p.key==="Escape"&&l()};return globalThis.addEventListener("keydown",v),()=>{globalThis.removeEventListener("keydown",v)}},[s.isEditorOpen,l]),s.isEditorOpen?ws.createPortal(w.jsxs(w.Fragment,{children:[s.showInstructions&&w.jsx("div",{className:"debug-editor-overlay",children:w.jsxs("div",{className:"debug-editor-container",children:[w.jsxs("div",{className:"debug-editor-header",children:[w.jsx("h2",{className:"debug-editor-title",children:"Debug Editor"}),w.jsx("button",{className:"debug-close-button",onClick:l,children:"Close"})]}),w.jsxs("div",{className:"debug-editor-content",children:[w.jsxs("div",{className:"debug-instructions",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Add Block Tool:"})," Click any tile to add a block with the selected color."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fill Row Tool:"})," Click any tile to fill all tiles in that row (except the clicked tile) with the selected color."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fill Column Tool:"})," Click any tile to fill all tiles in that column (except the clicked tile) with the selected color."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Remove Tool:"})," Click any tile to remove its block."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Clear All Tool:"})," Click any tile to remove all blocks from the entire grid."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Mouse Wheel:"})," Scroll to cycle between tools."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Color Picker:"})," Select the color for blocks placed by add and fill tools."]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Shape Picker:"})," Click a shape button to remove the first shape and add that shape type (in the selected color) to the end of the queue."]})]}),w.jsx("div",{className:"debug-instructions-actions",children:w.jsx("button",{className:"debug-continue-button",onClick:c,children:"Continue"})})]})]})}),w.jsxs("div",{className:"debug-tool-palette",children:[w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"Tools"}),w.jsxs("div",{className:"debug-tools-grid",children:[w.jsx("button",{className:`debug-tool-button ${s.currentTool==="add-block"?"active":""}`,onClick:()=>i("add-block"),title:"Add Block",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="fill-row"?"active":""}`,onClick:()=>i("fill-row"),title:"Fill Row (except clicked tile)",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="fill-column"?"active":""}`,onClick:()=>i("fill-column"),title:"Fill Column (except clicked tile)",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="remove"?"active":""}`,onClick:()=>i("remove"),title:"Remove Block",children:""}),w.jsx("button",{className:`debug-tool-button ${s.currentTool==="clear-all"?"active":""}`,onClick:()=>i("clear-all"),title:"Clear All Blocks",children:""})]})]}),w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"Color"}),w.jsx("div",{className:"color-picker-grid",children:ch.map(v=>w.jsx("button",{className:`color-picker-button color-${v} ${s.selectedColor===v?"active":""}`,onClick:()=>d(v),title:v},v))})]}),w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"Shape Picker"}),w.jsxs("div",{className:"shape-picker-grid",children:[w.jsx("button",{className:"shape-picker-button",onClick:()=>m("I"),title:"I-Piece (4-block line)",children:"I"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>m("O"),title:"O-Piece (2x2 square)",children:"O"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>m("T"),title:"T-Piece",children:"T"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>m("S"),title:"S-Piece",children:"S"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>m("Z"),title:"Z-Piece",children:"Z"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>m("J"),title:"J-Piece",children:"J"}),w.jsx("button",{className:"shape-picker-button",onClick:()=>m("L"),title:"L-Piece",children:"L"})]})]}),w.jsxs("div",{className:"debug-tool-section",children:[w.jsx("div",{className:"debug-tool-label",children:"View Options"}),w.jsx("div",{className:"debug-tools-grid",children:w.jsx("button",{className:`debug-tool-button ${s.showGridDots?"active":""}`,onClick:h,title:"Toggle Dragging Shape Grid Dots",children:""})})]}),w.jsx("div",{className:"debug-tool-section",children:w.jsx("button",{className:"debug-close-editor-button",onClick:l,children:"Close Editor"})})]})]}),document.body):null},fh=({onShowTutorial:s})=>{const[l,i]=A.useState(!1),[d,u]=A.useState(!1),c=A.useRef(null),h=A.useRef(null),{isMuted:y,toggleMute:m}=pl(),{isMuted:v,toggleMute:p}=qp(),g=ft(),{openEditor:E}=hl(),[_,k]=A.useState(!1),[M,O]=A.useState(0);A.useEffect(()=>{Fp().then(k)},[]),A.useEffect(()=>{l||O(0);const V=oe=>{l&&oe.key==="Escape"&&i(!1)};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[l]);const W=V=>{const oe=M+1;O(oe),oe>=20&&(k(!0),jp(!0),g({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:20},mousePosition:{x:V.clientX,y:V.clientY}}}))},U=()=>{i(!l)},D=()=>{u(!d)},j=async()=>{try{await Hp(),g({type:"RESET_GAME"}),globalThis.location.reload()}catch(V){console.error("Failed to reset game:",V),g({type:"RESET_GAME"})}},G=()=>{globalThis.confirm(` WARNING: This will delete ALL data including your settings, clear the cache, and reload the app from the server.

This is only needed if the app is in a bad state.

Are you sure you want to continue?`)&&(localStorage.removeItem("hasSeenTutorial"),Qp().catch(oe=>{console.error("Failed to clear all data:",oe),alert("Failed to clear data completely. Reloading anyway..."),globalThis.location.reload()}))},J=V=>{const oe={x:V.clientX,y:V.clientY};g({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:1e3},mousePosition:oe}})},Z=V=>{V.target===V.currentTarget&&i(!1)};return A.useEffect(()=>{const V=oe=>{oe.key==="Escape"&&i(!1)};return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[]),w.jsxs("div",{className:"menu-dropdown",ref:c,children:[w.jsx("button",{ref:h,className:"hamburger-button",onClick:U,title:"Menu","aria-label":"Open menu","aria-expanded":l,children:w.jsxs("div",{className:"hamburger-lines",children:[w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{})]})}),l&&ws.createPortal(w.jsx("div",{className:"dropdown-overlay",onClick:Z,children:w.jsxs("div",{className:"dropdown-content",children:[w.jsxs("div",{className:"menu-item",children:[w.jsxs("label",{className:"toggle-switch",title:y?"Turn on music":"Turn off music",children:[w.jsx("input",{type:"checkbox",checked:!y,onChange:m,className:"toggle-input","aria-label":y?"Turn on background music":"Turn off background music"}),w.jsx("span",{className:"toggle-slider"})]}),w.jsx("span",{className:"menu-label",children:"Music"})]}),w.jsxs("div",{className:"menu-item",children:[w.jsxs("label",{className:"toggle-switch",title:v?"Turn on sound effects":"Turn off sound effects",children:[w.jsx("input",{type:"checkbox",checked:!v,onChange:p,className:"toggle-input","aria-label":v?"Turn on sound effects":"Turn off sound effects"}),w.jsx("span",{className:"toggle-slider"})]}),w.jsx("span",{className:"menu-label",children:"Sound Effects"})]}),s&&w.jsx("div",{className:"menu-item",children:w.jsx("button",{className:"menu-action-button",onClick:()=>{s(),i(!1)},title:"Show the tutorial overlay",children:"Tutorial"})}),w.jsx("div",{className:"menu-item",children:w.jsx("button",{className:"menu-action-button",onClick:j,title:"Reset the game and clear all saved data (preserves settings)",children:"New Game"})}),w.jsx("div",{className:"menu-item",children:w.jsx("a",{className:"menu-action-button menu-link-button",href:"/strategy-guide.html",title:"Read the Tetrix strategy guide",children:"Strategy Guide"})}),w.jsx("div",{className:"menu-item debug-submenu",children:_?w.jsxs("button",{className:"debug-toggle",onClick:D,"aria-expanded":d,children:[w.jsx("span",{className:"menu-label",children:"Debug"}),w.jsx("span",{className:`debug-arrow ${d?"open":""}`,children:""})]}):w.jsx("button",{className:"debug-toggle hidden-debug-trigger",onClick:W,style:{opacity:0,cursor:"default"},"aria-hidden":"true",children:w.jsx("span",{className:"menu-label",children:"Debug"})})}),d&&w.jsxs("div",{className:"debug-submenu-content",children:[w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button",onClick:J,title:"Inject points to test the gem shower system! Try 100, 1000, or 999999 points.",children:"Inject Points"})}),w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button",onClick:()=>{E(),i(!1)},title:"Open the debug editor to manually edit the game grid",children:"Debug Editor"})}),w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button",onClick:()=>{g({type:"OPEN_MAP"}),i(!1)},title:"Open the Level Map overlay (dev only)",children:"Open Level Map"})}),w.jsx("div",{className:"menu-item submenu-item",children:w.jsx("button",{className:"debug-action-button danger",onClick:G,title:" Nuclear option: Clear ALL data including settings and reload fresh from server",children:"Clear All Data"})})]}),w.jsxs("div",{className:"menu-qr-code",children:[w.jsx("p",{className:"qr-label",children:"Share this game"}),w.jsx("div",{className:"qr-code-wrapper",children:w.jsx(Yc,{value:"https://tetrix-game.github.io",size:128,bgColor:"#023f80",fgColor:"#ffffff"})})]})]})}),document.body)]})},ph=()=>{const{gameState:s}=st(),l=ft(),i=d=>{if(d.shiftKey){l(s==="playing"?{type:"OPEN_MAP"}:{type:"CLOSE_MAP"});return}if(s==="playing"){const u=new CustomEvent("tetrix-show-toast",{detail:{message:"Level Map Coming Soon!"}});window.dispatchEvent(u)}else l({type:"CLOSE_MAP"})};return w.jsx("button",{className:"location-button",onClick:i,"aria-label":"Toggle Level Map",children:w.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),w.jsx("path",{d:"M12 6.5l1.09 2.21 2.44.36-1.77 1.72.42 2.44L12 11.77l-2.18 1.46.42-2.44-1.77-1.72 2.44-.36L12 6.5z",fill:"currentColor"})]})})},hh=()=>{const s=A.useRef(null),{hasPlacedFirstShape:l}=st(),{isMuted:i,shouldPlayMusic:d,triggerAutoplay:u}=pl(),c=A.useRef(!1),h=Ae.useMemo(()=>["/sound/bgm/Jazz2_KEY_C_in_C.mp3","/sound/bgm/Jazz3_KEY_Ab_in_C.mp3","/sound/bgm/Jazz4_KEY_C_in_C.mp3"],[]);return A.useEffect(()=>{if(l&&!c.current){const y=setTimeout(()=>{c.current=!0,u()},1e3);return()=>clearTimeout(y)}else!l&&c.current&&(c.current=!1)},[l,u]),A.useEffect(()=>{const y=s.current;if(!y)return;const m=()=>{const g=Math.floor(Math.random()*h.length);return h[g]},v=async()=>{if(d&&!i){y.src=m(),y.loop=!1,y.volume=.3;try{await y.play()}catch(g){console.log("Auto-play was prevented by browser policy:",g)}}},p=()=>{d&&!i&&v()};return y.addEventListener("ended",p),d&&!i?y.paused&&v():y.pause(),()=>{y.removeEventListener("ended",p)}},[d,i,h]),w.jsx("div",{className:"background-music",children:w.jsx("audio",{ref:s,preload:"auto",children:w.jsx("track",{kind:"captions"})})})};function mh(s,l){const i=Math.pow(s,2),d=Math.pow(l,2),u=s>0&&l>0?s*l*2:0,h=(i+d+u)*5;return{rowsCleared:s,columnsCleared:l,pointsEarned:h}}function gh(s){if(s<1e3)return s.toString();const l=[{value:1e18,suffix:"Q"},{value:1e15,suffix:"q"},{value:1e12,suffix:"t"},{value:1e9,suffix:"b"},{value:1e6,suffix:"m"},{value:1e3,suffix:"k"}];for(const{value:i,suffix:d}of l)if(s>=i){const u=s/i;return u>=100?Math.round(u)+d:(Math.round(u*10)/10).toFixed(1)+d}return s.toString()}const ld=({size:s,className:l=""})=>{const i=s?{width:s,height:s}:{};return w.jsxs("svg",{...i,viewBox:"0 0 24 24",className:`blue-gem-icon ${l}`,xmlns:"http://www.w3.org/2000/svg",children:[w.jsxs("defs",{children:[w.jsxs("linearGradient",{id:"blueGemGradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[w.jsx("stop",{offset:"0%",stopColor:"#87CEEB"}),w.jsx("stop",{offset:"30%",stopColor:"#4169E1"}),w.jsx("stop",{offset:"70%",stopColor:"#1E3A8A"}),w.jsx("stop",{offset:"100%",stopColor:"#0F1629"})]}),w.jsxs("linearGradient",{id:"blueGemGradient2",x1:"0%",y1:"0%",x2:"100%",y2:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"#B0E0E6"}),w.jsx("stop",{offset:"50%",stopColor:"#4682B4"}),w.jsx("stop",{offset:"100%",stopColor:"#2E3A59"})]}),w.jsxs("linearGradient",{id:"blueGemHighlight",x1:"0%",y1:"0%",x2:"70%",y2:"30%",children:[w.jsx("stop",{offset:"0%",stopColor:"#E0F6FF",stopOpacity:"0.8"}),w.jsx("stop",{offset:"100%",stopColor:"#87CEEB",stopOpacity:"0.3"})]}),w.jsxs("filter",{id:"gemGlow",children:[w.jsx("feGaussianBlur",{stdDeviation:"0.5"}),w.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.25 0 0 0 0 0.41 0 0 0 0 0.88 0 0 0 0.8 0"})]})]}),w.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"url(#blueGemGradient1)",stroke:"#1E40AF",strokeWidth:"0.5"}),w.jsx("path",{d:"M12 2 L18 8 L12 10 L6 8 Z",fill:"url(#blueGemGradient2)",stroke:"#2563EB",strokeWidth:"0.3"}),w.jsx("path",{d:"M6 8 L12 10 L12 22 Z",fill:"url(#blueGemGradient1)",opacity:"0.7"}),w.jsx("path",{d:"M12 10 L18 8 L12 22 Z",fill:"#1E3A8A",opacity:"0.6"}),w.jsx("path",{d:"M12 2 L15 6 L12 8 L9 6 Z",fill:"url(#blueGemHighlight)"}),w.jsx("path",{d:"M12 2 L18 8 L12 22 L6 8 Z",fill:"none",stroke:"#4169E1",strokeWidth:"0.5",filter:"url(#gemGlow)",opacity:"0.6"})]})},vh=[{title:"General",categories:["shapesPlaced","linesCleared"],className:"stats-group-general"},{title:"Rows",categories:["rowsCleared","doubleRows","tripleRows","quadrupleRows","doubleRowsWithSingleColumns","tripleRowsWithSingleColumns","tripleRowsWithDoubleColumns","quadrupleRowsWithSingleColumns"]},{title:"Columns",categories:["columnsCleared","doubleColumns","tripleColumns","quadrupleColumns","doubleColumnsWithSingleRows","tripleColumnsWithDoubleRows","tripleColumnsWithSingleRows","quadrupleColumnsWithSingleRows"]},{title:"Squares",categories:["singleColumnBySingleRow","doubleColumnByDoubleRow"]},{title:"Legendary",categories:["quadrupleRowByQuadrupleColumn"],className:"stats-group-legendary"}],yh={shapesPlaced:"Shapes Placed",linesCleared:"Lines Cleared",rowsCleared:"Rows Cleared",doubleRows:"2R",tripleRows:"3R",quadrupleRows:"4R",doubleRowsWithSingleColumns:"2R x 1C",tripleRowsWithSingleColumns:"3R x 1C",tripleRowsWithDoubleColumns:"3R x 2C",quadrupleRowsWithSingleColumns:"4R x 1C",columnsCleared:"Columns Cleared",doubleColumns:"2C",tripleColumns:"3C",quadrupleColumns:"4C",doubleColumnsWithSingleRows:"2C x 1R",tripleColumnsWithDoubleRows:"3C x 2R",tripleColumnsWithSingleRows:"3C x 1R",quadrupleColumnsWithSingleRows:"4C x 1R",singleColumnBySingleRow:"1R x 1C",doubleColumnByDoubleRow:"2R x 2C",quadrupleRowByQuadrupleColumn:"4R x 4C"},wh=["blue","green","red","yellow","purple","orange"],Sh=({onClose:s})=>{const{stats:l,gameState:i}=st(),d=ft(),u=()=>{d({type:"RESET_GAME"}),s()},c=h=>{const y=l.allTime[h],m=l.highScore[h],v=l.current[h];if(y.total===0)return null;const p=v.total>0&&v.total>=m.total;return w.jsxs("div",{className:"stat-row-container",children:[w.jsxs("div",{className:"stat-row main-stat",children:[w.jsx("div",{className:"stat-label",children:yh[h]}),w.jsx("div",{className:"stat-value",children:y.total}),w.jsx("div",{className:"stat-value",children:m.total}),w.jsxs("div",{className:`stat-value ${p?"highlight":""}`,children:[v.total,p&&v.total>0&&w.jsx("span",{className:"streak-indicator",children:""})]})]}),wh.map(g=>{const E=y.colors[g]||0;if(E===0)return null;const _=v.colors[g]||0,k=m.colors[g]||0,M=_>0&&_>=k;return w.jsxs("div",{className:"stat-row color-stat",style:{"--stat-color":`var(--color-${g})`},children:[w.jsxs("div",{className:"stat-label",style:{color:`var(--color-${g})`},children:[" ",g.charAt(0).toUpperCase()+g.slice(1)]}),w.jsx("div",{className:"stat-value",children:E}),w.jsx("div",{className:"stat-value",children:k}),w.jsx("div",{className:`stat-value ${M?"highlight":""}`,children:_})]},`${h}-${g}`)})]},h)};return w.jsx("div",{className:"stats-overlay-backdrop",onClick:s,children:w.jsxs("div",{className:"stats-overlay-content",onClick:h=>h.stopPropagation(),children:[w.jsxs("div",{className:"stats-header",children:[w.jsx("h2",{children:"Statistics"}),w.jsx("button",{className:"close-button",onClick:s,children:""})]}),w.jsxs("div",{className:"stats-table-header",children:[w.jsx("div",{className:"header-label",children:"Category"}),w.jsx("div",{className:"header-value",children:"All Time"}),w.jsx("div",{className:"header-value",children:"Best"}),w.jsx("div",{className:"header-value",children:"Current"})]}),w.jsx("div",{className:"stats-scroll-container",children:vh.map((h,y)=>{const m=h.categories.map(c).filter(Boolean);return m.length===0?null:w.jsxs("div",{className:`stats-group ${h.className||""}`,children:[y>0&&w.jsx("div",{className:`group-divider ${h.className==="stats-group-legendary"?"legendary-divider":""}`}),m]},h.title)})}),i==="gameover"&&w.jsx("div",{className:"stats-footer",children:w.jsx("button",{className:"new-game-button",onClick:u,children:"New Game"})})]})})},Eh=({targetPosition:s,isVisible:l,message:i,arrowLength:d=100,offsetFromTarget:u=60})=>{const c=A.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]);if(!l||!s)return null;const h={x:s.x-c.x,y:s.y-c.y},m=Math.atan2(h.y,h.x)*(180/Math.PI),v=Math.sqrt(h.x*h.x+h.y*h.y),p={x:h.x/v,y:h.y/v},g={x:s.x-p.x*u,y:s.y-p.y*u};return w.jsxs("div",{className:"attention-arrow-container",style:{left:g.x,top:g.y,transform:`translate(-50%, -50%) rotate(${m}deg)`,"--arrow-length":`${d}px`},children:[w.jsxs("div",{className:"attention-arrow-body",children:[w.jsx("div",{className:"attention-arrow-shaft"}),w.jsx("div",{className:"attention-arrow-head"})]}),i&&w.jsx("div",{className:"attention-arrow-message",style:{transform:`rotate(${-m}deg)`},children:i})]})},Ic=(s,l=1200)=>{const[i,d]=A.useState(!1);return A.useEffect(()=>{if(s){d(!0);const u=setTimeout(()=>d(!1),l);return()=>clearTimeout(u)}},[s,l]),i},xh=()=>{const{score:s,gameState:l,isStatsOpen:i,insufficientFundsError:d,gemIconPosition:u}=st(),c=ft(),h=A.useRef(null),y=Ic(d),m=Ic(d,2500);A.useEffect(()=>{if(h.current){const g=()=>{var _;const E=(_=h.current)==null?void 0:_.getBoundingClientRect();if(E){const k={x:E.left+E.width/2,y:E.top+E.height/2};c({type:"UPDATE_GEM_ICON_POSITION",value:k})}};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)}},[c]);const v=()=>{c({type:"OPEN_STATS"})},p=()=>{c({type:"CLOSE_STATS"})};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`score-display ${l==="gameover"?"score-display-pulsing":""} ${y?"error-pulse":""}`,onClick:v,style:{cursor:"pointer"},title:"Click to view stats",children:[w.jsx("div",{ref:h,children:w.jsx(ld,{})}),w.jsx("span",{className:"score-display-value",children:gh(s)})]}),w.jsx(Eh,{targetPosition:u,isVisible:m,message:"Need points to turn shapes!",offsetFromTarget:50}),i&&w.jsx(Sh,{onClose:p})]})};let fl=null;function Rn(s,l){fl?fl(s,l):console.warn("SoundEffectsProvider not initialized yet")}const id=A.createContext(void 0),Ch=({children:s})=>{const[l,i]=A.useState(!1),d=A.useRef(new Map),u=A.useRef(null),c=A.useRef(!1);A.useEffect(()=>{(async()=>{const g=window.AudioContext||window.webkitAudioContext;if(!g)return;const E=new g;u.current=E;const _={click_into_place:"/sound/soundEffects/click_into_place.mp3",game_over:"/sound/soundEffects/game_over.mp3",pickup_shape:"/sound/soundEffects/pickup_shape.mp3",invalid_placement:"/sound/soundEffects/Invalid_Placement.mp3",clear_combo_1:"/sound/soundEffects/clear-combo-1.mp3",clear_combo_2:"/sound/soundEffects/clear-combo-2.mp3",clear_combo_3:"/sound/soundEffects/clear-combo-3.mp3",clear_combo_4:"/sound/soundEffects/clear-combo-4.mp3"};for(const[k,M]of Object.entries(_))try{const W=await(await fetch(M)).arrayBuffer(),U=await E.decodeAudioData(W);d.current.set(k,U),console.log(`Loaded sound: ${k}`)}catch(O){console.error(`Failed to load sound ${k}:`,O)}})()},[]),A.useEffect(()=>{const p=()=>{var g;c.current=!0,((g=u.current)==null?void 0:g.state)==="suspended"&&u.current.resume(),document.removeEventListener("click",p),document.removeEventListener("keydown",p)};return document.addEventListener("click",p,{once:!0}),document.addEventListener("keydown",p,{once:!0}),()=>{document.removeEventListener("click",p),document.removeEventListener("keydown",p)}},[]),A.useEffect(()=>{(async()=>{try{const g=await $p();i(g)}catch{try{const g=localStorage.getItem("tetrix-soundeffects-muted");i(g?JSON.parse(g):!1)}catch{i(!1)}}})()},[]);const h=A.useCallback(p=>{const g=u.current;if(!g)return;const E=g.createOscillator(),_=g.createGain();E.connect(_),_.connect(g.destination),E.type="sine",E.frequency.setValueAtTime(60,p),E.frequency.exponentialRampToValueAtTime(40,p+.1),_.gain.setValueAtTime(0,p),_.gain.linearRampToValueAtTime(.3,p+.02),_.gain.exponentialRampToValueAtTime(.001,p+.2),E.start(p),E.stop(p+.25);const k=p+.25,M=g.createOscillator(),O=g.createGain();M.connect(O),O.connect(g.destination),M.type="sine",M.frequency.setValueAtTime(60,k),M.frequency.exponentialRampToValueAtTime(40,k+.1),O.gain.setValueAtTime(0,k),O.gain.linearRampToValueAtTime(.25,k+.02),O.gain.exponentialRampToValueAtTime(.001,k+.2),M.start(k),M.stop(k+.25)},[]),y=A.useCallback((p,g)=>{if(!c.current||l)return;if(p==="heartbeat"){const k=u.current;if(k){const M=performance.now(),O=(g??M)-M,W=k.currentTime+Math.max(0,O/1e3);h(W)}return}const E=u.current,_=d.current.get(p);if(E&&_){const k=E.createBufferSource();k.buffer=_;const M=E.createGain();M.gain.value=.2,k.connect(M),M.connect(E.destination);const O=performance.now(),W=(g??O)-O,U=E.currentTime+Math.max(0,W/1e3);k.start(U),console.log(`Playing sound: ${p} at ${U}`)}else console.warn(`Sound effect '${p}' not found or context not ready`)},[l,h]);A.useEffect(()=>(fl=y,()=>{fl=null}),[y]);const m=A.useCallback(p=>{i(p),Lp(p).catch(g=>{console.error("Failed to save sound effects mute state:",g);try{localStorage.setItem("tetrix-soundeffects-muted",JSON.stringify(p))}catch(E){console.error("Failed to save to localStorage:",E)}})},[]),v={playSound:y,setMuted:m,isMuted:l};return w.jsx(id.Provider,{value:v,children:s})},Ns=()=>{const s=A.useContext(id);if(!s)throw new Error("useSoundEffects must be used within a SoundEffectsProvider");return s},kh=({onShowTutorial:s})=>{const{isMuted:l,setMuted:i}=Ns();pl();const d=A.useCallback(()=>{i(!l)},[l,i]),u=A.useMemo(()=>({isMuted:l,toggleMute:d}),[l,d]);return w.jsx(td.Provider,{value:u,children:w.jsxs("div",{className:"header",children:[w.jsx(hh,{}),w.jsx(fh,{onShowTutorial:s}),w.jsx("div",{className:"header-center",children:w.jsx(xh,{})}),w.jsx(ph,{})]})})};function Ps({block:s,size:l}){if(!s.isFilled)return w.jsx(w.Fragment,{});const i={};return l!==void 0&&(i["--block-border-width"]=`${l*.2}px`,i["--block-shadow-inset"]=`${l*.5}px`),w.jsx("div",{className:`block-visual block-color-${s.color}`,style:i})}const Nh=({tile:s,isHovered:l=!1,hoveredBlock:i,onClick:d,size:u})=>{const{dragState:c,tiles:h}=st(),[,y]=A.useState(0);A.useEffect(()=>{const U=`R${s.location.row}C${s.location.column}`,D=h.get(U);if(!(D!=null&&D.activeAnimations)||D.activeAnimations.length===0)return;let j;const G=()=>{y(J=>J+1),j=requestAnimationFrame(G)};return j=requestAnimationFrame(G),()=>cancelAnimationFrame(j)},[h,s.location.row,s.location.column]);const m=`R${s.location.row}C${s.location.column}`,v=h.get(m),p=(v==null?void 0:v.activeAnimations)||[],g=performance.now(),E=p.filter(U=>g>=U.startTime&&g<U.startTime+U.duration),_=s.block,k=l&&i,O=`tile-visual ${(s.location.row+s.location.column)%2===0?"tile-visual-dark":"tile-visual-light"}`;let W=0;return k&&(W=c.isValidPlacement?.7:.4),w.jsxs("div",{className:O,style:{gridColumn:s.location.column,gridRow:s.location.row},onClick:d,children:[w.jsx(Ps,{block:_,size:u}),k&&w.jsx("div",{className:"tile-visual-shadow",style:{"--shadow-opacity":W}}),E.map(U=>{const D=g-U.startTime,j=Math.min(D/U.duration,1),G=Math.max(0,U.startTime-g),J={"--animation-progress":j,"--animation-duration":`${U.duration}ms`,"--animation-delay":`${G}ms`};if(U.color&&(J["--animation-color"]=U.color),U.type==="row-quad"||U.type==="column-quad"){const Z=U.beatCount??3,V=U.finishDuration??0,oe=(U.duration-V)/Z;J["--beat-count"]=Z,J["--animation-duration"]=`${oe}ms`,J["--finish-duration"]=`${V}ms`}return w.jsx("div",{className:`tile-visual-clearing ${U.type}`,style:J},U.id)})]})},Ph=Ae.memo(Nh),Zr=()=>{const[s,l]=A.useState({width:window.innerWidth,height:window.innerHeight});return A.useEffect(()=>{const d=()=>{l({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),A.useMemo(()=>{const{width:d,height:u}=s,c=d>=u,h=u*.9,y=d,m=20,v=40;let p,g,E;if(c){const W=y-m-v,U=h-v,j=W*(1-.35);p=Math.min(j,U),E=Math.min(W-p,p*.6);const G=p+m+E;if(G>y-v){const J=(y-v)/G;p*=J,E*=J}g=p}else{const W=h-m-v,U=y-v,j=W*(1-.35);p=Math.min(j,U),E=Math.min(W-p,p*.6);const G=p+m+E;if(G>h-v){const J=(h-v)/G;p*=J,E*=J}g=p}const _=2,k=_*9,M=(p-k)/10,O=E*.9;return{gridSize:p,gridCellSize:M,gridGap:_,gameControlsLength:g,gameControlsWidth:E,buttonSize:O}},[s])};function Th(){const{state:s}=hl(),l=ft(),i=A.useCallback(d=>{if(s.isEditorOpen)switch(s.currentTool){case"add-block":l({type:"DEBUG_ADD_BLOCK",value:{location:d,color:s.selectedColor}});break;case"fill-row":l({type:"DEBUG_FILL_ROW",value:{row:d.row,excludeColumn:d.column,color:s.selectedColor}});break;case"fill-column":l({type:"DEBUG_FILL_COLUMN",value:{column:d.column,excludeRow:d.row,color:s.selectedColor}});break;case"remove":l({type:"DEBUG_REMOVE_BLOCK",value:{location:d}});break;case"clear-all":l({type:"DEBUG_CLEAR_ALL"});break}},[s.isEditorOpen,s.currentTool,s.selectedColor,l]);return{isDebugMode:s.isEditorOpen,handleDebugClick:i}}const Ts={PICKUP_DURATION:300,PLACING_DURATION:300,RETURN_DURATION:300,PLACEMENT_SOUND_DURATION:97,REMOVAL_DURATION:300,INVALID_BLOCK_ANIMATION_DURATION:200};function _h(s,l){var i,d;switch(l.type){case"SELECT_SHAPE":{const{shapeIndex:u}=l.value,c=s.nextShapes[u],h=s.shapeOptionBounds[u];if(!c||!h)return s;const y=document.querySelector(".grid");if(!y)return{...s,dragState:{phase:"picking-up",selectedShape:c,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:h.left,y:h.top,width:h.width,height:h.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:null}};const m=y.getBoundingClientRect(),v=2,p=9*v,g=(m.width-p)/10,{offsetX:E,offsetY:_}=Kp(c,g,v),k=4*g+3*v,M=4*g+3*v,O=-k/2-E,W=-M/2-_,D="ontouchstart"in globalThis||navigator.maxTouchPoints>0?g*2.5:0;return{...s,dragState:{phase:"picking-up",selectedShape:c,selectedShapeIndex:u,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:{x:h.left,y:h.top,width:h.width,height:h.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now(),dragOffsets:{visualOffsetX:E,visualOffsetY:_,gridOffsetX:O,gridOffsetY:W,touchOffset:D,tileSize:g,gridGap:v}}}}case"UPDATE_MOUSE_LOCATION":{const{location:u,position:c,tileSize:h,gridBounds:y,isValid:m,invalidBlocks:v}=l.value;if(s.dragState.phase==="placing"||s.dragState.phase==="returning")return{...s,mouseGridLocation:u,mousePosition:c??s.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:h??s.gridTileSize??null,gridBounds:y??s.gridBounds??null,dragState:s.dragState};const p=s.dragState.selectedShape&&u?gs(s.dragState.selectedShape,u):[],g=v??[],_=s.dragState.phase==="picking-up"&&s.dragState.startTime&&performance.now()-s.dragState.startTime>Ts.PICKUP_DURATION?{...s.dragState,phase:"dragging",hoveredBlockPositions:p,invalidBlockPositions:g,isValidPlacement:m??!1}:{...s.dragState,hoveredBlockPositions:p,invalidBlockPositions:g,isValidPlacement:m??!1};return{...s,mouseGridLocation:u,mousePosition:c??s.mousePosition??{x:window.innerWidth/2,y:window.innerHeight/2},gridTileSize:h??s.gridTileSize??null,gridBounds:y??s.gridBounds??null,dragState:_}}case"PLACE_SHAPE":{const{location:u,mousePosition:c}=l.value;if(!s.dragState.selectedShape||s.dragState.selectedShapeIndex===null||!s.gridTileSize||!s.gridBounds)return s;const h=c||s.mousePosition;if(!h)return s;const y=((i=s.dragState.dragOffsets)==null?void 0:i.tileSize)??s.gridTileSize,m=((d=s.dragState.dragOffsets)==null?void 0:d.gridGap)??2;if(!y||!s.gridBounds)return s;const v=y+m,p=gs(s.dragState.selectedShape,u);let g=1/0,E=-1/0,_=1/0,k=-1/0;p.forEach(j=>{g=Math.min(g,j.location.row),E=Math.max(E,j.location.row),_=Math.min(_,j.location.column),k=Math.max(k,j.location.column)});const M=(g+E)/2,O=(_+k)/2,W=s.gridBounds.left+(O-1)*v+y/2,U=s.gridBounds.top+(M-1)*v+y/2,D=s.mousePosition?{x:s.mousePosition.x,y:s.mousePosition.y}:h;return{...s,dragState:{...s.dragState,phase:"placing",targetPosition:{x:W,y:U},placementLocation:u,placementStartPosition:D,hoveredBlockPositions:p,startTime:performance.now()},mouseGridLocation:u,mousePosition:h}}case"COMPLETE_RETURN":return{...s,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};case"RETURN_SHAPE_TO_SELECTOR":{if(s.dragState.selectedShape&&s.dragState.selectedShapeIndex!==null){const u=s.shapeOptionBounds[s.dragState.selectedShapeIndex];if(u&&(s.dragState.phase==="dragging"||s.dragState.phase==="picking-up"))return{...s,dragState:{...s.dragState,phase:"returning",sourcePosition:{x:u.left,y:u.top,width:u.width,height:u.height},targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:performance.now()}}}return{...s,mouseGridLocation:null,mousePosition:s.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}}}case"CLEAR_SELECTION":return{...s,mouseGridLocation:null,mousePosition:s.mousePosition,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}};default:return s}}function Rh(s,l){switch(l.type){case"SET_AVAILABLE_SHAPES":{const{shapes:i}=l.value,d=[...i],u={...s,nextShapes:d,openRotationMenus:new Array(d.length).fill(!1),shapeOptionBounds:new Array(d.length).fill(null),newShapeAnimationStates:new Array(d.length).fill("none")};return qe(void 0,void 0,d,u.savedShape).catch(c=>{console.error("Failed to save shapes state:",c)}),u}case"ROTATE_SHAPE":{const{shapeIndex:i,clockwise:d}=l.value;if(i<0||i>=s.nextShapes.length)return s;const u=[...s.nextShapes];let c=xs(u[i]);d?c=On(c):c=On(On(On(c))),u[i]=c;const h=s.dragState.selectedShapeIndex===i?{...s.dragState,selectedShape:c}:s.dragState,y={...s,nextShapes:u,dragState:h};return qe(void 0,void 0,u,y.savedShape).catch(m=>{console.error("Failed to save shapes state:",m)}),y}case"ADD_SHAPE_OPTION":{const i=ks(),d=[...s.nextShapes,i],u={...s,nextShapes:d,openRotationMenus:[...s.openRotationMenus,!1],shapeOptionBounds:[...s.shapeOptionBounds,null],newShapeAnimationStates:[...s.newShapeAnimationStates,"none"]};return qe(void 0,void 0,d,u.savedShape).catch(c=>{console.error("Failed to save shapes state:",c)}),u}case"REMOVE_SHAPE_OPTION":{if(s.nextShapes.length<=1)return s;const i=s.nextShapes.slice(0,-1),d=s.openRotationMenus.slice(0,-1),u=s.shapeOptionBounds.slice(0,-1),c=s.newShapeAnimationStates.slice(0,-1),y=s.dragState.selectedShapeIndex===s.nextShapes.length-1?{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null}:s.dragState,m={...s,nextShapes:i,openRotationMenus:d,shapeOptionBounds:u,newShapeAnimationStates:c,dragState:y};return qe(void 0,void 0,i,m.savedShape).catch(v=>{console.error("Failed to save shapes state:",v)}),m}case"SET_SHAPE_OPTION_BOUNDS":{const{index:i,bounds:d}=l.value,u=[...s.shapeOptionBounds];return u[i]=d,{...s,shapeOptionBounds:u}}case"START_SHAPE_REMOVAL":{const{shapeIndex:i}=l.value;return{...s,removingShapeIndex:i,shapeRemovalAnimationState:"removing"}}case"COMPLETE_SHAPE_REMOVAL":{if(s.removingShapeIndex===null)return s;const i=s.removingShapeIndex,d=s.nextShapes.filter((h,y)=>y!==i),u=s.openRotationMenus.filter((h,y)=>y!==i),c=s.newShapeAnimationStates.filter((h,y)=>y!==i);return{...s,nextShapes:d,openRotationMenus:u,newShapeAnimationStates:c,shapeOptionBounds:new Array(d.length).fill(null),removingShapeIndex:null,shapeRemovalAnimationState:"none",shapesUsed:s.shapesUsed+1}}default:return s}}const Qt=10;function eo(s,l){return`R${s}C${l}`}function Mh(s,l){for(let i=1;i<=Qt;i++){const d=s.get(eo(l,i));if(!d||!d.isFilled)return!1}return!0}function Oh(s,l){for(let i=1;i<=Qt;i++){const d=s.get(eo(i,l));if(!d||!d.isFilled)return!1}return!0}function Ah(s){const l=[];for(let i=1;i<=Qt;i++)Mh(s,i)&&l.push(i);return l}function Dh(s){const l=[];for(let i=1;i<=Qt;i++)Oh(s,i)&&l.push(i);return l}function Lh(s,l){if(l.length===0)return s;const i=new Map(s),d=new Set(l);for(let u=1;u<=Qt;u++)if(d.has(u))for(let c=1;c<=Qt;c++)i.set(eo(u,c),{isFilled:!1,color:"grey"});return i}function Ih(s,l){if(l.length===0)return s;const i=new Map(s),d=new Set(l);for(let u=1;u<=Qt;u++)if(d.has(u))for(let c=1;c<=Qt;c++)i.set(eo(c,u),{isFilled:!1,color:"grey"});return i}function jc(s,l,i){let d;for(let u=1;u<=Qt;u++){const c=i?l:u,h=i?u:l,y=s.get(eo(c,h));if(!y||!y.isFilled)return;if(!d)d=y.color;else if(y.color!==d)return}return d}function jh(s){const l=Ah(s),i=Dh(s),d=l.map(h=>({index:h,color:jc(s,h,!0)})),u=i.map(h=>({index:h,color:jc(s,h,!1)}));let c=Lh(s,l);return c=Ih(c,i),{tiles:c,clearedRows:d,clearedColumns:u,totalLinesCleared:l.length+i.length}}const pn={rows:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}},columns:{single:{duration:500,waveDelay:30,startDelay:0},double:{duration:500,waveDelay:30,startDelay:0},triple:{duration:600,waveDelay:40,startDelay:0},quad:{duration:1600,waveDelay:20,startDelay:0,beatCount:3,finishDuration:400}}};let Fh=0;function hn(){return`anim-${Date.now()}-${Fh++}`}function mn(s,l){return s*l}function zh(s,l,i,d={}){var p,g,E,_,k,M,O,W;const u={rows:{single:{...pn.rows.single,...(p=d.rows)==null?void 0:p.single},double:{...pn.rows.double,...(g=d.rows)==null?void 0:g.double},triple:{...pn.rows.triple,...(E=d.rows)==null?void 0:E.triple},quad:{...pn.rows.quad,...(_=d.rows)==null?void 0:_.quad}},columns:{single:{...pn.columns.single,...(k=d.columns)==null?void 0:k.single},double:{...pn.columns.double,...(M=d.columns)==null?void 0:M.double},triple:{...pn.columns.triple,...(O=d.columns)==null?void 0:O.triple},quad:{...pn.columns.quad,...(W=d.columns)==null?void 0:W.quad}},baseStartTime:d.baseStartTime},c=u.baseStartTime??performance.now(),h=new Map(s),y=(U,D)=>`R${U}C${D}`,m=l.length,v=i.length;for(const{index:U,color:D}of l)for(let j=1;j<=10;j++){const G=y(U,j),J=h.get(G);if(!J)continue;const Z=[],V=mn(j-1,u.rows.single.waveDelay);if(Z.push({id:hn(),type:"row-cw",startTime:c+u.rows.single.startDelay+V,duration:u.rows.single.duration,color:D}),m>=2){const oe=mn(j-1,u.rows.double.waveDelay);Z.push({id:hn(),type:"row-double",startTime:c+u.rows.double.startDelay+oe,duration:u.rows.double.duration,color:D})}if(m>=3){const oe=mn(j-1,u.rows.triple.waveDelay);Z.push({id:hn(),type:"row-triple",startTime:c+u.rows.triple.startDelay+oe,duration:u.rows.triple.duration,color:D})}if(m>=4){const oe=mn(j-1,u.rows.quad.waveDelay);Z.push({id:hn(),type:"row-quad",startTime:c+u.rows.quad.startDelay+oe,duration:u.rows.quad.duration,beatCount:u.rows.quad.beatCount,finishDuration:u.rows.quad.finishDuration,color:D})}h.set(G,{...J,activeAnimations:[...J.activeAnimations||[],...Z]})}for(const{index:U,color:D}of i)for(let j=1;j<=10;j++){const G=y(j,U),J=h.get(G);if(!J)continue;const Z=[],V=mn(j-1,u.columns.single.waveDelay);if(Z.push({id:hn(),type:"column-ccw",startTime:c+u.columns.single.startDelay+V,duration:u.columns.single.duration,color:D}),v>=2){const oe=mn(j-1,u.columns.double.waveDelay);Z.push({id:hn(),type:"column-double",startTime:c+u.columns.double.startDelay+oe,duration:u.columns.double.duration,color:D})}if(v>=3){const oe=mn(j-1,u.columns.triple.waveDelay);Z.push({id:hn(),type:"column-triple",startTime:c+u.columns.triple.startDelay+oe,duration:u.columns.triple.duration,color:D})}if(v>=4){const oe=mn(j-1,u.columns.quad.waveDelay);Z.push({id:hn(),type:"column-quad",startTime:c+u.columns.quad.startDelay+oe,duration:u.columns.quad.duration,beatCount:u.columns.quad.beatCount,finishDuration:u.columns.quad.finishDuration,color:D})}h.set(G,{...J,activeAnimations:[...J.activeAnimations||[],...Z]})}return h}function Uh(s,l=performance.now()){const i=new Map(s);let d=!1;for(const[u,c]of i.entries()){if(!c.activeAnimations||c.activeAnimations.length===0)continue;const h=c.activeAnimations.filter(y=>l<y.startTime+y.duration);h.length!==c.activeAnimations.length&&(d=!0,i.set(u,{...c,activeAnimations:h.length>0?h:void 0}))}return d?i:s}function He(s,l,i){const d=JSON.parse(JSON.stringify(s)),u=Date.now();d.lastUpdated=u;const c=(g,E,_=1)=>{if(d.current[g].total+=_,E){const k=E;d.current[g].colors[k]=(d.current[g].colors[k]||0)+_}if(d.allTime[g].total+=_,E){const k=E;d.allTime[g].colors[k]=(d.allTime[g].colors[k]||0)+_}if(d.current[g].total>d.highScore[g].total&&(d.highScore[g].total=d.current[g].total),E){const k=E,M=d.current[g].colors[k]||0,O=d.highScore[g].colors[k]||0;M>O&&(d.highScore[g].colors[k]=M)}};c("shapesPlaced");const h=l.length+i.length;h>0&&(c("linesCleared",void 0,h),l.forEach(g=>{g.color&&c("linesCleared",g.color)}),i.forEach(g=>{g.color&&c("linesCleared",g.color)})),l.length>0&&(c("rowsCleared",void 0,l.length),l.forEach(g=>{g.color&&c("rowsCleared",g.color)})),i.length>0&&(c("columnsCleared",void 0,i.length),i.forEach(g=>{g.color&&c("columnsCleared",g.color)}));const y=l.length,m=i.length,p=((g,E)=>{const _=[...g,...E];if(_.length===0)return;const k=_[0].color;if(k){for(const M of _)if(M.color!==k)return;return k}})(l,i);return y===2&&m===0&&c("doubleRows",p),y===3&&m===0&&c("tripleRows",p),y===4&&m===0&&c("quadrupleRows",p),m===2&&y===0&&c("doubleColumns",p),m===3&&y===0&&c("tripleColumns",p),m===4&&y===0&&c("quadrupleColumns",p),y===2&&m===1&&c("doubleRowsWithSingleColumns",p),y===3&&m===1&&c("tripleRowsWithSingleColumns",p),y===3&&m===2&&c("tripleRowsWithDoubleColumns",p),y===4&&m===1&&c("quadrupleRowsWithSingleColumns",p),m===2&&y===1&&c("doubleColumnsWithSingleRows",p),m===3&&y===2&&c("tripleColumnsWithDoubleRows",p),m===3&&y===1&&c("tripleColumnsWithSingleRows",p),m===4&&y===1&&c("quadrupleColumnsWithSingleRows",p),y===1&&m===1&&c("singleColumnBySingleRow",p),y===2&&m===2&&c("doubleColumnByDoubleRow",p),y===4&&m===4&&c("quadrupleRowByQuadrupleColumn",p),d}function Bh(s,l,i,d){if(l.length===0)return!1;for(let u=0;u<l.length;u++){const c=l[u],y=d[u]||i>0?4:1;let m=c;for(let v=0;v<y;v++){for(let p=-3;p<=10;p++)for(let g=-3;g<=10;g++)if(vs(m,{row:p,column:g},s))return!1;v<y-1&&(m=On(m))}}return!0}function Mn(s,l){return`R${s}C${l}`}function $h(s){const l=s.match(/R(\d+)C(\d+)/);if(!l)throw new Error(`Invalid tile key: ${s}`);return{row:parseInt(l[1],10),column:parseInt(l[2],10)}}const Kr={rows:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}},columns:{single:{duration:500,waveDelay:50,startDelay:0},double:{duration:500,waveDelay:50,startDelay:500},triple:{duration:500,waveDelay:50,startDelay:1e3},quad:{duration:3e3,waveDelay:50,startDelay:1500,beatCount:3}}};function Gh(s,l,i){const d=(u,c)=>{if(u>=1&&Rn("clear_combo_1",i+Kr[c].single.startDelay),u>=2&&Rn("clear_combo_2",i+Kr[c].double.startDelay),u>=3&&Rn("clear_combo_3",i+Kr[c].triple.startDelay),u>=4){const h=i+Kr[c].quad.startDelay;Rn("clear_combo_4",h);const y=800;Rn("heartbeat",h+100),Rn("heartbeat",h+100+y),Rn("heartbeat",h+100+y*2)}};d(s.length,"rows"),d(l.length,"columns")}function Vh(s,l){switch(l.type){case"COMPLETE_PLACEMENT":{if(!s.dragState.selectedShape||s.dragState.selectedShapeIndex===null)return s;const i=s.dragState.placementLocation||s.mouseGridLocation;if(!i)return s;const d=gs(s.dragState.selectedShape,i),u=new Map(s.tiles);for(const V of d)if(V.block.isFilled){const oe=Mn(V.location.row,V.location.column);u.set(oe,{isFilled:!0,color:V.block.color})}const{tiles:c,clearedRows:h,clearedColumns:y}=jh(u),m=h.map(V=>V.index),v=y.map(V=>V.index),p=performance.now(),g=zh(c,h,y,{...Kr,baseStartTime:p});Gh(m,v,p);const E=mh(m.length,v.length),_=s.score+E.pointsEarned,k=s.totalLinesCleared+m.length+v.length,M=He(s.stats,h,y),O=Array.from(g.entries()).map(([V,oe])=>({key:V,data:oe}));(E.pointsEarned>0||Array.from(g.values()).some(V=>V.isFilled))&&qe(_,O,s.nextShapes,s.savedShape,M).catch(V=>{console.error("Failed to save game state:",V)});const W=s.dragState.selectedShapeIndex,U=ih(g),D=[...s.nextShapes];if(s.queueSize===-1||s.shapesUsed<s.queueSize){const V=U?lh():ks();D.push(V)}const j=[...s.openRotationMenus];D.length>j.length&&j.push(!1);const G=[...s.newShapeAnimationStates];D.length>G.length&&G.push("none");const J=Bh(g,D,_,j);return{...s,gameState:J?"gameover":s.gameState,tiles:g,score:_,totalLinesCleared:k,stats:M,nextShapes:D,shapesUsed:s.shapesUsed,openRotationMenus:j,newShapeAnimationStates:G,shapeOptionBounds:new Array(D.length).fill(null),mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},hasPlacedFirstShape:!0,removingShapeIndex:W,shapeRemovalAnimationState:"removing"}}case"CLEANUP_ANIMATIONS":{const i=Uh(s.tiles);return i===s.tiles?s:{...s,tiles:i}}case"DEBUG_FILL_ROW":{const{row:i,excludeColumn:d,color:u}=l.value,c=new Map(s.tiles);for(let y=1;y<=10;y++)if(y!==d){const m=Mn(i,y);c.set(m,{color:u,isFilled:!0})}const h=Array.from(c.entries()).map(([y,m])=>({key:y,data:m}));return qe(void 0,h).catch(y=>{console.error("Failed to save tiles after debug fill row:",y)}),{...s,tiles:c}}case"DEBUG_FILL_COLUMN":{const{column:i,excludeRow:d,color:u}=l.value,c=new Map(s.tiles);for(let y=1;y<=10;y++)if(y!==d){const m=Mn(y,i);c.set(m,{color:u,isFilled:!0})}const h=Array.from(c.entries()).map(([y,m])=>({key:y,data:m}));return qe(void 0,h).catch(y=>{console.error("Failed to save tiles after debug fill column:",y)}),{...s,tiles:c}}case"DEBUG_REMOVE_BLOCK":{const{location:i}=l.value,d=new Map(s.tiles),u=Mn(i.row,i.column),c=d.get(u);c&&d.set(u,{...c,isFilled:!1});const h=Array.from(d.entries()).map(([y,m])=>({key:y,data:m}));return qe(void 0,h).catch(y=>{console.error("Failed to save tiles after debug remove block:",y)}),{...s,tiles:d}}case"DEBUG_ADD_BLOCK":{const{location:i,color:d}=l.value,u=new Map(s.tiles),c=Mn(i.row,i.column);u.set(c,{color:d,isFilled:!0});const h=Array.from(u.entries()).map(([y,m])=>({key:y,data:m}));return qe(void 0,h).catch(y=>{console.error("Failed to save tiles after debug add block:",y)}),{...s,tiles:u}}case"DEBUG_CLEAR_ALL":{const i=new Map;for(let u=1;u<=10;u++)for(let c=1;c<=10;c++){const h=Mn(u,c);i.set(h,{isFilled:!1,color:"grey"})}const d=Array.from(i.entries()).map(([u,c])=>({key:u,data:c}));return qe(void 0,d).catch(u=>{console.error("Failed to save tiles after debug clear all:",u)}),{...s,tiles:i}}case"GENERATE_SUPER_COMBO_PATTERN":{const i=new Map(s.tiles),d=Math.random()>.5;for(let c=1;c<=10;c++)for(let h=1;h<=10;h++){const y=Mn(c,h),m=c>=4&&c<=7,v=h>=4&&h<=7,p=m&&v&&c-4===h-4,g=m&&v&&c+h===11,E=d?p:g;(m||v)&&!E?i.set(y,{color:"blue",isFilled:!0}):E&&i.set(y,{color:"grey",isFilled:!1})}const u=Array.from(i.entries()).map(([c,h])=>({key:c,data:h}));return qe(void 0,u).catch(c=>{console.error("Failed to save tiles after generating super combo pattern:",c)}),{...s,tiles:i}}case"DEBUG_REPLACE_FIRST_SHAPE":{const{shape:i}=l.value;if(s.nextShapes.length===0){const u=[i];return qe(void 0,void 0,u,s.savedShape).catch(c=>{console.error("Failed to save shapes after debug replace:",c)}),{...s,nextShapes:u,openRotationMenus:[!1],shapeOptionBounds:[null],newShapeAnimationStates:["none"]}}const d=[...s.nextShapes.slice(1),i];return qe(void 0,void 0,d,s.savedShape).catch(u=>{console.error("Failed to save shapes after debug replace:",u)}),{...s,nextShapes:d,openRotationMenus:[...s.openRotationMenus.slice(1),!1],shapeOptionBounds:[...s.shapeOptionBounds.slice(1),null],newShapeAnimationStates:[...s.newShapeAnimationStates.slice(1),"none"]}}default:return s}}function Wh(s,l){switch(l.type){case"ADD_SCORE":{const{scoreData:i,mousePosition:d}=l.value,u=s.score+i.pointsEarned;return qe(u).catch(c=>{console.error("Failed to save score:",c)}),{...s,score:u,mousePosition:d||s.mousePosition}}case"SHOW_COIN_DISPLAY":return{...s,showCoinDisplay:!0};case"HIDE_COIN_DISPLAY":return{...s,showCoinDisplay:!1};case"SPEND_COIN":{const{shapeIndex:i,mousePosition:d}=l.value;if(s.score<=0)return{...s,insufficientFundsError:Date.now()};if(i<0||i>=s.nextShapes.length)return s;const u=Math.max(0,s.score-1),c=[...s.openRotationMenus];return c[i]=!0,qe(u).catch(h=>{console.error("Failed to save score:",h)}),{...s,score:u,openRotationMenus:c,mousePosition:d||s.mousePosition}}case"UPDATE_GEM_ICON_POSITION":return console.log("UPDATE_GEM_ICON_POSITION: new position =",l.value),{...s,gemIconPosition:l.value};default:return s}}function sd(s,l){return`R${s}C${l}`}const Hh=()=>{const s=new Map;for(let l=1;l<=10;l++)for(let i=1;i<=10;i++)s.set(sd(l,i),{isFilled:!1,color:"grey"});return s},ad={gameState:"playing",currentLevel:0,isMapUnlocked:!1,mousePosition:{x:window.innerWidth/2,y:window.innerHeight/2},gemIconPosition:{x:100,y:50},gridTileSize:null,gridBounds:null,tiles:Hh(),nextShapes:[],savedShape:null,mouseGridLocation:null,dragState:{phase:"none",selectedShape:null,selectedShapeIndex:null,isValidPlacement:!1,hoveredBlockPositions:[],invalidBlockPositions:[],sourcePosition:null,targetPosition:null,placementLocation:null,placementStartPosition:null,startTime:null,dragOffsets:null},removingShapeIndex:null,shapeRemovalAnimationState:"none",newShapeAnimationStates:[],shapeOptionBounds:[],score:0,totalLinesCleared:0,showCoinDisplay:!1,queueSize:-1,shapesUsed:0,openRotationMenus:[],hasPlacedFirstShape:!1,isTurningModeActive:!1,turningDirection:null,isDoubleTurnModeActive:!1,unlockedModifiers:new Set,hasLoadedPersistedState:!1,clearingAnimations:[],stats:Np,isStatsOpen:!1,insufficientFundsError:null};function Qh(s,l){switch(l.type){case"SET_LEVEL":{const{levelIndex:i}=l.value;return{...s,currentLevel:i}}case"OPEN_MAP":return{...s,gameState:"map"};case"CLOSE_MAP":return{...s,gameState:"playing"};case"UNLOCK_MAP":return{...s,isMapUnlocked:!0};case"UNLOCK_MODIFIER":{const{primeId:i}=l.value,d=new Set(s.unlockedModifiers);return d.add(i),Gp(d).catch(u=>{console.error("Failed to save unlocked modifiers:",u)}),{...s,unlockedModifiers:d}}case"LOAD_MODIFIERS":{const{unlockedModifiers:i}=l.value;return{...s,unlockedModifiers:i}}case"LOAD_STATS":{const{stats:i}=l.value;return{...s,stats:i}}case"TRIGGER_BACKGROUND_MUSIC":return s;case"ACTIVATE_TURNING_MODE":{const{direction:i}=l.value;return s.score<2?{...s,insufficientFundsError:Date.now()}:{...s,isTurningModeActive:!0,turningDirection:i,isDoubleTurnModeActive:!1}}case"DEACTIVATE_TURNING_MODE":return{...s,isTurningModeActive:!1,turningDirection:null};case"ACTIVATE_DOUBLE_TURN_MODE":return s.score<3?{...s,insufficientFundsError:Date.now()}:{...s,isDoubleTurnModeActive:!0,isTurningModeActive:!1,turningDirection:null};case"DEACTIVATE_DOUBLE_TURN_MODE":return{...s,isDoubleTurnModeActive:!1};case"LOAD_GAME_STATE":{const{gameData:i}=l.value,d=new Map;let u=!1;Array.isArray(i.tiles)&&i.tiles.forEach(h=>{h.block.isFilled&&(u=!0),d.set(sd(h.location.row,h.location.column),{isFilled:h.block.isFilled,color:h.block.color})});const c=i.score>0||u;return{...s,score:i.score,tiles:d,nextShapes:i.nextShapes||s.nextShapes,savedShape:i.savedShape||s.savedShape,hasLoadedPersistedState:!0,hasPlacedFirstShape:c||s.hasPlacedFirstShape}}case"RESET_GAME":return{...ad,stats:{...s.stats,current:JSON.parse(JSON.stringify(Xr))},unlockedModifiers:s.unlockedModifiers,isMapUnlocked:s.isMapUnlocked,isStatsOpen:!1};case"OPEN_STATS":return{...s,isStatsOpen:!0};case"CLOSE_STATS":return{...s,isStatsOpen:!1};case"INITIALIZATION_COMPLETE":return{...s,hasLoadedPersistedState:!0};case"CLEANUP_ANIMATIONS":return s;case"DEBUG_INCREMENT_STATS":{let i=JSON.parse(JSON.stringify(s.stats));return["blue","green","red","yellow","purple","orange"].forEach(u=>{i=He(i,[{index:1,color:u}],[]),i=He(i,[{index:1,color:u},{index:2,color:u}],[]),i=He(i,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[]),i=He(i,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[]),i=He(i,[],[{index:1,color:u}]),i=He(i,[],[{index:1,color:u},{index:2,color:u}]),i=He(i,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),i=He(i,[],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}]),i=He(i,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u}]),i=He(i,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u}]),i=He(i,[{index:1,color:u},{index:2,color:u},{index:3,color:u}],[{index:1,color:u},{index:2,color:u}]),i=He(i,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u}]),i=He(i,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),i=He(i,[{index:1,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u}]),i=He(i,[{index:1,color:u}],[{index:1,color:u}]),i=He(i,[{index:1,color:u},{index:2,color:u}],[{index:1,color:u},{index:2,color:u}]),i=He(i,[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}],[{index:1,color:u},{index:2,color:u},{index:3,color:u},{index:4,color:u}])}),qe(void 0,void 0,void 0,void 0,i).catch(u=>{console.error("Failed to save stats after debug increment:",u)}),{...s,stats:i}}default:return s}}const bh=ad;function qh(s,l){let i=s;return i=Vh(i,l),i=_h(i,l),i=Rh(i,l),i=Wh(i,l),i=Qh(i,l),i}function Yh(){const{tiles:s,dragState:l}=st(),i=ft(),d=A.useRef(null),{gridSize:u,gridGap:c,gridCellSize:h}=Zr(),{isDebugMode:y,handleDebugClick:m}=Th();A.useEffect(()=>{const g=setInterval(()=>{i({type:"CLEANUP_ANIMATIONS"})},1e3);return()=>clearInterval(g)},[i]),A.useEffect(()=>{const g=E=>{E.key==="Escape"&&l.selectedShape&&!y&&i({type:"RETURN_SHAPE_TO_SELECTOR"})};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[l.selectedShape,i,y]);const v=A.useMemo(()=>{const g=[];return s.forEach((E,_)=>{const{row:k,column:M}=$h(_);g.push({id:`(row: ${k}, column: ${M})`,location:{row:k,column:M},block:{isFilled:E.isFilled,color:E.color}})}),g.sort((E,_)=>E.location.row!==_.location.row?E.location.row-_.location.row:E.location.column-_.location.column),g},[s]),p=new Map(l.hoveredBlockPositions.map(g=>[`${g.location.row},${g.location.column}`,g.block]));return w.jsx("div",{ref:d,className:`grid ${l.selectedShape?"grid-dragging":""}`,style:{"--grid-gap":`${c}px`,"--grid-size":`${u}px`},children:v.map(g=>{const E=`${g.location.row},${g.location.column}`,_=p.get(E),k=(_==null?void 0:_.isFilled)??!1;return w.jsx(Ph,{tile:g,isHovered:k,hoveredBlock:_,onClick:y?()=>m(g.location):void 0,size:h},g.id)})})}const Kh=({shape:s,shapeIndex:l,shapeOptionFullSize:i})=>{const d=ft(),{dragState:u,isTurningModeActive:c,turningDirection:h,isDoubleTurnModeActive:y,removingShapeIndex:m,shapeRemovalAnimationState:v,shapeOptionBounds:p,score:g}=st(),E=A.useRef(null),_=m===l&&v==="removing",k=p[l]===null||p[l]===void 0,M=4,O=1,W=O*3,D=(i-M*2-W)/4,j=A.useMemo(()=>Es(s),[s]),G=A.useMemo(()=>{const ce=D+O,he=j.minCol+(j.width-1)/2,xe=j.minRow+(j.height-1)/2,me=1.5,ye=(me-he)*ce,Se=(me-xe)*ce;return{x:ye,y:Se}},[j,D,O]);A.useEffect(()=>{if(E.current&&k){const ce=E.current.getBoundingClientRect();d({type:"SET_SHAPE_OPTION_BOUNDS",value:{index:l,bounds:{top:ce.top,left:ce.left,width:ce.width,height:ce.height}}})}},[d,l,s,k]),A.useEffect(()=>{if(m===l&&v==="removing"){const ce=setTimeout(()=>{d({type:"COMPLETE_SHAPE_REMOVAL"})},Ts.REMOVAL_DURATION);return()=>clearTimeout(ce)}},[m,l,v,d]);const J=A.useCallback(ce=>{if(ce.preventDefault(),!_){if(c){g>=2?(d({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-2}}}),d({type:"ROTATE_SHAPE",value:{shapeIndex:l,clockwise:h==="cw"}}),d({type:"DEACTIVATE_TURNING_MODE"})):d({type:"DEACTIVATE_TURNING_MODE"});return}if(y){g>=3?(d({type:"ADD_SCORE",value:{scoreData:{rowsCleared:0,columnsCleared:0,pointsEarned:-3}}}),d({type:"ROTATE_SHAPE",value:{shapeIndex:l,clockwise:!0}}),d({type:"ROTATE_SHAPE",value:{shapeIndex:l,clockwise:!0}}),d({type:"DEACTIVATE_DOUBLE_TURN_MODE"})):d({type:"DEACTIVATE_DOUBLE_TURN_MODE"});return}u.selectedShapeIndex!==l&&d({type:"SELECT_SHAPE",value:{shapeIndex:l}})}},[d,l,u.selectedShapeIndex,c,h,y,_,g]),Z=u.selectedShapeIndex===l,V=_?s.map(ce=>ce.map(he=>({...he,isFilled:!1}))):s,oe=Z?0:1;return w.jsx("div",{ref:E,className:`shape-container${Z?" selected":""}`,style:{"--shape-cell-size":`${D}px`,"--shape-cell-gap":`${O}px`,"--centering-offset-x":`${G.x}px`,"--centering-offset-y":`${G.y}px`,opacity:oe,transition:"opacity 0.15s ease-out"},onPointerDown:J,children:V.map((ce,he)=>ce.map((xe,me)=>w.jsx("div",{className:"shape-tile-visual",children:w.jsx(Ps,{block:xe,size:D})},`${he}-${me}`)))})},ps=new WeakMap;let Xh=0;const Jh=s=>(ps.has(s)||ps.set(s,`shape-${++Xh}`),ps.get(s)),Zh=()=>{const s=ft(),{nextShapes:l,removingShapeIndex:i,shapeRemovalAnimationState:d}=st(),u=A.useMemo(()=>{const U=[];for(let j=0;j<3;j++)U.push(ks());return U},[]);A.useEffect(()=>{l.length===0&&s({type:"SET_AVAILABLE_SHAPES",value:{shapes:u}})},[s,u,l.length]);const c=l,{gameControlsLength:h}=Zr(),y=window.innerWidth>=window.innerHeight,m=32,v=12,p=m*2,g=v*2,k=(h-p-g)/(3*1.05)*1.05,M=h,O=3*k+2*m,W=Math.max(0,(M-g-O)/2);return w.jsx("div",{className:"shape-selector",style:{"--shape-selector-width":y?"auto":`${M}px`,"--shape-selector-height":y?`${M}px`:"auto",paddingLeft:y?`${v}px`:`${v+W}px`,paddingTop:y?`${v+W}px`:`${v}px`,"--wrapper-gap":`${m}px`},children:w.jsx("div",{className:`shape-selector-shapes-container ${y?"shape-selector-shapes-container-landscape":"shape-selector-shapes-container-portrait"}`,style:{},children:c.map((U,D)=>{const j=i===D&&d==="removing";return w.jsx("div",{className:`shape-selector-shape-wrapper${j?" removing":""}`,"data-landscape":y?"1":"0",style:{"--shape-wrapper-size":`${k}px`,"--is-landscape":y?"1":"0"},children:w.jsx(Kh,{shape:U,shapeIndex:D,shapeOptionFullSize:k})},Jh(U))})})})},em=()=>{const s=ft(),l=st(),{gameControlsWidth:i}=Zr(),d=()=>{l.gameState==="playing"&&(l.isTurningModeActive&&l.turningDirection==="cw"?s({type:"DEACTIVATE_TURNING_MODE"}):s({type:"ACTIVATE_TURNING_MODE",value:{direction:"cw"}}))},u=()=>{l.gameState==="playing"&&(l.isTurningModeActive&&l.turningDirection==="ccw"?s({type:"DEACTIVATE_TURNING_MODE"}):s({type:"ACTIVATE_TURNING_MODE",value:{direction:"ccw"}}))},c=()=>{l.gameState==="playing"&&(l.isDoubleTurnModeActive?s({type:"DEACTIVATE_DOUBLE_TURN_MODE"}):s({type:"ACTIVATE_DOUBLE_TURN_MODE"}))},h=l.score<2&&!l.isTurningModeActive||l.gameState!=="playing",y=l.score<2&&!l.isTurningModeActive||l.gameState!=="playing",m=l.score<3&&!l.isDoubleTurnModeActive||l.gameState!=="playing",v=l.isTurningModeActive&&l.turningDirection==="cw",p=l.isTurningModeActive&&l.turningDirection==="ccw",g=l.isDoubleTurnModeActive,E=12,k=12*2,M=E*2,W=(i-k-M)/3;return w.jsxs("div",{className:"purchases-container",style:{"--button-size":`${W}px`},children:[w.jsxs("button",{className:`purchases-container-button purchases-container-button-clockwise ${v?"active":""} ${h?"disabled":""}`,onClick:d,title:h?"Need 2 points to buy clockwise turn":"Buy clockwise turn (2 points)",children:[w.jsx("div",{className:"purchases-container-icon",children:""}),w.jsx("div",{className:"purchases-container-cost",children:"-2"})]}),w.jsxs("button",{className:`purchases-container-button purchases-container-button-double-turn ${g?"active":""} ${m?"disabled":""}`,onClick:c,title:m?"Need 3 points to buy double turn":"Buy double turn (3 points)",children:[w.jsx("div",{className:"purchases-container-icon",children:""}),w.jsx("div",{className:"purchases-container-cost",children:"-3"})]}),w.jsxs("button",{className:`purchases-container-button purchases-container-button-counter-clockwise ${p?"active":""} ${y?"disabled":""}`,onClick:u,title:y?"Need 2 points to buy counter-clockwise turn":"Buy counter-clockwise turn (2 points)",children:[w.jsx("div",{className:"purchases-container-icon",children:""}),w.jsx("div",{className:"purchases-container-cost",children:"-2"})]})]})},tm=()=>{const{gameControlsLength:s,gameControlsWidth:l}=Zr(),i=window.innerWidth>=window.innerHeight;return w.jsxs("div",{className:"game-controls-panel",style:{"--controls-height":i?`${s}px`:`${l}px`,"--controls-width":i?`${l}px`:`${s}px`},children:[w.jsx(Zh,{}),w.jsx(em,{})]})},nm=({startPosition:s,velocity:l,onComplete:i,delay:d=0,size:u=40})=>{const[c,h]=A.useState(s),[y,m]=A.useState(0),v=A.useRef(),p=A.useRef(),g=A.useRef({startPosition:s,velocity:l,onComplete:i,delay:d}),E=1500,_=450,k=100,M=.7;return A.useEffect(()=>{const{startPosition:O,velocity:W,onComplete:U,delay:D}=g.current,j=setTimeout(()=>{p.current=performance.now();const G=J=>{if(!p.current)return;const Z=(J-p.current)/1e3,V=Z*1e3;if(V>=E){U();return}const oe=O.x+W.x*Z,ce=O.y+W.y*Z+.5*_*Z*Z,he=V/E;let xe=1;if(V<k)xe=V/k;else if(he>=M){const me=(he-M)/(1-M);xe=Math.max(0,1-me)}h({x:oe,y:ce}),m(xe),v.current=requestAnimationFrame(G)};v.current=requestAnimationFrame(G)},D);return()=>{clearTimeout(j),v.current&&cancelAnimationFrame(v.current)}},[]),w.jsx("div",{className:"gem-particle",style:{"--particle-x":`${c.x}px`,"--particle-y":`${c.y}px`,"--particle-opacity":y},children:w.jsx(ld,{size:u})})},rm=()=>{const{score:s,gemIconPosition:l,hasLoadedPersistedState:i}=st(),[d,u]=A.useState([]),c=A.useRef(null),h=A.useMemo(()=>({x:window.innerWidth/2,y:window.innerHeight/2}),[]),y=A.useMemo(()=>l,[l]);A.useEffect(()=>{if(!i)return;if(c.current===null){c.current=s;return}if(s===c.current)return;const p=s-c.current,g=Math.abs(p),E=p>0;if(g===0){c.current=s;return}const _=E?h:y,k=g>=10,M=k?Math.min(Math.floor(g/10),10):g;console.log(`GemShower: score change=${p}, pointsForEffect=${g}, gemsToShow=${M}, useLargeGems=${k}`);const O=m(M,_,E,k);console.log(`GemShower: generated ${O.length} gems`),u(W=>[...W,...O]),c.current=s},[s,h,y,i]);const m=(p,g,E,_=!1)=>{const k=[];let O=0;for(let W=0;W<p;W++){let U,D;if(E){const j=(60+Math.random()*60)*(Math.PI/180),G=100+Math.random()*200,J=Math.random()>.5?1:-1,Z=.3+Math.random()*.7;U=G*Math.cos(j)*J*Z,D=-G*Math.sin(j)}else U=(Math.random()*3-1.5)*60,D=0;k.push({id:`gem-${W}-${Date.now()}-${Math.random()}`,startPosition:{...g},velocity:{x:U,y:D},delay:O,size:_?80:40}),O+=10}return k},v=p=>{u(g=>g.filter(E=>E.id!==p))};return w.jsx("div",{className:"gem-shower-container",children:d.map(p=>w.jsx(nm,{startPosition:p.startPosition,velocity:p.velocity,delay:p.delay,size:p.size,onComplete:()=>v(p.id)},p.id))})},om=()=>w.jsx("div",{className:"game-over-overlay",children:w.jsxs("div",{className:"game-over-content",children:[w.jsx("h1",{className:"game-over-title",children:"Game Over"}),w.jsx("p",{className:"game-over-subtitle",children:"Check your stats to see how you did!"})]})}),lm=()=>{const{gameState:s,isStatsOpen:l}=st();return s!=="playing"&&s!=="gameover"?null:w.jsxs("div",{className:"tetrix",children:[w.jsx(Yh,{}),w.jsx(tm,{}),w.jsx(rm,{}),s==="gameover"&&!l&&w.jsx(om,{})]})},im=()=>{const{currentLevel:s}=st(),l=ft(),[i,d]=A.useState(s.toString()),u=h=>{h.preventDefault();const y=Number.parseInt(i,10);!Number.isNaN(y)&&y>=0&&(l({type:"SET_LEVEL",value:{levelIndex:y}}),l({type:"CLOSE_MAP"}))},c=()=>{l({type:"CLOSE_MAP"})};return w.jsx("div",{className:"game-map-overlay",children:w.jsxs("div",{className:"game-map",children:[w.jsxs("div",{className:"game-map-header",children:[w.jsx("h1",{children:"Level Map"}),w.jsx("button",{className:"close-button",onClick:c,type:"button",children:""})]}),w.jsxs("div",{className:"map-content",children:[w.jsxs("div",{className:"current-level-display",children:[w.jsx("span",{className:"current-level-label",children:"Current Level:"}),w.jsx("span",{className:"current-level-value",children:s})]}),w.jsxs("form",{onSubmit:u,className:"level-selector-form",children:[w.jsx("label",{htmlFor:"level-input",className:"level-input-label",children:"Enter Level Index:"}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{id:"level-input",type:"number",value:i,onChange:h=>d(h.target.value),min:"0",max:"999",className:"level-input",placeholder:"0",autoFocus:!0}),w.jsx("button",{type:"submit",className:"level-submit-button",children:"Go to Level"})]})]}),w.jsxs("div",{className:"map-placeholder",children:[w.jsx("p",{className:"placeholder-text",children:" Full level map coming soon!"}),w.jsx("p",{className:"placeholder-description",children:"This will show a visual grid of levels with different challenges, modifiers, and progression paths."})]})]})]})})};function sm(){const[s,l]=A.useState(!1),i=()=>{const d=document.documentElement;d.requestFullscreen&&!s&&(d.requestFullscreen(),l(!0))};return A.useEffect(()=>{const d=()=>{document.fullscreenElement?l(!0):l(!1)};return document.addEventListener("fullscreenchange",d),()=>{document.removeEventListener("fullscreenchange",d)}}),s?null:w.jsx("button",{className:"full-screen-button",onClick:i,"aria-label":"Enter Full Screen",children:w.jsx("span",{children:"+"})})}const am=({onClose:s,onStartPlaying:l})=>{const[i,d]=A.useState(0),u=A.useCallback(()=>{localStorage.setItem("hasSeenTutorial","true"),l(),s()},[s,l]),c=[{title:"Drag & Drop",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/DragAndDrop.gif",alt:"Drag and drop demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Drag shapes from the queue and place them on the 10x10 grid."})]})},{title:"Clear Lines",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/Get10InARow.gif",alt:"Clear lines demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Fill an entire row or column to clear it and earn points."})]})},{title:"Combo Bonuses",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/ClearUpTo4LinesInARow.gif",alt:"Combo bonus demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Clear multiple lines at once to earn massive point bonuses!"})]})},{title:"Rotate Shapes",content:w.jsxs("div",{className:"tutorial-media",children:[w.jsx("img",{src:"/assets/TurnShapes.gif",alt:"Rotate shapes demonstration"}),w.jsx("p",{className:"tutorial-description",children:"Spend your hard-earned points to rotate shapes that don't fit."})]})}],h=A.useCallback(()=>{i<c.length-1&&d(i+1)},[i,c.length]),y=A.useCallback(()=>{i>0&&d(i-1)},[i]),m=A.useCallback(v=>{d(v)},[]);return Ae.useEffect(()=>{const v=p=>{p.key==="Escape"&&u()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[u]),ws.createPortal(w.jsx("div",{className:"tutorial-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"tutorial-title",children:w.jsxs("div",{className:"tutorial-content",children:[w.jsx("button",{className:"tutorial-close-x",onClick:u,"aria-label":"Close tutorial",title:"Close tutorial",children:""}),w.jsxs("div",{className:"tutorial-slide",children:[w.jsx("h2",{id:"tutorial-title",className:"tutorial-title",children:c[i].title}),w.jsx("div",{className:"tutorial-body",children:c[i].content})]}),w.jsxs("div",{className:"tutorial-navigation",children:[w.jsx("button",{className:"tutorial-nav-button",onClick:y,disabled:i===0,"aria-label":"Previous slide",children:" Previous"}),w.jsx("div",{className:"tutorial-dots",children:c.map((v,p)=>w.jsx("button",{className:`tutorial-dot ${p===i?"active":""}`,onClick:()=>m(p),"aria-label":`Go to slide ${p+1}`},`slide-${p}-${v.title}`))}),i<c.length-1?w.jsx("button",{className:"tutorial-nav-button",onClick:h,"aria-label":"Next slide",children:"Next "}):w.jsx("button",{className:"tutorial-nav-button tutorial-close-button",onClick:u,"aria-label":"Close tutorial",children:"Start Playing"})]})]})}),document.body)};function um(){var ue;const{dragState:s,mousePosition:l,shapeOptionBounds:i}=st(),d=ft(),{playSound:u}=Ns(),[c,h]=A.useState(0),[y,m]=A.useState(0),[v,p]=A.useState(0),{state:g}=hl(),{gridSize:E,gridGap:_}=Zr(),{PICKUP_DURATION:k,PLACING_DURATION:M,RETURN_DURATION:O,PLACEMENT_SOUND_DURATION:W,INVALID_BLOCK_ANIMATION_DURATION:U}=Ts,D=4,j=1,G=_,J=9*G,Z=(E-J)/10,V=((ue=s.dragOffsets)==null?void 0:ue.touchOffset)??0;if(A.useEffect(()=>{s.phase==="picking-up"&&s.startTime&&u("pickup_shape")},[s.phase,s.startTime,u]),A.useEffect(()=>{if(s.phase!=="picking-up"||!s.sourcePosition){h(s.phase==="dragging"?1:0);return}const te=performance.now(),X=se=>{const ie=se-te,de=Math.min(ie/k,1),Pe=1-Math.pow(1-de,3);h(Pe),de<1?requestAnimationFrame(X):h(1)};requestAnimationFrame(X)},[s.phase,s.sourcePosition,k]),A.useEffect(()=>{if(s.phase!=="placing"||!s.targetPosition){m(0);return}const X=M-W,se=performance.now();let ie=!1;const de=Pe=>{const pt=Pe-se,ar=Math.min(pt/M,1);!ie&&pt>=X&&(ie=!0,u("click_into_place"));const In=Math.pow(ar,3);m(In),ar>=1?d({type:"COMPLETE_PLACEMENT"}):requestAnimationFrame(de)};requestAnimationFrame(de)},[s.phase,s.targetPosition,d,u,M]),A.useEffect(()=>{if(s.phase!=="returning"||!s.sourcePosition){p(0);return}const te=performance.now(),X=se=>{const ie=se-te,de=Math.min(ie/O,1),Pe=1-Math.pow(1-de,3);p(Pe),de>=1?d({type:"COMPLETE_RETURN"}):requestAnimationFrame(X)};requestAnimationFrame(X)},[s.phase,s.sourcePosition,d,O]),!s.selectedShape||s.selectedShapeIndex===null||s.phase==="none")return null;const oe=s.selectedShape,ce=s.sourcePosition;let he=Z,xe={x:0,y:0};if(ce){const te=ce.width-D*2,X=j*3;he=(te-X)/4,xe={x:ce.x+ce.width/2,y:ce.y+ce.height/2}}let me=Z,ye=G,Se={x:0,y:0},De=1;const we=(te,X)=>{const se=Es(oe),ie=te+X,de=se.minCol+(se.width-1)/2,Pe=se.minRow+(se.height-1)/2,pt=1.5;return{x:(pt-de)*ie,y:(pt-Pe)*ie}};if(s.phase==="picking-up"&&ce){me=he+(Z-he)*c,ye=j+(G-j)*c;const te=l.x,X=l.y-V;Se={x:xe.x+(te-xe.x)*c,y:xe.y+(X-xe.y)*c}}else if(s.phase==="dragging")me=Z,ye=G,Se={x:l.x,y:l.y-V};else if(s.phase==="placing"&&s.targetPosition){me=Z,ye=G;const te=s.placementStartPosition??l,X=te.x,se=te.y-V,ie=s.targetPosition.x,de=s.targetPosition.y;Se={x:X+(ie-X)*y,y:se+(de-se)*y},De=1-.05*Math.sin(y*Math.PI)}else if(s.phase==="returning"&&ce){me=Z+(he-Z)*v,ye=G+(j-G)*v;const te=l.x,X=l.y-V;Se={x:te+(xe.x-te)*v,y:X+(xe.y-X)*v},De=1-.2*v}const $=we(me,ye),ee=4*me+3*ye,H=4*me+3*ye,N=Se.x-ee/2,L=Se.y-H/2;if(!Number.isFinite(L)||!Number.isFinite(N))return null;const ae=new Set(s.invalidBlockPositions.map(te=>`${te.shapeRow},${te.shapeCol}`));return w.jsx("div",{className:`dragging-shape-container ${s.phase==="dragging"?"dragging-phase":""}`,style:{"--container-top":`${L}px`,"--container-left":`${N}px`,"--tile-size":`${me}px`,"--grid-gap":`${ye}px`,"--scale":De,"--centering-offset-x":`${$.x}px`,"--centering-offset-y":`${$.y}px`,"--invalid-anim-duration":`${U}ms`},children:oe.map((te,X)=>te.map((se,ie)=>{const de=`${X},${ie}`,Pe=ae.has(de),pt=(X*4+ie)*50;return w.jsx("div",{className:`dragging-shape-cell ${Pe?"invalid-cell":""}`,style:{transform:"translate(var(--centering-offset-x), var(--centering-offset-y))"},children:w.jsxs("div",{className:"wiggle-wrapper",style:{"--wiggle-delay":`${pt}ms`},children:[se.isFilled&&w.jsx(Ps,{block:se,size:Pe?me*.5:me}),!se.isFilled&&g.isEditorOpen&&g.showGridDots&&w.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"white",opacity:.6,pointerEvents:"none"}})]})},`${X}-${ie}`)}))})}const cm=()=>{const[s,l]=A.useState([]);return A.useEffect(()=>{const i=d=>{const u={id:Date.now(),text:d.detail.message};l(c=>[...c,u]),setTimeout(()=>{l(c=>c.filter(h=>h.id!==u.id))},3e3)};return window.addEventListener("tetrix-show-toast",i),()=>{window.removeEventListener("tetrix-show-toast",i)}},[]),w.jsx("div",{className:"toast-overlay-container",children:s.map(i=>w.jsx("div",{className:"toast-message",children:i.text},i.id))})},dm=()=>{const{gameState:s,dragState:l,gridTileSize:i,gridBounds:d,tiles:u}=st(),c=ft(),{triggerAutoplay:h}=pl(),{playSound:y}=Ns(),[m,v]=A.useState(!1),p=A.useRef(null);return A.useEffect(()=>{localStorage.getItem("hasSeenTutorial")||v(!0)},[]),A.useEffect(()=>{const g=E=>{const _={x:E.clientX,y:E.clientY};if(l.phase==="placing"||l.phase==="returning"){c({type:"UPDATE_MOUSE_LOCATION",value:{location:null,position:_,tileSize:i,gridBounds:d,isValid:!1,invalidBlocks:[]}});return}let k=null,M=i,O=d,W=!1,U=[];if(l.selectedShape&&(p.current||(p.current=document.querySelector(".grid")),p.current)){const D=p.current,j=D.getBoundingClientRect();O||(O={top:j.top,left:j.left,width:j.width,height:j.height});const G=l.dragOffsets;if(!G){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE");return}M=G.tileSize,k=Ac(E.clientX,E.clientY,D,{rows:10,columns:10},G.touchOffset,l.selectedShape,{gridOffsetX:G.gridOffsetX,gridOffsetY:G.gridOffsetY,tileSize:G.tileSize,gridGap:G.gridGap}),k&&(W=vs(l.selectedShape,k,u),U=Xp(l.selectedShape,k,u))}c({type:"UPDATE_MOUSE_LOCATION",value:{location:k,position:_,tileSize:M,gridBounds:O,isValid:W,invalidBlocks:U}})};return document.addEventListener("pointermove",g),()=>{document.removeEventListener("pointermove",g),p.current=null}},[c,l.selectedShape,l.dragOffsets,l.hoveredBlockPositions,l.isValidPlacement,l.invalidBlockPositions,l.phase,i,d,u]),A.useEffect(()=>{const g=E=>{if(!l.selectedShape)return;p.current||(p.current=document.querySelector(".grid"));const _=p.current;if(!_){c({type:"RETURN_SHAPE_TO_SELECTOR"});return}const k=l.dragOffsets;if(!k){console.error("dragOffsets not available - this indicates a logic error in SELECT_SHAPE"),c({type:"RETURN_SHAPE_TO_SELECTOR"});return}const M=Ac(E.clientX,E.clientY,_,{rows:10,columns:10},k.touchOffset,l.selectedShape,{gridOffsetX:k.gridOffsetX,gridOffsetY:k.gridOffsetY,tileSize:k.tileSize,gridGap:k.gridGap});if(M===null||!vs(l.selectedShape,M,u)){y("invalid_placement"),c({type:"RETURN_SHAPE_TO_SELECTOR"});return}c({type:"PLACE_SHAPE",value:{location:M,mousePosition:{x:E.clientX,y:E.clientY}}})};return document.addEventListener("pointerup",g),()=>{document.removeEventListener("pointerup",g)}},[c,l.selectedShape,l.dragOffsets,u,y]),w.jsxs("div",{className:"App",children:[w.jsx(kh,{onShowTutorial:()=>v(!0)}),w.jsx("div",{className:"game-container",children:s==="playing"?w.jsx(lm,{}):w.jsx(im,{})}),w.jsx(sm,{}),m&&w.jsx(am,{onClose:()=>v(!1),onStartPlaying:h}),w.jsx(dh,{}),w.jsx(um,{}),w.jsx(cm,{})]})};function fm({children:s}){const[l,i]=A.useReducer(qh,bh),[d,u]=A.useState(!1);return A.useEffect(()=>{(async()=>{var h;try{console.log("TetrixProvider: Attempting to load saved game state...");const[y,m,v]=await Promise.all([Wp(),Vp(),Zc()]);i({type:"LOAD_MODIFIERS",value:{unlockedModifiers:m}}),v&&i({type:"LOAD_STATS",value:{stats:v}}),(y==null?void 0:y.tiles.length)===100?(console.log("TetrixProvider: Found valid saved game state, restoring...",{score:y.score,tilesCount:y.tiles.length,shapesCount:y.nextShapes.length,hasSavedShape:!!y.savedShape}),i({type:"LOAD_GAME_STATE",value:{gameData:y}})):console.log("TetrixProvider: No valid saved game state found (tiles count:",((h=y==null?void 0:y.tiles)==null?void 0:h.length)??"undefined",")")}catch(y){console.error("Failed to load saved game state:",y)}finally{i({type:"INITIALIZATION_COMPLETE"}),u(!0)}})()},[]),d?w.jsx(nd.Provider,{value:l,children:w.jsx(rd.Provider,{value:i,children:s})}):null}class pm extends A.Component{constructor(){super(...arguments);Ec(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(i){return console.log("Error boundary caught error:",i),{hasError:!0,error:i,errorInfo:null}}componentDidCatch(i,d){console.error("Uncaught error:",i,d),console.log("Error boundary activated!"),this.setState({error:i,errorInfo:d})}render(){var i;return this.state.hasError?w.jsx("div",{className:"rant-error-boundary-container",children:w.jsxs("div",{className:"rant-error-boundary-content",children:[w.jsx("h1",{className:"rant-error-boundary-title",children:"Application Error"}),w.jsxs("div",{className:"rant-error-boundary-details",children:[w.jsx("strong",{children:"Error Details:"}),w.jsx("br",{}),((i=this.state.error)==null?void 0:i.message)||"Unknown error occurred"]}),w.jsx("p",{className:"rant-error-boundary-message",children:"The application has encountered an error and cannot continue. Please refresh the page to restart the application."}),w.jsx("button",{onClick:()=>globalThis.location.reload(),className:"rant-error-boundary-button",children:"Refresh Page"}),w.jsx("div",{className:"rant-error-boundary-footer",children:"If this problem persists, maybe try not clicking that button so much next time."})]})}):this.props.children}}mp.createRoot(document.getElementById("root")).render(w.jsx(A.StrictMode,{children:w.jsx(pm,{children:w.jsx(Ch,{children:w.jsx(bp,{children:w.jsx(fm,{children:w.jsx(Yp,{children:w.jsx(dm,{})})})})})})}));
